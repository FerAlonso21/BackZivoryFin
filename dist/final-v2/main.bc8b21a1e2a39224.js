var E2=Object.defineProperty,C2=Object.defineProperties,I2=Object.getOwnPropertyDescriptors,JM=Object.getOwnPropertySymbols,D2=Object.prototype.hasOwnProperty,T2=Object.prototype.propertyIsEnumerable,XM=(Ze,H,M)=>H in Ze?E2(Ze,H,{enumerable:!0,configurable:!0,writable:!0,value:M}):Ze[H]=M,eO=(Ze,H)=>{for(var M in H||(H={}))D2.call(H,M)&&XM(Ze,M,H[M]);if(JM)for(var M of JM(H))T2.call(H,M)&&XM(Ze,M,H[M]);return Ze},tO=(Ze,H)=>C2(Ze,I2(H));(self.webpackChunkFinalV2=self.webpackChunkFinalV2||[]).push([[179],{2011:(Ze,H,M)=>{"use strict";M.d(H,{hO:()=>Se,xv:()=>le,Dh:()=>G,GT:()=>Z,cc:()=>De,on:()=>z,pX:()=>B});var u=M(5e3),R=M(127),A=M(5813);Ze=M.hmd(Ze);const L=["ngOnDestroy"],B=(Ee,Ue,Ve,ke={})=>new Proxy(Ee,{get:(Fe,ge)=>Ve.runOutsideAngular(()=>{var Ne;if(Ee[ge])return(null===(Ne=null==ke?void 0:ke.spy)||void 0===Ne?void 0:Ne.get)&&ke.spy.get(ge,Ee[ge]),Ee[ge];if(L.indexOf(ge)>-1)return()=>{};const se=Ue.toPromise().then(U=>{const ve=U&&U[ge];return"function"==typeof ve?ve.bind(U):ve&&ve.then?ve.then(J=>Ve.run(()=>J)):Ve.run(()=>ve)});return new Proxy(()=>{},{get:(U,ve)=>se[ve],apply:(U,ve,J)=>se.then(ne=>{var ue;const de=ne&&ne(...J);return(null===(ue=null==ke?void 0:ke.spy)||void 0===ue?void 0:ue.apply)&&ke.spy.apply(ge,J,de),de})})})}),Z=(Ee,Ue)=>{Ue.forEach(Ve=>{Object.getOwnPropertyNames(Ve.prototype||Ve).forEach(ke=>{Object.defineProperty(Ee.prototype,ke,Object.getOwnPropertyDescriptor(Ve.prototype||Ve,ke))})})};class W{constructor(Ue){return Ue}}const G=new u.OlP("angularfire2.app.options"),le=new u.OlP("angularfire2.app.name");function z(Ee,Ue,Ve){const Fe="object"==typeof Ve&&Ve||{};Fe.name=Fe.name||"string"==typeof Ve&&Ve||"[DEFAULT]";const Ne=R.Z.apps.filter(se=>se&&se.name===Fe.name)[0]||Ue.runOutsideAngular(()=>R.Z.initializeApp(Ee,Fe));try{JSON.stringify(Ee)!==JSON.stringify(Ne.options)&&K("error",`${Ne.name} Firebase App already initialized with different options${Ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(se){}return new W(Ne)}const K=(Ee,...Ue)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Ee](...Ue)},X={provide:W,useFactory:z,deps:[G,u.R0b,[new u.FiY,le]]};let Se=(()=>{class Ee{constructor(Ve){R.Z.registerVersion("angularfire",A.q4.full,"core"),R.Z.registerVersion("angularfire",A.q4.full,"app-compat"),R.Z.registerVersion("angular",u.q4F.full,Ve.toString())}static initializeApp(Ve,ke){return{ngModule:Ee,providers:[{provide:G,useValue:Ve},{provide:le,useValue:ke}]}}}return Ee.\u0275fac=function(Ve){return new(Ve||Ee)(u.LFG(u.Lbi))},Ee.\u0275mod=u.oAB({type:Ee}),Ee.\u0275inj=u.cJS({providers:[X]}),Ee})();function De(Ee,Ue,Ve,ke,Fe){const[,ge,Ne]=globalThis.\u0275AngularfireInstanceCache.find(se=>se[0]===Ee)||[];if(ge)return function Ae(Ee,Ue){try{return Ee.toString()===Ue.toString()}catch(Ve){return Ee===Ue}}(Fe,Ne)||(_e("error",`${Ue} was already initialized on the ${Ve} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Fe,was:Ne})),ge;{const se=ke();return globalThis.\u0275AngularfireInstanceCache.push([Ee,se,Fe]),se}}const Je=!!Ze.hot,_e=(Ee,...Ue)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Ee](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ze,H,M)=>{"use strict";M.d(H,{q4:()=>Ho,iC:()=>zo,HU:()=>tl,vb:()=>lh,JM:()=>Xu,u3:()=>Wl});var u=M(5e3),R=M(5867),A=M(5861),L=M(9681),B=M(2090),Z=M(4859),W=M(1877),G=M(8766);const le="@firebase/installations",z="0.5.10",X=`w:${z}`,Se="FIS_v2",Ue=new B.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ve(T){return T instanceof B.ZR&&T.code.includes("request-failed")}function ke({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Fe(T){return{token:T.token,requestStatus:2,expiresIn:ne(T.expiresIn),creationTime:Date.now()}}function ge(T,S){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,A.Z)(function*(T,S){const q=(yield S.json()).error;return Ue.create("request-failed",{requestName:T,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function se({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function U(T,{refreshToken:S}){const F=se(T);return F.append("Authorization",function ue(T){return`${Se} ${T}`}(S)),F}function ve(T){return J.apply(this,arguments)}function J(){return(J=(0,A.Z)(function*(T){const S=yield T();return S.status>=500&&S.status<600?T():S})).apply(this,arguments)}function ne(T){return Number(T.replace("s","000"))}function de(T,S){return be.apply(this,arguments)}function be(){return(be=(0,A.Z)(function*({appConfig:T,heartbeatServiceProvider:S},{fid:F}){const q=ke(T),fe=se(T),pe=S.getImmediate({optional:!0});if(pe){const Xt=yield pe.getHeartbeatsHeader();Xt&&fe.append("x-firebase-client",Xt)}const lt={method:"POST",headers:fe,body:JSON.stringify({fid:F,authVersion:Se,appId:T.appId,sdkVersion:X})},At=yield ve(()=>fetch(q,lt));if(At.ok){const Xt=yield At.json();return{fid:Xt.fid||F,registrationStatus:2,refreshToken:Xt.refreshToken,authToken:Fe(Xt.authToken)}}throw yield ge("Create Installation",At)})).apply(this,arguments)}function ze(T){return new Promise(S=>{setTimeout(S,T)})}const Qt=/^[cdef][\w-]{21}$/;function Xe(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const F=function Nt(T){return function mt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Qt.test(F)?F:""}catch(T){return""}}function cn(T){return`${T.appName}!${T.appId}`}const dn=new Map;function Wt(T,S){const F=cn(T);sn(F,S),function Nn(T,S){const F=function En(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=T=>{sn(T.data.key,T.data.fid)}),Pn}();F&&F.postMessage({key:T,fid:S}),function ri(){0===dn.size&&Pn&&(Pn.close(),Pn=null)}()}(F,S)}function sn(T,S){const F=dn.get(T);if(F)for(const q of F)q(S)}let Pn=null;const qn="firebase-installations-store";let xr=null;function ct(){return xr||(xr=(0,G.X3)("firebase-installations-database",1,{upgrade:(T,S)=>{0===S&&T.createObjectStore(qn)}})),xr}function Vn(T,S){return On.apply(this,arguments)}function On(){return(On=(0,A.Z)(function*(T,S){const F=cn(T),fe=(yield ct()).transaction(qn,"readwrite"),pe=fe.objectStore(qn),Pe=yield pe.get(F);return yield pe.put(S,F),yield fe.done,(!Pe||Pe.fid!==S.fid)&&Wt(T,S.fid),S})).apply(this,arguments)}function Ft(T){return fr.apply(this,arguments)}function fr(){return(fr=(0,A.Z)(function*(T){const S=cn(T),q=(yield ct()).transaction(qn,"readwrite");yield q.objectStore(qn).delete(S),yield q.done})).apply(this,arguments)}function or(T,S){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,A.Z)(function*(T,S){const F=cn(T),fe=(yield ct()).transaction(qn,"readwrite"),pe=fe.objectStore(qn),Pe=yield pe.get(F),lt=S(Pe);return void 0===lt?yield pe.delete(F):yield pe.put(lt,F),yield fe.done,lt&&(!Pe||Pe.fid!==lt.fid)&&Wt(T,lt.fid),lt})).apply(this,arguments)}function _t(T){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,A.Z)(function*(T){let S;const F=yield or(T.appConfig,q=>{const fe=Or(q),pe=Ut(T,fe);return S=pe.registrationPromise,pe.installationEntry});return""===F.fid?{installationEntry:yield S}:{installationEntry:F,registrationPromise:S}})).apply(this,arguments)}function Or(T){return Ri(T||{fid:Xe(),registrationStatus:0})}function Ut(T,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Ue.create("app-offline"))};const F={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},q=function it(T,S){return et.apply(this,arguments)}(T,F);return{installationEntry:F,registrationPromise:q}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:zr(T)}:{installationEntry:S}}function et(){return(et=(0,A.Z)(function*(T,S){try{const F=yield de(T,S);return Vn(T.appConfig,F)}catch(F){throw Ve(F)&&409===F.customData.serverCode?yield Ft(T.appConfig):yield Vn(T.appConfig,{fid:S.fid,registrationStatus:0}),F}})).apply(this,arguments)}function zr(T){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,A.Z)(function*(T){let S=yield St(T.appConfig);for(;1===S.registrationStatus;)yield ze(100),S=yield St(T.appConfig);if(0===S.registrationStatus){const{installationEntry:F,registrationPromise:q}=yield _t(T);return q||F}return S})).apply(this,arguments)}function St(T){return or(T,S=>{if(!S)throw Ue.create("installation-not-found");return Ri(S)})}function Ri(T){return function Un(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function yn(T,S){return ee.apply(this,arguments)}function ee(){return(ee=(0,A.Z)(function*({appConfig:T,heartbeatServiceProvider:S},F){const q=oe(T,F),fe=U(T,F),pe=S.getImmediate({optional:!0});if(pe){const Xt=yield pe.getHeartbeatsHeader();Xt&&fe.append("x-firebase-client",Xt)}const lt={method:"POST",headers:fe,body:JSON.stringify({installation:{sdkVersion:X,appId:T.appId}})},At=yield ve(()=>fetch(q,lt));if(At.ok)return Fe(yield At.json());throw yield ge("Generate Auth Token",At)})).apply(this,arguments)}function oe(T,{fid:S}){return`${ke(T)}/${S}/authTokens:generate`}function ce(T){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,A.Z)(function*(T,S=!1){let F;const q=yield or(T.appConfig,pe=>{if(!Mt(pe))throw Ue.create("not-registered");const Pe=pe.authToken;if(!S&&vn(Pe))return pe;if(1===Pe.requestStatus)return F=Y(T,S),pe;{if(!navigator.onLine)throw Ue.create("app-offline");const lt=Xn(pe);return F=st(T,lt),lt}});return F?yield F:q.authToken})).apply(this,arguments)}function Y(T,S){return me.apply(this,arguments)}function me(){return(me=(0,A.Z)(function*(T,S){let F=yield He(T.appConfig);for(;1===F.authToken.requestStatus;)yield ze(100),F=yield He(T.appConfig);const q=F.authToken;return 0===q.requestStatus?ce(T,S):q})).apply(this,arguments)}function He(T){return or(T,S=>{if(!Mt(S))throw Ue.create("not-registered");return function Ie(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function st(T,S){return wt.apply(this,arguments)}function wt(){return(wt=(0,A.Z)(function*(T,S){try{const F=yield yn(T,S),q=Object.assign(Object.assign({},S),{authToken:F});return yield Vn(T.appConfig,q),F}catch(F){if(!Ve(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const q=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Vn(T.appConfig,q)}else yield Ft(T.appConfig);throw F}})).apply(this,arguments)}function Mt(T){return void 0!==T&&2===T.registrationStatus}function vn(T){return 2===T.requestStatus&&!function Ot(T){const S=Date.now();return S<T.creationTime||T.creationTime+T.expiresIn<S+36e5}(T)}function Xn(T){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:S})}function ae(){return(ae=(0,A.Z)(function*(T){const S=T,{installationEntry:F,registrationPromise:q}=yield _t(S);return q?q.catch(console.error):ce(S).catch(console.error),F.fid})).apply(this,arguments)}function tt(){return(tt=(0,A.Z)(function*(T,S=!1){const F=T;return yield yt(F),(yield ce(F,S)).token})).apply(this,arguments)}function yt(T){return kt.apply(this,arguments)}function kt(){return(kt=(0,A.Z)(function*(T){const{registrationPromise:S}=yield _t(T);S&&(yield S)})).apply(this,arguments)}function vo(T){return Ue.create("missing-app-config-values",{valueName:T})}const It="installations",zt=T=>{const S=T.getProvider("app").getImmediate(),F=function pr(T){if(!T||!T.options)throw vo("App Configuration");if(!T.name)throw vo("App Name");const S=["projectId","apiKey","appId"];for(const F of S)if(!T.options[F])throw vo(F);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(S);return{app:S,appConfig:F,heartbeatServiceProvider:(0,L._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},xn=T=>{const S=T.getProvider("app").getImmediate(),F=(0,L._getProvider)(S,It).getImmediate();return{getId:()=>function he(T){return ae.apply(this,arguments)}(F),getToken:fe=>function Be(T){return tt.apply(this,arguments)}(F,fe)}};(function Br(){(0,L._registerComponent)(new Z.wA(It,zt,"PUBLIC")),(0,L._registerComponent)(new Z.wA("installations-internal",xn,"PRIVATE"))})(),(0,L.registerVersion)(le,z),(0,L.registerVersion)(le,z,"esm2017");const Gi="@firebase/remote-config",kn=new B.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qa{constructor(S,F,q,fe){this.client=S,this.storage=F,this.storageCache=q,this.logger=fe}isCachedDataFresh(S,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-F,fe=q<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${fe}.`),fe}fetch(S){var F=this;return(0,A.Z)(function*(){const[q,fe]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(fe&&F.isCachedDataFresh(S.cacheMaxAgeMillis,q))return fe;S.eTag=fe&&fe.eTag;const pe=yield F.client.fetch(S),Pe=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Pe.push(F.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Pe),pe})()}}function zi(T=navigator){return T.languages&&T.languages[0]||T.language}class er{constructor(S,F,q,fe,pe,Pe){this.firebaseInstallations=S,this.sdkVersion=F,this.namespace=q,this.projectId=fe,this.apiKey=pe,this.appId=Pe}fetch(S){var F=this;return(0,A.Z)(function*(){var q,fe,pe;const[Pe,lt]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,rn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Rt={sdk_version:F.sdkVersion,app_instance_id:Pe,app_instance_id_token:lt,app_id:F.appId,language_code:zi()},Qr={method:"POST",headers:rn,body:JSON.stringify(Rt)},Er=fetch(Xt,Qr),Ai=new Promise((rs,ws)=>{S.signal.addEventListener(()=>{const nl=new Error("The operation was aborted.");nl.name="AbortError",ws(nl)})});let ns;try{yield Promise.race([Er,Ai]),ns=yield Er}catch(rs){let ws="fetch-client-network";throw"AbortError"===(null===(q=rs)||void 0===q?void 0:q.name)&&(ws="fetch-timeout"),kn.create(ws,{originalErrorMessage:null===(fe=rs)||void 0===fe?void 0:fe.message})}let Fi=ns.status;const fu=ns.headers.get("ETag")||void 0;let xa,_s;if(200===ns.status){let rs;try{rs=yield ns.json()}catch(ws){throw kn.create("fetch-client-parse",{originalErrorMessage:null===(pe=ws)||void 0===pe?void 0:pe.message})}xa=rs.entries,_s=rs.state}if("INSTANCE_STATE_UNSPECIFIED"===_s?Fi=500:"NO_CHANGE"===_s?Fi=304:("NO_TEMPLATE"===_s||"EMPTY_CONFIG"===_s)&&(xa={}),304!==Fi&&200!==Fi)throw kn.create("fetch-status",{httpStatus:Fi});return{status:Fi,eTag:fu,config:xa}})()}}class qi{constructor(S,F){this.client=S,this.storage=F}fetch(S){var F=this;return(0,A.Z)(function*(){const q=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(S,q)})()}attemptFetch(S,{throttleEndTimeMillis:F,backoffCount:q}){var fe=this;return(0,A.Z)(function*(){yield function Wa(T,S){return new Promise((F,q)=>{const fe=Math.max(S-Date.now(),0),pe=setTimeout(F,fe);T.addEventListener(()=>{clearTimeout(pe),q(kn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,F);try{const pe=yield fe.client.fetch(S);return yield fe.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function Nl(T){if(!(T instanceof B.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}(pe))throw pe;const Pe={throttleEndTimeMillis:Date.now()+(0,B.$s)(q),backoffCount:q+1};return yield fe.storage.setThrottleMetadata(Pe),fe.attemptFetch(S,Pe)}})()}}class Uc{constructor(S,F,q,fe,pe){this.app=S,this._client=F,this._storageCache=q,this._storage=fe,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _o(T,S){var F;const q=T.target.error||void 0;return kn.create(S,{originalErrorMessage:q&&(null===(F=q)||void 0===F?void 0:F.message)})}const Ws="app_namespace_store";class Qa{constructor(S,F,q,fe=function Ks(){return new Promise((T,S)=>{var F;try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=fe=>{S(_o(fe,"storage-open"))},q.onsuccess=fe=>{T(fe.target.result)},q.onupgradeneeded=fe=>{0===fe.oldVersion&&fe.target.result.createObjectStore(Ws,{keyPath:"compositeKey"})}}catch(q){S(kn.create("storage-open",{originalErrorMessage:null===(F=q)||void 0===F?void 0:F.message}))}})}()){this.appId=S,this.appName=F,this.namespace=q,this.openDbPromise=fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var F=this;return(0,A.Z)(function*(){const q=yield F.openDbPromise;return new Promise((fe,pe)=>{var Pe;const At=q.transaction([Ws],"readonly").objectStore(Ws),Xt=F.createCompositeKey(S);try{const rn=At.get(Xt);rn.onerror=Rt=>{pe(_o(Rt,"storage-get"))},rn.onsuccess=Rt=>{const Qr=Rt.target.result;fe(Qr?Qr.value:void 0)}}catch(rn){pe(kn.create("storage-get",{originalErrorMessage:null===(Pe=rn)||void 0===Pe?void 0:Pe.message}))}})})()}set(S,F){var q=this;return(0,A.Z)(function*(){const fe=yield q.openDbPromise;return new Promise((pe,Pe)=>{var lt;const Xt=fe.transaction([Ws],"readwrite").objectStore(Ws),rn=q.createCompositeKey(S);try{const Rt=Xt.put({compositeKey:rn,value:F});Rt.onerror=Qr=>{Pe(_o(Qr,"storage-set"))},Rt.onsuccess=()=>{pe()}}catch(Rt){Pe(kn.create("storage-set",{originalErrorMessage:null===(lt=Rt)||void 0===lt?void 0:lt.message}))}})})()}delete(S){var F=this;return(0,A.Z)(function*(){const q=yield F.openDbPromise;return new Promise((fe,pe)=>{var Pe;const At=q.transaction([Ws],"readwrite").objectStore(Ws),Xt=F.createCompositeKey(S);try{const rn=At.delete(Xt);rn.onerror=Rt=>{pe(_o(Rt,"storage-delete"))},rn.onsuccess=()=>{fe()}}catch(rn){pe(kn.create("storage-delete",{originalErrorMessage:null===(Pe=rn)||void 0===Pe?void 0:Pe.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Ys{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,A.Z)(function*(){const F=S.storage.getLastFetchStatus(),q=S.storage.getLastSuccessfulFetchTimestampMillis(),fe=S.storage.getActiveConfig(),pe=yield F;pe&&(S.lastFetchStatus=pe);const Pe=yield q;Pe&&(S.lastSuccessfulFetchTimestampMillis=Pe);const lt=yield fe;lt&&(S.activeConfig=lt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function rh(){return wo.apply(this,arguments)}function wo(){return(wo=(0,A.Z)(function*(){if(!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch(T){return!1}})).apply(this,arguments)}!function jc(){(0,L._registerComponent)(new Z.wA("remote-config",function T(S,{instanceIdentifier:F}){const q=S.getProvider("app").getImmediate(),fe=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kn.create("registration-window");if(!(0,B.hl)())throw kn.create("indexed-db-unavailable");const{projectId:pe,apiKey:Pe,appId:lt}=q.options;if(!pe)throw kn.create("registration-project-id");if(!Pe)throw kn.create("registration-api-key");if(!lt)throw kn.create("registration-app-id");const At=new Qa(lt,q.name,F=F||"firebase"),Xt=new Ys(At),rn=new W.Yd(Gi);rn.logLevel=W.in.ERROR;const Rt=new er(fe,L.SDK_VERSION,F,pe,Pe,lt),Qr=new qi(Rt,At),Er=new qa(Qr,At,Xt,rn),Ai=new Uc(q,Er,Xt,At,rn);return function _n(T){const S=(0,B.m9)(T);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Ai),Ai},"PUBLIC").setMultipleInstances(!0)),(0,L.registerVersion)(Gi,"0.3.9"),(0,L.registerVersion)(Gi,"0.3.9","esm2017")}();const cs="/firebase-messaging-sw.js",oi="/firebase-cloud-messaging-push-scope",Qs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Eo="google.c.a.c_id",Ll="google.c.a.c_l",$c="google.c.a.ts",ds="google.c.a.e";var ki=(()=>{return(T=ki||(ki={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",ki;var T})();function bi(T){const S=new Uint8Array(T);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $u(T){const F=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(F),fe=new Uint8Array(q.length);for(let pe=0;pe<q.length;++pe)fe[pe]=q.charCodeAt(pe);return fe}const kr="fcm_token_details_db",Hu="fcm_token_object_Store";function Zu(T){return ua.apply(this,arguments)}function ua(){return ua=(0,A.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(kr))return null;let S=null;return(yield(0,G.X3)(kr,5,{upgrade:(q=(0,A.Z)(function*(fe,pe,Pe,lt){var At;if(pe<2||!fe.objectStoreNames.contains(Hu))return;const Xt=lt.objectStore(Hu),rn=yield Xt.index("fcmSenderId").get(T);if(yield Xt.clear(),rn)if(2===pe){const Rt=rn;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;S={token:Rt.fcmToken,createTime:null!==(At=Rt.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:bi(Rt.vapidKey)}}}else if(3===pe){const Rt=rn;S={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:bi(Rt.auth),p256dh:bi(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:bi(Rt.vapidKey)}}}else if(4===pe){const Rt=rn;S={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:bi(Rt.auth),p256dh:bi(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:bi(Rt.vapidKey)}}}}),function(pe,Pe,lt,At){return q.apply(this,arguments)})})).close(),yield(0,G.Lj)(kr),yield(0,G.Lj)("fcm_vapid_details_db"),yield(0,G.Lj)("undefined"),la(S)?S:null;var q}),ua.apply(this,arguments)}function la(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:S}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Ki="firebase-messaging-store";let Xa=null;function Cn(){return Xa||(Xa=(0,G.X3)("firebase-messaging-database",1,{upgrade:(T,S)=>{0===S&&T.createObjectStore(Ki)}})),Xa}function Os(T){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,A.Z)(function*(T){const S=gr(T),q=yield(yield Cn()).transaction(Ki).objectStore(Ki).get(S);if(q)return q;{const fe=yield Zu(T.appConfig.senderId);if(fe)return yield wn(T,fe),fe}})).apply(this,arguments)}function wn(T,S){return da.apply(this,arguments)}function da(){return(da=(0,A.Z)(function*(T,S){const F=gr(T),fe=(yield Cn()).transaction(Ki,"readwrite");return yield fe.objectStore(Ki).put(S,F),yield fe.done,S})).apply(this,arguments)}function Co(T){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,A.Z)(function*(T){const S=gr(T),q=(yield Cn()).transaction(Ki,"readwrite");yield q.objectStore(Ki).delete(S),yield q.done})).apply(this,arguments)}function gr({appConfig:T}){return T.appId}const $n=new B.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qi(T,S){return ar.apply(this,arguments)}function ar(){return(ar=(0,A.Z)(function*(T,S){const F=yield fs(T),q=Do(S),fe={method:"POST",headers:F,body:JSON.stringify(q)};let pe;try{pe=yield(yield fetch(hs(T.appConfig),fe)).json()}catch(Pe){throw $n.create("token-subscribe-failed",{errorInfo:Pe})}if(pe.error)throw $n.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw $n.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function Js(T,S){return ai.apply(this,arguments)}function ai(){return(ai=(0,A.Z)(function*(T,S){const F=yield fs(T),q=Do(S.subscriptionOptions),fe={method:"PATCH",headers:F,body:JSON.stringify(q)};let pe;try{pe=yield(yield fetch(`${hs(T.appConfig)}/${S.token}`,fe)).json()}catch(Pe){throw $n.create("token-update-failed",{errorInfo:Pe})}if(pe.error)throw $n.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw $n.create("token-update-no-token");return pe.token})).apply(this,arguments)}function ha(T,S){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,A.Z)(function*(T,S){const q={method:"DELETE",headers:yield fs(T)};try{const pe=yield(yield fetch(`${hs(T.appConfig)}/${S}`,q)).json();if(pe.error)throw $n.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(fe){throw $n.create("token-unsubscribe-failed",{errorInfo:fe})}})).apply(this,arguments)}function hs({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function fs(T){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,A.Z)(function*({appConfig:T,installations:S}){const F=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function Do({p256dh:T,auth:S,endpoint:F,vapidKey:q}){const fe={web:{endpoint:F,auth:S,p256dh:T}};return q!==Qs&&(fe.web.applicationPubKey=q),fe}const To=6048e5;function eu(T){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,A.Z)(function*(T){const S=yield Hn(T.swRegistration,T.vapidKey),F={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:S.endpoint,auth:bi(S.getKey("auth")),p256dh:bi(S.getKey("p256dh"))},q=yield Os(T.firebaseDependencies);if(q){if(eo(q.subscriptionOptions,F))return Date.now()>=q.createTime+To?Vl(T,{token:q.token,createTime:Date.now(),subscriptionOptions:F}):q.token;try{yield ha(T.firebaseDependencies,q.token)}catch(fe){console.warn(fe)}return Bt(T.firebaseDependencies,F)}return Bt(T.firebaseDependencies,F)})).apply(this,arguments)}function Xs(T){return So.apply(this,arguments)}function So(){return(So=(0,A.Z)(function*(T){const S=yield Os(T.firebaseDependencies);S&&(yield ha(T.firebaseDependencies,S.token),yield Co(T.firebaseDependencies));const F=yield T.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function Vl(T,S){return je.apply(this,arguments)}function je(){return(je=(0,A.Z)(function*(T,S){try{const F=yield Js(T.firebaseDependencies,S),q=Object.assign(Object.assign({},S),{token:F,createTime:Date.now()});return yield wn(T.firebaseDependencies,q),F}catch(F){throw yield Xs(T),F}})).apply(this,arguments)}function Bt(T,S){return xo.apply(this,arguments)}function xo(){return(xo=(0,A.Z)(function*(T,S){const q={token:yield Qi(T,S),createTime:Date.now(),subscriptionOptions:S};return yield wn(T,q),q.token})).apply(this,arguments)}function Hn(T,S){return ps.apply(this,arguments)}function ps(){return(ps=(0,A.Z)(function*(T,S){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$u(S)})})).apply(this,arguments)}function eo(T,S){return S.vapidKey===T.vapidKey&&S.endpoint===T.endpoint&&S.auth===T.auth&&S.p256dh===T.p256dh}function Nr(T){const S={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function fa(T,S){if(!S.notification)return;T.notification={};const F=S.notification.title;F&&(T.notification.title=F);const q=S.notification.body;q&&(T.notification.body=q);const fe=S.notification.image;fe&&(T.notification.image=fe)}(S,T),function tu(T,S){!S.data||(T.data=S.data)}(S,T),function Gu(T,S){var F,q,fe,pe,Pe;if(!S.fcmOptions&&!(null===(F=S.notification)||void 0===F?void 0:F.click_action))return;T.fcmOptions={};const lt=null!==(fe=null===(q=S.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==fe?fe:null===(pe=S.notification)||void 0===pe?void 0:pe.click_action;lt&&(T.fcmOptions.link=lt);const At=null===(Pe=S.fcmOptions)||void 0===Pe?void 0:Pe.analytics_label;At&&(T.fcmOptions.analyticsLabel=At)}(S,T),S}function zu(T){return"object"==typeof T&&!!T&&Eo in T}function Mo(T,S){const F=[];for(let q=0;q<T.length;q++)F.push(T.charAt(q)),q<S.length&&F.push(S.charAt(q));return F.join("")}function ur(T){return $n.create("missing-app-config-values",{valueName:T})}Mo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Mo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ci{constructor(S,F,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const fe=function to(T){if(!T||!T.options)throw ur("App Configuration Object");if(!T.name)throw ur("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:F}=T;for(const q of S)if(!F[q])throw ur(q);return{appName:T.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:fe,installations:F,analyticsProvider:q}}_delete(){return Promise.resolve()}}function nu(T){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,A.Z)(function*(T){var S;try{T.swRegistration=yield navigator.serviceWorker.register(cs,{scope:oi}),T.swRegistration.update().catch(()=>{})}catch(F){throw $n.create("failed-service-worker-registration",{browserErrorMessage:null===(S=F)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function Ji(T,S){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,A.Z)(function*(T,S){if(!S&&!T.swRegistration&&(yield nu(T)),S||!T.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");T.swRegistration=S}})).apply(this,arguments)}function ru(T,S){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,A.Z)(function*(T,S){S?T.vapidKey=S:T.vapidKey||(T.vapidKey=Qs)})).apply(this,arguments)}function Ps(){return(Ps=(0,A.Z)(function*(T,S){if(!navigator)throw $n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $n.create("permission-blocked");return yield ru(T,null==S?void 0:S.vapidKey),yield Ji(T,null==S?void 0:S.serviceWorkerRegistration),eu(T)})).apply(this,arguments)}function su(T,S,F){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,A.Z)(function*(T,S,F){const q=pa(S);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:F[Eo],message_name:F[Ll],message_time:F[$c],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pa(T){switch(T){case ki.NOTIFICATION_CLICKED:return"notification_open";case ki.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function no(){return(no=(0,A.Z)(function*(T,S){const F=S.data;if(!F.isFirebaseMessaging)return;T.onMessageHandler&&F.messageType===ki.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Nr(F)):T.onMessageHandler.next(Nr(F)));const q=F.data;zu(q)&&"1"===q[ds]&&(yield su(T,F.messageType,q))})).apply(this,arguments)}const gs="@firebase/messaging",Xi=T=>{const S=new Ci(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function Hc(T,S){return no.apply(this,arguments)}(S,F)),S},qu=T=>{const S=T.getProvider("messaging").getImmediate();return{getToken:q=>function iu(T,S){return Ps.apply(this,arguments)}(S,q)}};function ro(){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,A.Z)(function*(){try{yield(0,B.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,B.hl)()&&(0,B.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ul(){(0,L._registerComponent)(new Z.wA("messaging",Xi,"PUBLIC")),(0,L._registerComponent)(new Z.wA("messaging-internal",qu,"PRIVATE")),(0,L.registerVersion)(gs,"0.9.14"),(0,L.registerVersion)(gs,"0.9.14","esm2017")}();const ou="analytics",$l="firebase_id",Po="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ma="https://www.googletagmanager.com/gtag/js",lr=new W.Yd("@firebase/analytics");function au(T){return Promise.all(T.map(S=>S.catch(F=>F)))}function ks(T,S){const F=document.createElement("script");F.src=`${ma}?l=${T}&id=${S}`,F.async=!0,document.head.appendChild(F)}function Wu(T,S,F,q,fe,pe){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,A.Z)(function*(T,S,F,q,fe,pe){const Pe=q[fe];try{if(Pe)yield S[Pe];else{const At=(yield au(F)).find(Xt=>Xt.measurementId===fe);At&&(yield S[At.appId])}}catch(lt){lr.error(lt)}T("config",fe,pe)})).apply(this,arguments)}function ui(T,S,F,q,fe){return ko.apply(this,arguments)}function ko(){return(ko=(0,A.Z)(function*(T,S,F,q,fe){try{let pe=[];if(fe&&fe.send_to){let Pe=fe.send_to;Array.isArray(Pe)||(Pe=[Pe]);const lt=yield au(F);for(const At of Pe){const Xt=lt.find(Rt=>Rt.measurementId===At),rn=Xt&&S[Xt.appId];if(!rn){pe=[];break}pe.push(rn)}}0===pe.length&&(pe=Object.values(S)),yield Promise.all(pe),T("event",q,fe||{})}catch(pe){lr.error(pe)}})).apply(this,arguments)}function Zn(){const T=window.document.getElementsByTagName("script");for(const S of Object.values(T))if(S.src&&S.src.includes(ma))return S;return null}const ft=new B.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),C=new class b{constructor(S={},F=1e3){this.throttleMetadata=S,this.intervalMillis=F}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,F){this.throttleMetadata[S]=F}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function O(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Q(T){return Me.apply(this,arguments)}function Me(){return(Me=(0,A.Z)(function*(T){var S;const{appId:F,apiKey:q}=T,fe={method:"GET",headers:O(q)},pe=Po.replace("{app-id}",F),Pe=yield fetch(pe,fe);if(200!==Pe.status&&304!==Pe.status){let lt="";try{const At=yield Pe.json();(null===(S=At.error)||void 0===S?void 0:S.message)&&(lt=At.error.message)}catch(At){}throw ft.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:lt})}return Pe.json()})).apply(this,arguments)}function dt(T){return In.apply(this,arguments)}function In(){return(In=(0,A.Z)(function*(T,S=C,F){const{appId:q,apiKey:fe,measurementId:pe}=T.options;if(!q)throw ft.create("no-app-id");if(!fe){if(pe)return{measurementId:pe,appId:q};throw ft.create("no-api-key")}const Pe=S.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new Zl;return setTimeout((0,A.Z)(function*(){lt.abort()}),void 0!==F?F:6e4),cr({appId:q,apiKey:fe,measurementId:pe},Pe,lt,S)})).apply(this,arguments)}function cr(T,S,F){return ht.apply(this,arguments)}function ht(){return(ht=(0,A.Z)(function*(T,{throttleEndTimeMillis:S,backoffCount:F},q,fe=C){const{appId:pe,measurementId:Pe}=T;try{yield Ns(q,S)}catch(lt){if(Pe)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${lt.message}]`),{appId:pe,measurementId:Pe};throw lt}try{const lt=yield Q(T);return fe.deleteThrottleMetadata(pe),lt}catch(lt){if(!va(lt)){if(fe.deleteThrottleMetadata(pe),Pe)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${lt.message}]`),{appId:pe,measurementId:Pe};throw lt}const At=503===Number(lt.customData.httpStatus)?(0,B.$s)(F,fe.intervalMillis,30):(0,B.$s)(F,fe.intervalMillis),Xt={throttleEndTimeMillis:Date.now()+At,backoffCount:F+1};return fe.setThrottleMetadata(pe,Xt),lr.debug(`Calling attemptFetch again in ${At} millis`),cr(T,Xt,q,fe)}})).apply(this,arguments)}function Ns(T,S){return new Promise((F,q)=>{const fe=Math.max(S-Date.now(),0),pe=setTimeout(F,fe);T.addEventListener(()=>{clearTimeout(pe),q(ft.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function va(T){if(!(T instanceof B.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Zl{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function zc(){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,A.Z)(function*(){if(!(0,B.hl)())return lr.warn(ft.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,B.eu)()}catch(T){return lr.warn(ft.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function Fs(){return(Fs=(0,A.Z)(function*(T,S,F,q,fe,pe,Pe){var lt;const At=dt(T);At.then(Er=>{F[Er.measurementId]=Er.appId,T.options.measurementId&&Er.measurementId!==T.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Er.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Er=>lr.error(Er)),S.push(At);const Xt=zc().then(Er=>{if(Er)return q.getId()}),[rn,Rt]=yield Promise.all([At,Xt]);Zn()||ks(pe,rn.measurementId),fe("js",new Date);const Qr=null!==(lt=null==Pe?void 0:Pe.config)&&void 0!==lt?lt:{};return Qr.origin="firebase",Qr.update=!0,null!=Rt&&(Qr[$l]=Rt),fe("config",rn.measurementId,Qr),rn.measurementId})).apply(this,arguments)}class No{constructor(S){this.app=S}_delete(){return delete Di[this.app.options.appId],Promise.resolve()}}let Di={},_a=[];const Fo={};let oo,ba,Lo="dataLayer",uu=!1;function Vo(T,S,F){!function lu(){const T=[];if((0,B.ru)()&&T.push("This is a browser extension environment."),(0,B.zI)()||T.push("Cookies are not available."),T.length>0){const S=T.map((q,fe)=>`(${fe+1}) ${q}`).join(" "),F=ft.create("invalid-analytics-context",{errorInfo:S});lr.warn(F.message)}}();const q=T.options.appId;if(!q)throw ft.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw ft.create("no-api-key");lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Di[q])throw ft.create("already-exists",{id:q});if(!uu){!function so(T){let S=[];Array.isArray(window[T])?S=window[T]:window[T]=S}(Lo);const{wrappedGtag:pe,gtagCore:Pe}=function Gc(T,S,F,q,fe){let pe=function(...Pe){window[q].push(arguments)};return window[fe]&&"function"==typeof window[fe]&&(pe=window[fe]),window[fe]=function Hl(T,S,F,q){function pe(){return(pe=(0,A.Z)(function*(Pe,lt,At){try{"event"===Pe?yield ui(T,S,F,lt,At):"config"===Pe?yield Wu(T,S,F,q,lt,At):T("set",lt)}catch(Xt){lr.error(Xt)}})).apply(this,arguments)}return function fe(Pe,lt,At){return pe.apply(this,arguments)}}(pe,T,S,F),{gtagCore:pe,wrappedGtag:window[fe]}}(Di,_a,Fo,Lo,"gtag");ba=pe,oo=Pe,uu=!0}return Di[q]=function Ku(T,S,F,q,fe,pe,Pe){return Fs.apply(this,arguments)}(T,_a,Fo,S,oo,Lo,F),new No(T)}function jr(){return(jr=(0,A.Z)(function*(T,S,F,q,fe){if(fe&&fe.global)T("event",F,q);else{const pe=yield S;T("event",F,Object.assign(Object.assign({},q),{send_to:pe}))}})).apply(this,arguments)}function Bo(){return jo.apply(this,arguments)}function jo(){return(jo=(0,A.Z)(function*(){if((0,B.ru)()||!(0,B.zI)()||!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch(T){return!1}})).apply(this,arguments)}const li="@firebase/analytics";!function Us(){(0,L._registerComponent)(new Z.wA(ou,(S,{options:F})=>Vo(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,L._registerComponent)(new Z.wA("analytics-internal",function T(S){try{const F=S.getProvider(ou).getImmediate();return{logEvent:(q,fe,pe)=>function Ia(T,S,F,q){T=(0,B.m9)(T),function Gl(T,S,F,q,fe){return jr.apply(this,arguments)}(ba,Di[T.app.options.appId],S,F,q).catch(fe=>lr.error(fe))}(F,q,fe,pe)}}catch(F){throw ft.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,L.registerVersion)(li,"0.7.10"),(0,L.registerVersion)(li,"0.7.10","esm2017")}();var $o=M(4408),dr=M(7565);const du=new class cu extends dr.v{}(class Da extends $o.o{constructor(S,F){super(S,F),this.scheduler=S,this.work=F}schedule(S,F=0){return F>0?super.schedule(S,F):(this.delay=F,this.state=S,this.scheduler.flush(this),this)}execute(S,F){return F>0||this.closed?super.execute(S,F):this._execute(S,F)}requestAsyncId(S,F,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(S,F,q):S.flush(this)}});var uh=M(4986),Yr=M(9751),Ti=M(8505),Ta=M(9468),Aa=M(5363);const Ho=new u.GfV("7.4.1"),Yu="__angularfire_symbol__analyticsIsSupportedValue",Bs="__angularfire_symbol__analyticsIsSupported",hu="__angularfire_symbol__remoteConfigIsSupportedValue",zl="__angularfire_symbol__remoteConfigIsSupported",Jt="__angularfire_symbol__messagingIsSupportedValue",Qu="__angularfire_symbol__messagingIsSupported";function Xu(T,S,F){if(S){if(1===S.length)return S[0];const pe=S.filter(Pe=>Pe.app===F);if(1===pe.length)return pe[0]}return F.container.getProvider(T).getImmediate({optional:!0})}globalThis[Bs]||(globalThis[Bs]=Bo().then(T=>globalThis[Yu]=T).catch(()=>globalThis[Yu]=!1)),globalThis[Qu]||(globalThis[Qu]=ro().then(T=>globalThis[Jt]=T).catch(()=>globalThis[Jt]=!1)),globalThis[zl]||(globalThis[zl]=rh().then(T=>globalThis[hu]=T).catch(()=>globalThis[hu]=!1));const lh=(T,S)=>{const F=S?[S]:(0,R.C6)(),q=[];return F.forEach(fe=>{fe.container.getProvider(T).instances.forEach(Pe=>{q.includes(Pe)||q.push(Pe)})}),q};function Lr(){}class ql{constructor(S,F=du){this.zone=S,this.delegate=F}now(){return this.delegate.now()}schedule(S,F,q){const fe=this.zone;return this.delegate.schedule(function(Pe){fe.runGuarded(()=>{S.apply(this,[Pe])})},F,q)}}class el{constructor(S){this.zone=S,this.task=null}call(S,F){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lr,{},Lr,Lr)),F.pipe((0,Ti.b)({next:q,complete:q,error:q})).subscribe(S).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tl=(()=>{class T{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new ql(Zone.current)),this.insideAngular=F.run(()=>new ql(Zone.current,uh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(F){return new(F||T)(u.LFG(u.R0b))},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Go(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function zn(T){return Go().ngZone.runOutsideAngular(()=>T())}function yr(T){return Go().ngZone.run(()=>T())}function zo(T){return Go(),function qo(T){return function(F){return(F=F.lift(new el(T.ngZone))).pipe((0,Ta.R)(T.outsideAngular),(0,Aa.Q)(T.insideAngular))}}(Go())(T)}const ch=(T,S)=>function(){const q=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),yr(()=>T.apply(void 0,q))},Wl=(T,S)=>function(){let F;const q=arguments;for(let pe=0;pe<arguments.length;pe++)"function"==typeof q[pe]&&(S&&(F||(F=yr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lr,{},Lr,Lr)))),q[pe]=ch(q[pe],F));const fe=zn(()=>T.apply(this,q));if(!S){if(fe instanceof Yr.y){const pe=Go();return fe.pipe((0,Ta.R)(pe.outsideAngular),(0,Aa.Q)(pe.insideAngular))}return yr(()=>fe)}return fe instanceof Yr.y?fe.pipe(zo):fe instanceof Promise?yr(()=>new Promise((pe,Pe)=>fe.then(lt=>yr(()=>pe(lt)),lt=>yr(()=>Pe(lt))))):"function"==typeof fe&&F?function(){return setTimeout(()=>{F&&"scheduled"===F.state&&F.invoke()},10),fe.apply(this,arguments)}:yr(()=>fe)}},2309:(Ze,H,M)=>{"use strict";M.d(H,{$:()=>hs,A:()=>K,B:()=>De,G:()=>xn,H:()=>on,J:()=>qi,L:()=>vn,M:()=>wo,N:()=>bo,P:()=>Yu,Q:()=>Eo,R:()=>Us,T:()=>Ll,U:()=>Qs,V:()=>ki,W:()=>bi,X:()=>Zu,Y:()=>Io,Z:()=>Qi,_:()=>Js,a:()=>tr,a0:()=>eu,a1:()=>Xs,a2:()=>Vl,a3:()=>Bt,a4:()=>Hn,a5:()=>eo,a6:()=>fa,a7:()=>tu,a8:()=>zu,a9:()=>Mo,aA:()=>xa,aB:()=>Er,aC:()=>Wl,aD:()=>ch,aE:()=>Qe,aI:()=>O,aL:()=>ds,aa:()=>nu,ab:()=>Ji,ac:()=>ru,af:()=>su,ag:()=>pa,ah:()=>Hc,ak:()=>Ki,al:()=>mr,an:()=>ma,ao:()=>Ii,ap:()=>Wn,aq:()=>ve,ar:()=>Kt,as:()=>yt,at:()=>Ve,au:()=>uo,av:()=>nl,aw:()=>ke,ax:()=>se,ay:()=>ne,az:()=>Ot,b:()=>ft,c:()=>fm,d:()=>ql,e:()=>lh,f:()=>F,g:()=>At,h:()=>pe,i:()=>Vo,j:()=>Rt,k:()=>ep,l:()=>du,m:()=>np,n:()=>f_,o:()=>G,q:()=>Bn,r:()=>uh,s:()=>dr,u:()=>Aa,y:()=>ou});var u=M(5861),R=M(2090),A=M(9681),L=M(655),B=M(1877),Z=M(4859);const G={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const De=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new B.Yd("@firebase/auth");function Ue(_,...p){Ee.logLevel<=B.in.ERROR&&Ee.error(`Auth (${A.SDK_VERSION}): ${_}`,...p)}function Ve(_,...p){throw Ne(_,...p)}function ke(_,...p){return Ne(_,...p)}function Fe(_,p,m){const E=Object.assign(Object.assign({},Ae()),{[p]:m});return new R.LL("auth","Firebase",E).create(p,{appName:_.name})}function ge(_,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ve(_,"argument-error"),Fe(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(_,...p){if("string"!=typeof _){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(m,...E)}return Je.create(_,...p)}function se(_,p,...m){if(!_)throw Ne(p,...m)}function U(_){const p="INTERNAL ASSERTION FAILED: "+_;throw Ue(p),new Error(p)}function ve(_,p){_||U(p)}const J=new Map;function ne(_){ve(_ instanceof Function,"Expected a class definition");let p=J.get(_);return p?(ve(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,J.set(_,p),p)}function be(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ze(){return"http:"===mt()||"https:"===mt()}function mt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Xe{constructor(p,m){this.shortDelay=p,this.longDelay=m,ve(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Qt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ze()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nt(_,p){ve(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class cn{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void U("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void U("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void U("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wt=new Xe(3e4,6e4);function xt(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function Gt(_,p,m,E){return sn.apply(this,arguments)}function sn(){return(sn=(0,u.Z)(function*(_,p,m,E,N={}){return Nn(_,N,(0,u.Z)(function*(){let j={},we={};E&&("GET"===p?we=E:j={body:JSON.stringify(E)});const Ge=(0,R.xO)(Object.assign({key:_.config.apiKey},we)).slice(1),at=yield _._getAdditionalHeaders();return at["Content-Type"]="application/json",_.languageCode&&(at["X-Firebase-Locale"]=_.languageCode),cn.fetch()(Vr(_,_.config.apiHost,m,Ge),Object.assign({method:p,headers:at,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function Nn(_,p,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(_,p,m){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},dn),p);try{const N=new Ur(_),j=yield Promise.race([m(),N.promise]);N.clearNetworkTimeout();const we=yield j.json();if("needConfirmation"in we)throw qn(_,"account-exists-with-different-credential",we);if(j.ok&&!("errorMessage"in we))return we;{const Ge=j.ok?we.errorMessage:we.error.message,[at,Dt]=Ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw qn(_,"credential-already-in-use",we);if("EMAIL_EXISTS"===at)throw qn(_,"email-already-in-use",we);if("USER_DISABLED"===at)throw qn(_,"user-disabled",we);const jt=E[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw Fe(_,jt,Dt);Ve(_,jt)}}catch(N){if(N instanceof R.ZR)throw N;Ve(_,"network-request-failed")}})).apply(this,arguments)}function En(_,p,m,E){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(_,p,m,E,N={}){const j=yield Gt(_,p,m,E,N);return"mfaPendingCredential"in j&&Ve(_,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function Vr(_,p,m,E){const N=`${p}${m}?${E}`;return _.config.emulator?Nt(_.config,N):`${_.config.apiScheme}://${N}`}class Ur{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(ke(this.auth,"network-request-failed")),Wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(_,p,m){const E={appName:_.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const N=ke(_,p,E);return N.customData._tokenResponse=m,N}function ct(){return(ct=(0,u.Z)(function*(_,p){return Gt(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Vn(_,p){return On.apply(this,arguments)}function On(){return(On=(0,u.Z)(function*(_,p){return Gt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ft(_,p){return fr.apply(this,arguments)}function fr(){return(fr=(0,u.Z)(function*(_,p){return Gt(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function or(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Sn(){return(Sn=(0,u.Z)(function*(_,p=!1){const m=(0,R.m9)(_),E=yield m.getIdToken(p),N=Ut(E);se(N&&N.exp&&N.auth_time&&N.iat,m.auth,"internal-error");const j="object"==typeof N.firebase?N.firebase:void 0,we=null==j?void 0:j.sign_in_provider;return{claims:N,token:E,authTime:or(Or(N.auth_time)),issuedAtTime:or(Or(N.iat)),expirationTime:or(Or(N.exp)),signInProvider:we||null,signInSecondFactor:(null==j?void 0:j.sign_in_second_factor)||null}})).apply(this,arguments)}function Or(_){return 1e3*Number(_)}function Ut(_){const[p,m,E]=_.split(".");if(void 0===p||void 0===m||void 0===E)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,R.tV)(m);return N?JSON.parse(N):(Ue("Failed to decode base64 JWT payload"),null)}catch(N){return Ue("Caught error parsing JWT payload as JSON",N),null}}function et(_,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(_,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof R.ZR&&Rr(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function Rr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class St{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const N=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Ri{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=or(this.lastLoginAt),this.creationTime=or(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Un(_){return yn.apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(_){var p;const m=_.auth,E=yield _.getIdToken(),N=yield et(_,Ft(m,{idToken:E}));se(null==N?void 0:N.users.length,m,"internal-error");const j=N.users[0];_._notifyReloadListener(j);const we=(null===(p=j.providerUserInfo)||void 0===p?void 0:p.length)?Oe(j.providerUserInfo):[],Ge=ce(_.providerData,we),jt=!!_.isAnonymous&&!(_.email&&j.passwordHash||(null==Ge?void 0:Ge.length)),jn={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:Ge,metadata:new Ri(j.createdAt,j.lastLoginAt),isAnonymous:jt};Object.assign(_,jn)})).apply(this,arguments)}function oe(){return(oe=(0,u.Z)(function*(_){const p=(0,R.m9)(_);yield Un(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ce(_,p){return[..._.filter(E=>!p.some(N=>N.providerId===E.providerId)),...p]}function Oe(_){return _.map(p=>{var{providerId:m}=p,E=(0,L._T)(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function me(){return(me=(0,u.Z)(function*(_,p){const m=yield Nn(_,{},(0,u.Z)(function*(){const E=(0,R.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:N,apiKey:j}=_.config,we=Vr(_,N,"/v1/token",`key=${j}`),Ge=yield _._getAdditionalHeaders();return Ge["Content-Type"]="application/x-www-form-urlencoded",cn.fetch()(we,{method:"POST",headers:Ge,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class He{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){se(p.idToken,"internal-error"),se(void 0!==p.idToken,"internal-error"),se(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function it(_){const p=Ut(_);return se(p,"internal-error"),se(void 0!==p.exp,"internal-error"),se(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,u.Z)(function*(){return se(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,u.Z)(function*(){const{accessToken:N,refreshToken:j,expiresIn:we}=yield function Y(_,p){return me.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(N,j,Number(we))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:N,expirationTime:j}=m,we=new He;return E&&(se("string"==typeof E,"internal-error",{appName:p}),we.refreshToken=E),N&&(se("string"==typeof N,"internal-error",{appName:p}),we.accessToken=N),j&&(se("number"==typeof j,"internal-error",{appName:p}),we.expirationTime=j),we}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new He,this.toJSON())}_performRefresh(){return U("not implemented")}}function st(_,p){se("string"==typeof _||void 0===_,"internal-error",{appName:p})}class wt{constructor(p){var{uid:m,auth:E,stsTokenManager:N}=p,j=(0,L._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new St(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new Ri(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const E=yield et(m,m.stsTokenManager.getToken(m.auth,p));return se(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function _t(_){return Sn.apply(this,arguments)}(this,p)}reload(){return function ee(_){return oe.apply(this,arguments)}(this)}_assign(p){this!==p&&(se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new wt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,u.Z)(function*(){let N=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),N=!0),m&&(yield Un(E)),yield E.auth._persistUserIfCurrent(E),N&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield et(p,function xr(_,p){return ct.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,N,j,we,Ge,at,Dt,jt;const jn=null!==(E=m.displayName)&&void 0!==E?E:void 0,bs=null!==(N=m.email)&&void 0!==N?N:void 0,lo=null!==(j=m.phoneNumber)&&void 0!==j?j:void 0,yh=null!==(we=m.photoURL)&&void 0!==we?we:void 0,Ql=null!==(Ge=m.tenantId)&&void 0!==Ge?Ge:void 0,Oa=null!==(at=m._redirectEventId)&&void 0!==at?at:void 0,sp=null!==(Dt=m.createdAt)&&void 0!==Dt?Dt:void 0,al=null!==(jt=m.lastLoginAt)&&void 0!==jt?jt:void 0,{uid:Jl,emailVerified:op,isAnonymous:Jc,providerData:mu,stsTokenManager:ap}=m;se(Jl&&ap,p,"internal-error");const vh=He.fromJSON(this.name,ap);se("string"==typeof Jl,p,"internal-error"),st(jn,p.name),st(bs,p.name),se("boolean"==typeof op,p,"internal-error"),se("boolean"==typeof Jc,p,"internal-error"),st(lo,p.name),st(yh,p.name),st(Ql,p.name),st(Oa,p.name),st(sp,p.name),st(al,p.name);const Xl=new wt({uid:Jl,auth:p,email:bs,emailVerified:op,displayName:jn,isAnonymous:Jc,photoURL:yh,phoneNumber:lo,tenantId:Ql,stsTokenManager:vh,createdAt:sp,lastLoginAt:al});return mu&&Array.isArray(mu)&&(Xl.providerData=mu.map(Dn=>Object.assign({},Dn))),Oa&&(Xl._redirectEventId=Oa),Xl}static _fromIdTokenResponse(p,m,E=!1){return(0,u.Z)(function*(){const N=new He;N.updateFromServerResponse(m);const j=new wt({uid:m.localId,auth:p,stsTokenManager:N,isAnonymous:E});return yield Un(j),j})()}}const vn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,E){var N=this;return(0,u.Z)(function*(){N.storage[m]=E})()}_get(m){var E=this;return(0,u.Z)(function*(){const N=E.storage[m];return void 0===N?null:N})()}_remove(m){var E=this;return(0,u.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return _.type="NONE",_})();function Ot(_,p,m){return`firebase:${_}:${p}:${m}`}class Xn{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:N,name:j}=this.auth;this.fullUserKey=Ot(this.userKey,N.apiKey,j),this.fullPersistenceKey=Ot("persistence",N.apiKey,j),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?wt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,u.Z)(function*(){if(!m.length)return new Xn(ne(vn),p,E);const N=(yield Promise.all(m.map(function(){var Dt=(0,u.Z)(function*(jt){if(yield jt._isAvailable())return jt});return function(jt){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let j=N[0]||ne(vn);const we=Ot(E,p.config.apiKey,p.name);let Ge=null;for(const Dt of m)try{const jt=yield Dt._get(we);if(jt){const jn=wt._fromJSON(p,jt);Dt!==j&&(Ge=jn),j=Dt;break}}catch(jt){}const at=N.filter(Dt=>Dt._shouldAllowMigration);return j._shouldAllowMigration&&at.length?(j=at[0],Ge&&(yield j._set(we,Ge.toJSON())),yield Promise.all(m.map(function(){var Dt=(0,u.Z)(function*(jt){if(jt!==j)try{yield jt._remove(we)}catch(jn){}});return function(jt){return Dt.apply(this,arguments)}}())),new Xn(j,p,E)):new Xn(j,p,E)})()}}function Ie(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(tt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(he(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(kt(p))return"Blackberry";if(nn(p))return"Webos";if(ae(p))return"Safari";if((p.includes("chrome/")||Be(p))&&!p.includes("edge/"))return"Chrome";if(yt(p))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function he(_=(0,R.z$)()){return/firefox\//i.test(_)}function ae(_=(0,R.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Be(_=(0,R.z$)()){return/crios\//i.test(_)}function tt(_=(0,R.z$)()){return/iemobile/i.test(_)}function yt(_=(0,R.z$)()){return/android/i.test(_)}function kt(_=(0,R.z$)()){return/blackberry/i.test(_)}function nn(_=(0,R.z$)()){return/webos/i.test(_)}function Kt(_=(0,R.z$)()){return/iphone|ipad|ipod/i.test(_)}function Wn(_=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function Pr(_=(0,R.z$)()){return Kt(_)||yt(_)||nn(_)||kt(_)||/windows phone/i.test(_)||tt(_)}function pr(_,p=[]){let m;switch(_){case"Browser":m=Ie((0,R.z$)());break;case"Worker":m=`${Ie((0,R.z$)())}-${_}`;break;default:m=_}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${A.SDK_VERSION}/${E}`}class vo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const E=j=>new Promise((we,Ge)=>{try{we(p(j))}catch(at){Ge(at)}});E.onAbort=m,this.queue.push(E);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,u.Z)(function*(){var E;if(m.auth.currentUser===p)return;const N=[];try{for(const j of m.queue)yield j(p),j.onAbort&&N.push(j.onAbort)}catch(j){N.reverse();for(const we of N)try{we()}catch(Ge){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=j)||void 0===E?void 0:E.message})}})()}}class It{constructor(p,m,E){this.app=p,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zt(this),this.idTokenSubscription=new zt(this),this.beforeStateQueue=new vo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=ne(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var N,j;if(!E._deleted&&(E.persistenceManager=yield Xn.create(E,p),!E._deleted)){if(null===(N=E._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(we){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(j=E.currentUser)||void 0===j?void 0:j.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var E;const N=yield m.assertedPersistence.getCurrentUser();let j=N,we=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ge=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,at=null==j?void 0:j._redirectEventId,Dt=yield m.tryRedirectSignIn(p);(!Ge||Ge===at)&&(null==Dt?void 0:Dt.user)&&(j=Dt.user,we=!0)}if(!j)return m.directlySetCurrentUser(null);if(!j._redirectEventId){if(we)try{yield m.beforeStateQueue.runMiddleware(j)}catch(Ge){j=N,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ge))}return j?m.reloadAndSetCurrentUserOrClear(j):m.directlySetCurrentUser(null)}return se(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===j._redirectEventId?m.directlySetCurrentUser(j):m.reloadAndSetCurrentUserOrClear(j)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(N){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){try{yield Un(p)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function $t(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const E=p?(0,R.m9)(p):null;return E&&se(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p,m=!1){var E=this;return(0,u.Z)(function*(){if(!E._deleted)return p&&se(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,u.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(ne(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new R.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,u.Z)(function*(){const N=yield E.getOrInitRedirectPersistenceManager(m);return null===p?N.removeCurrentUser():N.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&ne(p)||m._popupRedirectResolver;se(E,m,"argument-error"),m.redirectPersistenceManager=yield Xn.create(m,[ne(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var E,N;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(N=m.redirectUser)||void 0===N?void 0:N._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,N){if(this._deleted)return()=>{};const j="function"==typeof m?m:m.next.bind(m),we=this._isInitialized?Promise.resolve():this._initializationPromise;return se(we,this,"internal-error"),we.then(()=>j(this.currentUser)),"function"==typeof m?p.addObserver(m,E,N):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var m;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const N=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return N&&(E["X-Firebase-Client"]=N),E})()}}function Qe(_){return(0,R.m9)(_)}class zt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,R.ne)(m=>this.observer=m)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xn(_,p,m){const E=Qe(_);se(E._canInitEmulator,E,"emulator-config-failed"),se(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const N=!!(null==m?void 0:m.disableWarnings),j=Br(p),{host:we,port:Ge}=function Gi(_){const p=Br(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(E);if(N){const j=N[1];return{host:j,port:Kn(E.substr(j.length+1))}}{const[j,we]=E.split(":");return{host:j,port:Kn(we)}}}(p);E.config.emulator={url:`${j}//${we}${null===Ge?"":`:${Ge}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:we,port:Ge,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function _i(){function _(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function Br(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Kn(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class on{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return U("not implemented")}_getIdTokenResponse(p){return U("not implemented")}_linkToIdToken(p,m){return U("not implemented")}_getReauthenticationResolver(p){return U("not implemented")}}function os(_,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(_,p){return Gt(_,"POST","/v1/accounts:resetPassword",xt(_,p))})).apply(this,arguments)}function Et(_,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,u.Z)(function*(_,p){return Gt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Gs(_,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,u.Z)(function*(_,p){return Gt(_,"POST","/v1/accounts:update",xt(_,p))})).apply(this,arguments)}function Mn(){return(Mn=(0,u.Z)(function*(_,p){return En(_,"POST","/v1/accounts:signInWithPassword",xt(_,p))})).apply(this,arguments)}function as(_,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(_,p){return Gt(_,"POST","/v1/accounts:sendOobCode",xt(_,p))})).apply(this,arguments)}function br(_,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(_,p){return as(_,p)})).apply(this,arguments)}function Uu(_,p){return us.apply(this,arguments)}function us(){return(us=(0,u.Z)(function*(_,p){return as(_,p)})).apply(this,arguments)}function wi(_,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(_,p){return as(_,p)})).apply(this,arguments)}function Bu(_,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(_,p){return as(_,p)})).apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(_,p){return En(_,"POST","/v1/accounts:signInWithEmailLink",xt(_,p))})).apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(_,p){return En(_,"POST","/v1/accounts:signInWithEmailLink",xt(_,p))})).apply(this,arguments)}class zi extends on{constructor(p,m,E,N=null){super("password",E),this._email=p,this._password=m,this._tenantId=N}static _fromEmailAndPassword(p,m){return new zi(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new zi(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function qs(_,p){return Mn.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ls(_,p){return si.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ve(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return Et(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function kl(_,p){return qa.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:Ve(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function er(_,p){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(_,p){return En(_,"POST","/v1/accounts:signInWithIdp",xt(_,p))})).apply(this,arguments)}class qi extends on{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new qi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ve("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:N}=m,j=(0,L._T)(m,["providerId","signInMethod"]);if(!E||!N)return null;const we=new qi(E,N);return we.idToken=j.idToken||void 0,we.accessToken=j.accessToken||void 0,we.secret=j.secret,we.nonce=j.nonce,we.pendingToken=j.pendingToken||null,we}_getIdTokenResponse(p){return er(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,er(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,er(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,R.xO)(m)}return p}}function Vc(_,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(_,p){return Gt(_,"POST","/v1/accounts:sendVerificationCode",xt(_,p))})).apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(_,p){return En(_,"POST","/v1/accounts:signInWithPhoneNumber",xt(_,p))})).apply(this,arguments)}function Ya(){return(Ya=(0,u.Z)(function*(_,p){const m=yield En(_,"POST","/v1/accounts:signInWithPhoneNumber",xt(_,p));if(m.temporaryProof)throw qn(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Bc={USER_NOT_FOUND:"user-not-found"};function Qa(){return(Qa=(0,u.Z)(function*(_,p){return En(_,"POST","/v1/accounts:signInWithPhoneNumber",xt(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Bc)})).apply(this,arguments)}class Ys extends on{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Ys({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Ys({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Uc(_,p){return _o.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Ws(_,p){return Ya.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ks(_,p){return Qa.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:N}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:N}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:N,temporaryProof:j}=p;return E||m||N||j?new Ys({verificationId:m,verificationCode:E,phoneNumber:N,temporaryProof:j}):null}}class Wi{constructor(p){var m,E,N,j,we,Ge;const at=(0,R.zd)((0,R.pd)(p)),Dt=null!==(m=at.apiKey)&&void 0!==m?m:null,jt=null!==(E=at.oobCode)&&void 0!==E?E:null,jn=function jc(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=at.mode)&&void 0!==N?N:null);se(Dt&&jt&&jn,"argument-error"),this.apiKey=Dt,this.operation=jn,this.code=jt,this.continueUrl=null!==(j=at.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(we=at.languageCode)&&void 0!==we?we:null,this.tenantId=null!==(Ge=at.tenantId)&&void 0!==Ge?Ge:null}static parseLink(p){const m=function Fl(_){const p=(0,R.zd)((0,R.pd)(_)).link,m=p?(0,R.zd)((0,R.pd)(p)).deep_link_id:null,E=(0,R.zd)((0,R.pd)(_)).deep_link_id;return(E?(0,R.zd)((0,R.pd)(E)).link:null)||E||m||p||_}(p);try{return new Wi(m)}catch(E){return null}}}let wo=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,E){return zi._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const N=Wi.parseLink(E);return se(N,"argument-error"),zi._fromEmailAndCode(m,N.code,N.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class cs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class oi extends cs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Qs extends oi{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return se("providerId"in m&&"signInMethod"in m,"argument-error"),qi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return se(p.idToken||p.accessToken,"argument-error"),qi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Qs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Qs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:N,pendingToken:j,nonce:we,providerId:Ge}=p;if(!E&&!N&&!m&&!j||!Ge)return null;try{return new Qs(Ge)._credential({idToken:m,accessToken:E,nonce:we,pendingToken:j})}catch(at){return null}}}let bo=(()=>{class _ extends oi{constructor(){super("facebook.com")}static credential(m){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Eo=(()=>{class _ extends oi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:N}=m;if(!E&&!N)return null;try{return _.credential(E,N)}catch(j){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ll=(()=>{class _ extends oi{constructor(){super("github.com")}static credential(m){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ds extends on{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return er(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,er(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,er(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:N,pendingToken:j}=m;return E&&N&&j&&E===N?new ds(E,j):null}static _create(p,m){return new ds(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ki extends cs{constructor(p){se(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ki.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ki.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=ds.fromJSON(p);return se(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return ds._create(E,m)}catch(N){return null}}}let bi=(()=>{class _ extends oi{constructor(){super("twitter.com")}static credential(m,E){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:N}=m;if(!E||!N)return null;try{return _.credential(E,N)}catch(j){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function $u(_,p){return kr.apply(this,arguments)}function kr(){return(kr=(0,u.Z)(function*(_,p){return En(_,"POST","/v1/accounts:signUp",xt(_,p))})).apply(this,arguments)}class Yn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,N=!1){return(0,u.Z)(function*(){const j=yield wt._fromIdTokenResponse(p,E,N),we=Hu(E);return new Yn({user:j,providerId:we,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const N=Hu(E);return new Yn({user:p,providerId:N,_tokenResponse:E,operationType:m})})()}}function Hu(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Zu(_){return ua.apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(_){var p;const m=Qe(_);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Yn({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield $u(m,{returnSecureToken:!0}),N=yield Yn._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class la extends R.ZR{constructor(p,m,E,N){var j;super(m.code,m.message),this.operationType=E,this.user=N,Object.setPrototypeOf(this,la.prototype),this.customData={appName:p.name,tenantId:null!==(j=p.tenantId)&&void 0!==j?j:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,N){return new la(p,m,E,N)}}function ca(_,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?la._fromErrorAndOperation(_,j,p,E):j})}function Ja(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function Ki(_,p){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,u.Z)(function*(_,p){const m=(0,R.m9)(_);yield Yi(!0,m,p);const{providerUserInfo:E}=yield Vn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),N=Ja(E||[]);return m.providerData=m.providerData.filter(j=>N.has(j.providerId)),N.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Cn(_,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(_,p,m=!1){const E=yield et(_,p._linkToIdToken(_.auth,yield _.getIdToken()),m);return Yn._forOperation(_,"link",E)})).apply(this,arguments)}function Yi(_,p,m){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(_,p,m){yield Un(p);const N=!1===_?"provider-already-linked":"no-such-provider";se(Ja(p.providerData).has(m)===_,p.auth,N)})).apply(this,arguments)}function da(_,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,u.Z)(function*(_,p,m=!1){const{auth:E}=_,N="reauthenticate";try{const j=yield et(_,ca(E,N,p,_),m);se(j.idToken,E,"internal-error");const we=Ut(j.idToken);se(we,E,"internal-error");const{sub:Ge}=we;return se(_.uid===Ge,E,"user-mismatch"),Yn._forOperation(_,N,j)}catch(j){throw"auth/user-not-found"===(null==j?void 0:j.code)&&Ve(E,"user-mismatch"),j}})).apply(this,arguments)}function Ei(_,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(_,p,m=!1){const E="signIn",N=yield ca(_,E,p),j=yield Yn._fromIdTokenResponse(_,E,N);return m||(yield _._updateCurrentUser(j.user)),j})).apply(this,arguments)}function Io(_,p){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(_,p){return Ei(Qe(_),p)})).apply(this,arguments)}function Qi(_,p){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(_,p){const m=(0,R.m9)(_);return yield Yi(!1,m,p.providerId),Cn(m,p)})).apply(this,arguments)}function Js(_,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(_,p){return da((0,R.m9)(_),p)})).apply(this,arguments)}function ha(_,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(_,p){return En(_,"POST","/v1/accounts:signInWithCustomToken",xt(_,p))})).apply(this,arguments)}function hs(_,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,u.Z)(function*(_,p){const m=Qe(_),E=yield ha(m,{token:p,returnSecureToken:!0}),N=yield Yn._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class Ct{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Do._fromServerResponse(p,m):Ve(p,"internal-error")}}class Do extends Ct{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Do(m)}}function To(_,p,m){var E;se((null===(E=m.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),se(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(se(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(se(m.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function eu(_,p,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(_,p,m){const E=(0,R.m9)(_),N={requestType:"PASSWORD_RESET",email:p};m&&To(E,N,m),yield Uu(E,N)})).apply(this,arguments)}function Xs(_,p,m){return So.apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(_,p,m){yield os((0,R.m9)(_),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Vl(_,p){return je.apply(this,arguments)}function je(){return(je=(0,u.Z)(function*(_,p){yield Gs((0,R.m9)(_),{oobCode:p})})).apply(this,arguments)}function Bt(_,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,u.Z)(function*(_,p){const m=(0,R.m9)(_),E=yield os(m,{oobCode:p}),N=E.requestType;switch(se(N,m,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(E.mfaInfo,m,"internal-error");default:se(E.email,m,"internal-error")}let j=null;return E.mfaInfo&&(j=Ct._fromServerResponse(Qe(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:j},operation:N}})).apply(this,arguments)}function Hn(_,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(_,p){const{data:m}=yield Bt((0,R.m9)(_),p);return m.email})).apply(this,arguments)}function eo(_,p,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(_,p,m){const E=Qe(_),N=yield $u(E,{returnSecureToken:!0,email:p,password:m}),j=yield Yn._fromIdTokenResponse(E,"signIn",N);return yield E._updateCurrentUser(j.user),j})).apply(this,arguments)}function fa(_,p,m){return Io((0,R.m9)(_),wo.credential(p,m))}function tu(_,p,m){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,u.Z)(function*(_,p,m){const E=(0,R.m9)(_),N={requestType:"EMAIL_SIGNIN",email:p};se(m.handleCodeInApp,E,"argument-error"),m&&To(E,N,m),yield wi(E,N)})).apply(this,arguments)}function zu(_,p){const m=Wi.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Mo(_,p,m){return to.apply(this,arguments)}function to(){return(to=(0,u.Z)(function*(_,p,m){const E=(0,R.m9)(_),N=wo.credentialWithLink(p,m||be());return se(N._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Io(E,N)})).apply(this,arguments)}function ur(_,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(_,p){return Gt(_,"POST","/v1/accounts:createAuthUri",xt(_,p))})).apply(this,arguments)}function nu(_,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(_,p){const E={identifier:p,continueUri:ze()?be():"http://localhost"},{signinMethods:N}=yield ur((0,R.m9)(_),E);return N||[]})).apply(this,arguments)}function Ji(_,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,u.Z)(function*(_,p){const m=(0,R.m9)(_),N={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&To(m.auth,N,p);const{email:j}=yield br(m.auth,N);j!==_.email&&(yield _.reload())})).apply(this,arguments)}function ru(_,p,m){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(_,p,m){const E=(0,R.m9)(_),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};m&&To(E.auth,j,m);const{email:we}=yield Bu(E.auth,j);we!==_.email&&(yield _.reload())})).apply(this,arguments)}function iu(_,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(_,p){return Gt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function su(_,p){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,u.Z)(function*(_,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,R.m9)(_),j={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},we=yield et(E,iu(E.auth,j));E.displayName=we.displayName||null,E.photoURL=we.photoUrl||null;const Ge=E.providerData.find(({providerId:at})=>"password"===at);Ge&&(Ge.displayName=E.displayName,Ge.photoURL=E.photoURL),yield E._updateTokensIfNecessary(we)})).apply(this,arguments)}function pa(_,p){return no((0,R.m9)(_),p,null)}function Hc(_,p){return no((0,R.m9)(_),null,p)}function no(_,p,m){return gs.apply(this,arguments)}function gs(){return(gs=(0,u.Z)(function*(_,p,m){const{auth:E}=_,j={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(j.email=p),m&&(j.password=m);const we=yield et(_,Et(E,j));yield _._updateTokensIfNecessary(we,!0)})).apply(this,arguments)}class Xi{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class qu extends Xi{constructor(p,m,E,N){super(p,m,E),this.username=N}}class Ul extends Xi{constructor(p,m){super(p,"facebook.com",m)}}class ro extends qu{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Kr extends Xi{constructor(p,m){super(p,"google.com",m)}}class Bl extends qu{constructor(p,m,E){super(p,"twitter.com",m,E)}}function mr(_){const{user:p,_tokenResponse:m}=_;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ga(_){var p,m;if(!_)return null;const{providerId:E}=_,N=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},j=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const we=null===(m=null===(p=Ut(_.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(we)return new Xi(j,"anonymous"!==we&&"custom"!==we?we:null)}if(!E)return null;switch(E){case"facebook.com":return new Ul(j,N);case"github.com":return new ro(j,N);case"google.com":return new Kr(j,N);case"twitter.com":return new Bl(j,N,_.screenName||null);case"custom":case"anonymous":return new Xi(j,null);default:return new Xi(j,E,N)}}(m)}function Bn(_,p,m,E){return(0,R.m9)(_).onIdTokenChanged(p,m,E)}function ou(_){return(0,R.m9)(_).signOut()}class ts{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new ts("enroll",p)}static _fromMfaPendingCredential(p){return new ts("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ts._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return ts._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Po{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=Qe(p),N=m.customData._serverResponse,j=(N.mfaInfo||[]).map(Ge=>Ct._fromServerResponse(E,Ge));se(N.mfaPendingCredential,E,"internal-error");const we=ts._fromMfaPendingCredential(N.mfaPendingCredential);return new Po(we,j,function(){var Ge=(0,u.Z)(function*(at){const Dt=yield at._process(E,we);delete N.mfaInfo,delete N.mfaPendingCredential;const jt=Object.assign(Object.assign({},N),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(m.operationType){case"signIn":const jn=yield Yn._fromIdTokenResponse(E,m.operationType,jt);return yield E._updateCurrentUser(jn.user),jn;case"reauthenticate":return se(m.user,E,"internal-error"),Yn._forOperation(m.user,m.operationType,jt);default:Ve(E,"internal-error")}});return function(at){return Ge.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}function ma(_,p){var m;const E=(0,R.m9)(_),N=p;return se(p.customData.operationType,E,"argument-error"),se(null===(m=N.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Po._fromError(E,N)}function lr(_,p){return Gt(_,"POST","/v2/accounts/mfaEnrollment:start",xt(_,p))}class so{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Ct._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new so(p)}getSession(){var p=this;return(0,u.Z)(function*(){return ts._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var E=this;return(0,u.Z)(function*(){const N=p,j=yield E.getSession(),we=yield et(E.user,N._process(E.user.auth,j,m));return yield E.user._updateTokensIfNecessary(we),E.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){const E="string"==typeof p?p:p.uid,N=yield m.user.getIdToken(),j=yield et(m.user,function ks(_,p){return Gt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",xt(_,p))}(m.user.auth,{idToken:N,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:we})=>we!==E),yield m.user._updateTokensIfNecessary(j);try{yield m.user.reload()}catch(we){if("auth/user-token-expired"!==we.code)throw we}})()}}const Wu=new WeakMap;function Ii(_){const p=(0,R.m9)(_);return Wu.has(p)||Wu.set(p,so._fromUser(p)),Wu.get(p)}const ui="__sak";class ko{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ui,"1"),this.storage.removeItem(ui),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ft=(()=>{class _ extends ko{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hl(){const _=(0,R.z$)();return ae(_)||Kt(_)}()&&function Pi(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Pr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const N=this.storage.getItem(E),j=this.localCache[E];N!==j&&m(E,j,N)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((Ge,at,Dt)=>{this.notifyListeners(Ge,Dt)});const N=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ge=this.storage.getItem(N);if(m.newValue!==Ge)null!==m.newValue?this.storage.setItem(N,m.newValue):this.storage.removeItem(N);else if(this.localCache[N]===m.newValue&&!E)return}const j=()=>{const Ge=this.storage.getItem(N);!E&&this.localCache[N]===Ge||this.notifyListeners(N,Ge)},we=this.storage.getItem(N);!function Ht(){return(0,R.w1)()&&10===document.documentMode}()||we===m.newValue||m.newValue===m.oldValue?j():setTimeout(j,10)}notifyListeners(m,E){this.localCache[m]=E;const N=this.listeners[m];if(N)for(const j of Array.from(N))j(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var N=()=>super._set,j=this;return(0,u.Z)(function*(){yield N().call(j,m,E),j.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,N=this;return(0,u.Z)(function*(){const j=yield E().call(N,m);return N.localCache[m]=JSON.stringify(j),j})()}_remove(m){var E=()=>super._remove,N=this;return(0,u.Z)(function*(){yield E().call(N,m),delete N.localCache[m]})()}}return _.type="LOCAL",_})(),tr=(()=>{class _ extends ko{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return _.type="SESSION",_})();let C=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(j=>j.isListeningto(m));if(E)return E;const N=new _(m);return this.receivers.push(N),N}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,u.Z)(function*(){const N=m,{eventId:j,eventType:we,data:Ge}=N.data,at=E.handlersMap[we];if(!(null==at?void 0:at.size))return;N.ports[0].postMessage({status:"ack",eventId:j,eventType:we});const Dt=Array.from(at).map(function(){var jn=(0,u.Z)(function*(bs){return bs(N.origin,Ge)});return function(bs){return jn.apply(this,arguments)}}()),jt=yield function b(_){return Promise.all(_.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(Dt);N.ports[0].postMessage({status:"done",eventId:j,eventType:we,response:jt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function O(_="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return _+m}class Q{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var N=this;return(0,u.Z)(function*(){const j="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let we,Ge;return new Promise((at,Dt)=>{const jt=O("",20);j.port1.start();const jn=setTimeout(()=>{Dt(new Error("unsupported_event"))},E);Ge={messageChannel:j,onMessage(bs){const lo=bs;if(lo.data.eventId===jt)switch(lo.data.status){case"ack":clearTimeout(jn),we=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(we),at(lo.data.response);break;default:clearTimeout(jn),clearTimeout(we),Dt(new Error("invalid_response"))}}},N.handlers.add(Ge),j.port1.addEventListener("message",Ge.onMessage),N.target.postMessage({eventType:p,eventId:jt,data:m},[j.port2])}).finally(()=>{Ge&&N.removeMessageHandler(Ge)})})()}}function Me(){return window}function In(){return void 0!==Me().WorkerGlobalScope&&"function"==typeof Me().importScripts}function ht(){return(ht=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Zl="firebaseLocalStorageDb",Gn="firebaseLocalStorage",Ku="fbase_key";class Fs{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function No(_,p){return _.transaction([Gn],p?"readwrite":"readonly").objectStore(Gn)}function _a(){const _=indexedDB.open(Zl,1);return new Promise((p,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Gn,{keyPath:Ku})}catch(N){m(N)}}),_.addEventListener("success",(0,u.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Gn)?p(E):(E.close(),yield function Di(){const _=indexedDB.deleteDatabase(Zl);return new Fs(_).toPromise()}(),p(yield _a()))}))})}function Fo(_,p,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,u.Z)(function*(_,p,m){const E=No(_,!0).put({[Ku]:p,value:m});return new Fs(E).toPromise()})).apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(_,p){const m=No(_,!1).get(p),E=yield new Fs(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ba(_,p){const m=No(_,!0).delete(p);return new Fs(m).toPromise()}const Vo=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield _a()),m.db})()}_withRetries(m){var E=this;return(0,u.Z)(function*(){let N=0;for(;;)try{const j=yield E._openDb();return yield m(j)}catch(j){if(N++>3)throw j;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return In()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=C._getInstance(function va(){return In()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(N,j){return{keyProcessed:(yield m._poll()).includes(j.key)}});return function(N,j){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(N,j){return["keyChanged"]});return function(N,j){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var E,N;if(m.activeServiceWorker=yield function cr(){return ht.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Q(m.activeServiceWorker);const j=yield m.sender._send("ping",{},800);!j||(null===(E=j[0])||void 0===E?void 0:E.fulfilled)&&(null===(N=j[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Ns(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield _a();return yield Fo(m,ui,"1"),yield ba(m,ui),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var N=this;return(0,u.Z)(function*(){return N._withPendingWrite((0,u.Z)(function*(){return yield N._withRetries(j=>Fo(j,m,E)),N.localCache[m]=E,N.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,u.Z)(function*(){const N=yield E._withRetries(j=>function wa(_,p){return oo.apply(this,arguments)}(j,m));return E.localCache[m]=N,N})()}_remove(m){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(N=>ba(N,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const E=yield m._withRetries(we=>{const Ge=No(we,!1).getAll();return new Fs(Ge).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const N=[],j=new Set;for(const{fbase_key:we,value:Ge}of E)j.add(we),JSON.stringify(m.localCache[we])!==JSON.stringify(Ge)&&(m.notifyListeners(we,Ge),N.push(we));for(const we of Object.keys(m.localCache))m.localCache[we]&&!j.has(we)&&(m.notifyListeners(we,null),N.push(we));return N})()}notifyListeners(m,E){this.localCache[m]=E;const N=this.listeners[m];if(N)for(const j of Array.from(N))j(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Gl(_,p){return Gt(_,"POST","/v2/accounts/mfaSignIn:start",xt(_,p))}function Ca(){return(Ca=(0,u.Z)(function*(_){return(yield Gt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ls(_){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=p,E.onerror=N=>{const j=ke("internal-error");j.customData=N,m(j)},E.type="text/javascript",E.charset="UTF-8",function Fr(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(E)})}function ys(_){return`__${_}${Math.floor(1e6*Math.random())}`}const $r=1e12;class Vs{constructor(p){this.auth=p,this.counter=$r,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new nr(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||$r;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||$r))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var E;return null===(E=m._widgets.get(p||$r))||void 0===E||E.execute(),""})()}}class nr{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof p?document.getElementById(p):p;se(N,"argument-error",{appName:m}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bo(_){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<_;E++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jo=ys("rcb"),rr=new Xe(3e4,6e4);class Kf{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Me().grecaptcha}load(p,m=""){return se(function Yf(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Me().grecaptcha):new Promise((E,N)=>{const j=Me().setTimeout(()=>{N(ke(p,"network-request-failed"))},rr.get());Me()[jo]=()=>{Me().clearTimeout(j),delete Me()[jo];const Ge=Me().grecaptcha;if(!Ge)return void N(ke(p,"internal-error"));const at=Ge.render;Ge.render=(Dt,jt)=>{const jn=at(Dt,jt);return this.counter++,jn},this.hostLanguage=m,E(Ge)},Ls(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:jo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(j),N(ke(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Me().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ia{load(p){return(0,u.Z)(function*(){return new Vs(p)})()}clearedOneInstance(){}}const li="recaptcha",oh={theme:"light",type:"image"};class Us{constructor(p,m=Object.assign({},oh),E){this.parameters=m,this.type=li,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qe(E),this.isInvisible="invisible"===this.parameters.size,se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof p?document.getElementById(p):p;se(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ia:new Kf,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(j=>{const we=Ge=>{!Ge||(p.tokenChangeListeners.delete(we),j(Ge))};p.tokenChangeListeners.add(we),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=Me()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){se(ze()&&!In(),p.auth,"internal-error"),yield function $o(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Uo(_){return Ca.apply(this,arguments)}(p.auth);se(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Da{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Ys._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function dr(_,p,m){return cu.apply(this,arguments)}function cu(){return(cu=(0,u.Z)(function*(_,p,m){const E=Qe(_),N=yield Ti(E,p,(0,R.m9)(m));return new Da(N,j=>Io(E,j))})).apply(this,arguments)}function du(_,p,m){return ah.apply(this,arguments)}function ah(){return(ah=(0,u.Z)(function*(_,p,m){const E=(0,R.m9)(_);yield Yi(!1,E,"phone");const N=yield Ti(E.auth,p,(0,R.m9)(m));return new Da(N,j=>Qi(E,j))})).apply(this,arguments)}function uh(_,p,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(_,p,m){const E=(0,R.m9)(_),N=yield Ti(E.auth,p,(0,R.m9)(m));return new Da(N,j=>Js(E,j))})).apply(this,arguments)}function Ti(_,p,m){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,u.Z)(function*(_,p,m){var E;const N=yield m.verify();try{let j;if(se("string"==typeof N,_,"argument-error"),se(m.type===li,_,"argument-error"),j="string"==typeof p?{phoneNumber:p}:p,"session"in j){const we=j.session;if("phoneNumber"in j)return se("enroll"===we.type,_,"internal-error"),(yield lr(_,{idToken:we.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{se("signin"===we.type,_,"internal-error");const Ge=(null===(E=j.multiFactorHint)||void 0===E?void 0:E.uid)||j.multiFactorUid;return se(Ge,_,"missing-multi-factor-info"),(yield Gl(_,{mfaPendingCredential:we.credential,mfaEnrollmentId:Ge,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:we}=yield Vc(_,{phoneNumber:j.phoneNumber,recaptchaToken:N});return we}}finally{m._reset()}})).apply(this,arguments)}function Aa(_,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(_,p){yield Cn((0,R.m9)(_),p)})).apply(this,arguments)}let Yu=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Qe(m)}verifyPhoneNumber(m,E){return Ti(this.auth,m,(0,R.m9)(E))}static credential(m,E){return Ys._fromVerification(m,E)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:N}=m;return E&&N?Ys._fromTokenResponse(E,N):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Bs(_,p){return p?ne(p):(se(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class hu extends on{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return er(p,this._buildIdpRequest())}_linkToIdToken(p,m){return er(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return er(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function zl(_){return Ei(_.auth,new hu(_),_.bypassAuthState)}function Jt(_){const{auth:p,user:m}=_;return se(m,p,"internal-error"),da(m,new hu(_),_.bypassAuthState)}function Qu(_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(_){const{auth:p,user:m}=_;return se(m,p,"internal-error"),Cn(m,new hu(_),_.bypassAuthState)})).apply(this,arguments)}class Ju{constructor(p,m,E,N,j=!1){this.auth=p,this.resolver=E,this.user=N,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(E,N){p.pendingPromise={resolve:E,reject:N};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(j){p.reject(j)}});return function(E,N){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:N,postBody:j,tenantId:we,error:Ge,type:at}=p;if(Ge)return void m.reject(Ge);const Dt={auth:m.auth,requestUri:E,sessionId:N,tenantId:we||void 0,postBody:j||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(at)(Dt))}catch(jt){m.reject(jt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return zl;case"linkViaPopup":case"linkViaRedirect":return Qu;case"reauthViaPopup":case"reauthViaRedirect":return Jt;default:Ve(this.auth,"internal-error")}}resolve(p){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zo=new Xe(2e3,1e4);function fm(_,p,m){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,u.Z)(function*(_,p,m){const E=Qe(_);ge(_,p,cs);const N=Bs(E,m);return new tl(E,"signInViaPopup",p,N).executeNotNull()})).apply(this,arguments)}function lh(_,p,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(_,p,m){const E=(0,R.m9)(_);ge(E.auth,p,cs);const N=Bs(E.auth,m);return new tl(E.auth,"reauthViaPopup",p,N,E).executeNotNull()})).apply(this,arguments)}function ql(_,p,m){return el.apply(this,arguments)}function el(){return(el=(0,u.Z)(function*(_,p,m){const E=(0,R.m9)(_);ge(E.auth,p,cs);const N=Bs(E.auth,m);return new tl(E.auth,"linkViaPopup",p,N,E).executeNotNull()})).apply(this,arguments)}let tl=(()=>{class _ extends Ju{constructor(m,E,N,j,we){super(m,E,j,we),this.provider=N,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const E=yield m.execute();return se(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,u.Z)(function*(){ve(1===m.filter.length,"Popup operations only handle one event");const E=O();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(N=>{m.reject(N)}),m.resolver._isIframeWebStorageSupported(m.auth,N=>{N||m.reject(ke(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,N;this.pollId=(null===(N=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Zo.get())};m()}}return _.currentPopupAction=null,_})();const zn=new Map;class yr extends Ju{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let E=zn.get(m.auth._key());if(!E){try{const j=(yield function pm(_,p){return Sa.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(j)}catch(N){E=()=>Promise.reject(N)}zn.set(m.auth._key(),E)}return m.bypassAuthState||zn.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const N=yield E.auth._redirectUserForId(p.eventId);if(N)return E.user=N,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Sa(){return(Sa=(0,u.Z)(function*(_,p){const m=S(p),E=T(_);if(!(yield E._isAvailable()))return!1;const N="true"===(yield E._get(m));return yield E._remove(m),N})).apply(this,arguments)}function zo(_,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,u.Z)(function*(_,p){return T(_)._set(S(p),"true")})).apply(this,arguments)}function ch(){zn.clear()}function Wl(_,p){zn.set(_._key(),p)}function T(_){return ne(_._redirectPersistence)}function S(_){return Ot("pendingRedirect",_.config.apiKey,_.name)}function F(_,p,m){return function q(_,p,m){return fe.apply(this,arguments)}(_,p,m)}function fe(){return(fe=(0,u.Z)(function*(_,p,m){const E=Qe(_);ge(_,p,cs);const N=Bs(E,m);return yield zo(N,E),N._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function pe(_,p,m){return function Pe(_,p,m){return lt.apply(this,arguments)}(_,p,m)}function lt(){return(lt=(0,u.Z)(function*(_,p,m){const E=(0,R.m9)(_);ge(E.auth,p,cs);const N=Bs(E.auth,m);yield zo(N,E.auth);const j=yield ns(E);return N._openRedirect(E.auth,p,"reauthViaRedirect",j)})).apply(this,arguments)}function At(_,p,m){return function Xt(_,p,m){return rn.apply(this,arguments)}(_,p,m)}function rn(){return(rn=(0,u.Z)(function*(_,p,m){const E=(0,R.m9)(_);ge(E.auth,p,cs);const N=Bs(E.auth,m);yield Yi(!1,E,p.providerId),yield zo(N,E.auth);const j=yield ns(E);return N._openRedirect(E.auth,p,"linkViaRedirect",j)})).apply(this,arguments)}function Rt(_,p){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(_,p){return yield Qe(_)._initializationPromise,Er(_,p,!1)})).apply(this,arguments)}function Er(_,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,u.Z)(function*(_,p,m=!1){const E=Qe(_),N=Bs(E,p),we=yield new yr(E,N,m).execute();return we&&!m&&(delete we.user._redirectEventId,yield E._persistUserIfCurrent(we.user),yield E._setRedirectUser(null,p)),we})).apply(this,arguments)}function ns(_){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,u.Z)(function*(_){const p=O(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class xa{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ws(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rs(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!rs(p)){const N=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(ke(this.auth,N))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_s(p))}saveEventToCache(p){this.cachedEventUids.add(_s(p)),this.lastProcessedEventTime=Date.now()}}function _s(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function rs({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===(null==p?void 0:p.code)}function nl(_){return dh.apply(this,arguments)}function dh(){return(dh=(0,u.Z)(function*(_,p={}){return Gt(_,"GET","/v1/projects",p)})).apply(this,arguments)}const gm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wo=/^https?/;function hh(){return(hh=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield nl(_);for(const m of p)try{if(h_(m))return}catch(E){}Ve(_,"unauthorized-domain")})).apply(this,arguments)}function h_(_){const p=be(),{protocol:m,hostname:E}=new URL(p);if(_.startsWith("chrome-extension://")){const we=new URL(_);return""===we.hostname&&""===E?"chrome-extension:"===m&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&we.hostname===E}if(!Wo.test(m))return!1;if(gm.test(_))return E===_;const N=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(E)}const Qf=new Xe(3e4,6e4);function Jf(){const _=Me().___jsl;if(null==_?void 0:_.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let rl=null;function fh(_){return rl=rl||function mm(_){return new Promise((p,m)=>{var E,N,j;function we(){Jf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Jf(),m(ke(_,"network-request-failed"))},timeout:Qf.get()})}if(null===(N=null===(E=Me().gapi)||void 0===E?void 0:E.iframes)||void 0===N?void 0:N.Iframe)p(gapi.iframes.getContext());else{if(!(null===(j=Me().gapi)||void 0===j?void 0:j.load)){const Ge=ys("iframefcb");return Me()[Ge]=()=>{gapi.load?we():m(ke(_,"network-request-failed"))},Ls(`https://apis.google.com/js/api.js?onload=${Ge}`).catch(at=>m(at))}we()}}).catch(p=>{throw rl=null,p})}(_),rl}const Ko=new Xe(5e3,15e3),pu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ym=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function il(_){const p=_.config;se(p.authDomain,_,"auth-domain-config-required");const m=p.emulator?Nt(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:_.name,v:A.SDK_VERSION},N=ym.get(_.config.apiHost);N&&(E.eid=N);const j=_._getFrameworks();return j.length&&(E.fw=j.join(",")),`${m}?${(0,R.xO)(E).slice(1)}`}function sl(){return sl=(0,u.Z)(function*(_){const p=yield fh(_),m=Me().gapi;return se(m,_,"internal-error"),p.open({where:document.body,url:il(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pu,dontclear:!0},E=>new Promise(function(){var N=(0,u.Z)(function*(j,we){yield E.restyle({setHideOnLeave:!1});const Ge=ke(_,"network-request-failed"),at=Me().setTimeout(()=>{we(Ge)},Ko.get());function Dt(){Me().clearTimeout(at),j(E)}E.ping(Dt).then(Dt,()=>{we(Ge)})});return function(j,we){return N.apply(this,arguments)}}()))}),sl.apply(this,arguments)}const ol={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function uo(_,p,m,E,N,j){se(_.config.authDomain,_,"auth-domain-config-required"),se(_.config.apiKey,_,"invalid-api-key");const we={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:E,v:A.SDK_VERSION,eventId:N};if(p instanceof cs){p.setDefaultLanguage(_.languageCode),we.providerId=p.providerId||"",(0,R.xb)(p.getCustomParameters())||(we.customParameters=JSON.stringify(p.getCustomParameters()));for(const[at,Dt]of Object.entries(j||{}))we[at]=Dt}if(p instanceof oi){const at=p.getScopes().filter(Dt=>""!==Dt);at.length>0&&(we.scopes=at.join(","))}_.tenantId&&(we.tid=_.tenantId);const Ge=we;for(const at of Object.keys(Ge))void 0===Ge[at]&&delete Ge[at];return`${function Ma({config:_}){return _.emulator?Nt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,R.xO)(Ge).slice(1)}`}const gu="webStorageSupport",ep=class Xf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tr,this._completeRedirectFn=Er,this._overrideRedirectResult=Wl}_openPopup(p,m,E,N){var j=this;return(0,u.Z)(function*(){var we;ve(null===(we=j.eventManagers[p._key()])||void 0===we?void 0:we.manager,"_initialize() not called before _openPopup()");const Ge=uo(p,m,E,be(),N);return function _m(_,p,m,E=500,N=600){const j=Math.max((window.screen.availHeight-N)/2,0).toString(),we=Math.max((window.screen.availWidth-E)/2,0).toString();let Ge="";const at=Object.assign(Object.assign({},ol),{width:E.toString(),height:N.toString(),top:j,left:we}),Dt=(0,R.z$)().toLowerCase();m&&(Ge=Be(Dt)?"_blank":m),he(Dt)&&(p=p||"http://localhost",at.scrollbars="yes");const jt=Object.entries(at).reduce((bs,[lo,yh])=>`${bs}${lo}=${yh},`,"");if(function qr(_=(0,R.z$)()){var p;return Kt(_)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Dt)&&"_self"!==Ge)return function Yl(_,p){const m=document.createElement("a");m.href=_,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",Ge),new Yc(null);const jn=window.open(p||"",Ge,jt);se(jn,_,"popup-blocked");try{jn.focus()}catch(bs){}return new Yc(jn)}(p,Ge,O())})()}_openRedirect(p,m,E,N){var j=this;return(0,u.Z)(function*(){return yield j._originValidation(p),function dt(_){Me().location.href=_}(uo(p,m,E,be(),N)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:N,promise:j}=this.eventManagers[m];return N?Promise.resolve(N):(ve(j,"If manager is not set, promise should be"),j)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const E=yield function vm(_){return sl.apply(this,arguments)}(p),N=new xa(p);return E.register("authEvent",j=>(se(null==j?void 0:j.authEvent,p,"invalid-auth-event"),{status:N.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:N},m.iframes[p._key()]=E,N})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(gu,{type:gu},N=>{var j;const we=null===(j=null==N?void 0:N[0])||void 0===j?void 0:j[gu];void 0!==we&&m(!!we),Ve(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Kl(_){return hh.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Pr()||ae()||Kt()}};class tp extends class Em{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return U("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new tp(p)}_finalizeEnroll(p,m,E){return function au(_,p){return Gt(_,"POST","/v2/accounts/mfaEnrollment:finalize",xt(_,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function jr(_,p){return Gt(_,"POST","/v2/accounts/mfaSignIn:finalize",xt(_,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let np=(()=>{class _{constructor(){}static assertion(m){return tp._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var mh="@firebase/auth";class Cm{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{var N;p((null===(N=E)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function f_(_=(0,A.getApp)()){const p=(0,A._getProvider)(_,"auth");return p.isInitialized()?p.getImmediate():function ue(_,p){const m=(0,A._getProvider)(_,"auth");if(m.isInitialized()){const N=m.getImmediate(),j=m.getOptions();if((0,R.vZ)(j,null!=p?p:{}))return N;Ve(N,"already-initialized")}return m.initialize({options:p})}(_,{popupRedirectResolver:ep,persistence:[Vo,ft,tr]})}!function Qc(_){(0,A._registerComponent)(new Z.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),N=p.getProvider("heartbeat"),{apiKey:j,authDomain:we}=E.options;return((Ge,at)=>{se(j&&!j.includes(":"),"invalid-api-key",{appName:Ge.name}),se(!(null==we?void 0:we.includes(":")),"argument-error",{appName:Ge.name});const Dt={apiKey:j,authDomain:we,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pr(_)},jt=new It(Ge,at,Dt);return function de(_,p){const m=(null==p?void 0:p.persistence)||[],E=(Array.isArray(m)?m:[m]).map(ne);(null==p?void 0:p.errorMap)&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(jt,m),jt})(E,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,A._registerComponent)(new Z.wA("auth-internal",p=>{const m=Qe(p.getProvider("auth").getImmediate());return new Cm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,A.registerVersion)(mh,"0.20.3",function ip(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,A.registerVersion)(mh,"0.20.3","esm2017")}("Browser")},2090:(Ze,H,M)=>{"use strict";M.d(H,{BH:()=>Se,LL:()=>be,ZR:()=>de,zI:()=>J,US:()=>Z,tV:()=>le,L:()=>G,$s:()=>St,r3:()=>xt,Sg:()=>De,ne:()=>xr,vZ:()=>Pn,ZB:()=>K,pd:()=>Ur,m9:()=>yn,z$:()=>Ae,jU:()=>Ee,ru:()=>Ue,d:()=>ke,xb:()=>sn,w1:()=>Fe,hl:()=>U,uI:()=>Je,UG:()=>_e,b$:()=>Ve,G6:()=>se,Mn:()=>ge,xO:()=>ri,zd:()=>Vr,eu:()=>ve});const L=function(ee){const oe=[];let ce=0;for(let Oe=0;Oe<ee.length;Oe++){let Y=ee.charCodeAt(Oe);Y<128?oe[ce++]=Y:Y<2048?(oe[ce++]=Y>>6|192,oe[ce++]=63&Y|128):55296==(64512&Y)&&Oe+1<ee.length&&56320==(64512&ee.charCodeAt(Oe+1))?(Y=65536+((1023&Y)<<10)+(1023&ee.charCodeAt(++Oe)),oe[ce++]=Y>>18|240,oe[ce++]=Y>>12&63|128,oe[ce++]=Y>>6&63|128,oe[ce++]=63&Y|128):(oe[ce++]=Y>>12|224,oe[ce++]=Y>>6&63|128,oe[ce++]=63&Y|128)}return oe},Z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ee,oe){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ce=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Oe=[];for(let Y=0;Y<ee.length;Y+=3){const me=ee[Y],He=Y+1<ee.length,st=He?ee[Y+1]:0,wt=Y+2<ee.length,Mt=wt?ee[Y+2]:0;let Xn=(15&st)<<2|Mt>>6,Ie=63&Mt;wt||(Ie=64,He||(Xn=64)),Oe.push(ce[me>>2],ce[(3&me)<<4|st>>4],ce[Xn],ce[Ie])}return Oe.join("")},encodeString(ee,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(ee):this.encodeByteArray(L(ee),oe)},decodeString(ee,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(ee):function(ee){const oe=[];let ce=0,Oe=0;for(;ce<ee.length;){const Y=ee[ce++];if(Y<128)oe[Oe++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const me=ee[ce++];oe[Oe++]=String.fromCharCode((31&Y)<<6|63&me)}else if(Y>239&&Y<365){const wt=((7&Y)<<18|(63&ee[ce++])<<12|(63&ee[ce++])<<6|63&ee[ce++])-65536;oe[Oe++]=String.fromCharCode(55296+(wt>>10)),oe[Oe++]=String.fromCharCode(56320+(1023&wt))}else{const me=ee[ce++],He=ee[ce++];oe[Oe++]=String.fromCharCode((15&Y)<<12|(63&me)<<6|63&He)}}return oe.join("")}(this.decodeStringToByteArray(ee,oe))},decodeStringToByteArray(ee,oe){this.init_();const ce=oe?this.charToByteMapWebSafe_:this.charToByteMap_,Oe=[];for(let Y=0;Y<ee.length;){const me=ce[ee.charAt(Y++)],st=Y<ee.length?ce[ee.charAt(Y)]:0;++Y;const Mt=Y<ee.length?ce[ee.charAt(Y)]:64;++Y;const Ot=Y<ee.length?ce[ee.charAt(Y)]:64;if(++Y,null==me||null==st||null==Mt||null==Ot)throw Error();Oe.push(me<<2|st>>4),64!==Mt&&(Oe.push(st<<4&240|Mt>>2),64!==Ot&&Oe.push(Mt<<6&192|Ot))}return Oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}},G=function(ee){return function(ee){const oe=L(ee);return Z.encodeByteArray(oe,!0)}(ee).replace(/\./g,"")},le=function(ee){try{return Z.decodeString(ee,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function K(ee,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===ee&&(ee={});break;case Array:ee=[];break;default:return oe}for(const ce in oe)!oe.hasOwnProperty(ce)||!X(ce)||(ee[ce]=K(ee[ce],oe[ce]));return ee}function X(ee){return"__proto__"!==ee}class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,ce)=>{this.resolve=oe,this.reject=ce})}wrapCallback(oe){return(ce,Oe)=>{ce?this.reject(ce):this.resolve(Oe),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(ce):oe(ce,Oe))}}}function De(ee,oe){if(ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Oe=oe||"demo-project",Y=ee.iat||0,me=ee.sub||ee.user_id;if(!me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const He=Object.assign({iss:`https://securetoken.google.com/${Oe}`,aud:Oe,iat:Y,exp:Y+3600,auth_time:Y,sub:me,user_id:me,firebase:{sign_in_provider:"custom",identities:{}}},ee);return[G(JSON.stringify({alg:"none",type:"JWT"})),G(JSON.stringify(He)),""].join(".")}function Ae(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ee){return!1}}function Ee(){return"object"==typeof self&&self.self===self}function Ue(){const ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return Ae().indexOf("Electron/")>=0}function Fe(){const ee=Ae();return ee.indexOf("MSIE ")>=0||ee.indexOf("Trident/")>=0}function ge(){return Ae().indexOf("MSAppHost/")>=0}function se(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){return"object"==typeof indexedDB}function ve(){return new Promise((ee,oe)=>{try{let ce=!0;const Oe="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(Oe);Y.onsuccess=()=>{Y.result.close(),ce||self.indexedDB.deleteDatabase(Oe),ee(!0)},Y.onupgradeneeded=()=>{ce=!1},Y.onerror=()=>{var me;oe((null===(me=Y.error)||void 0===me?void 0:me.message)||"")}}catch(ce){oe(ce)}})}function J(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class de extends Error{constructor(oe,ce,Oe){super(ce),this.code=oe,this.customData=Oe,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(oe,ce,Oe){this.service=oe,this.serviceName=ce,this.errors=Oe}create(oe,...ce){const Oe=ce[0]||{},Y=`${this.service}/${oe}`,me=this.errors[oe],He=me?function ze(ee,oe){return ee.replace(mt,(ce,Oe)=>{const Y=oe[Oe];return null!=Y?String(Y):`<${Oe}?>`})}(me,Oe):"Error";return new de(Y,`${this.serviceName}: ${He} (${Y}).`,Oe)}}const mt=/\{\$([^}]+)}/g;function xt(ee,oe){return Object.prototype.hasOwnProperty.call(ee,oe)}function sn(ee){for(const oe in ee)if(Object.prototype.hasOwnProperty.call(ee,oe))return!1;return!0}function Pn(ee,oe){if(ee===oe)return!0;const ce=Object.keys(ee),Oe=Object.keys(oe);for(const Y of ce){if(!Oe.includes(Y))return!1;const me=ee[Y],He=oe[Y];if(En(me)&&En(He)){if(!Pn(me,He))return!1}else if(me!==He)return!1}for(const Y of Oe)if(!ce.includes(Y))return!1;return!0}function En(ee){return null!==ee&&"object"==typeof ee}function ri(ee){const oe=[];for(const[ce,Oe]of Object.entries(ee))Array.isArray(Oe)?Oe.forEach(Y=>{oe.push(encodeURIComponent(ce)+"="+encodeURIComponent(Y))}):oe.push(encodeURIComponent(ce)+"="+encodeURIComponent(Oe));return oe.length?"&"+oe.join("&"):""}function Vr(ee){const oe={};return ee.replace(/^\?/,"").split("&").forEach(Oe=>{if(Oe){const[Y,me]=Oe.split("=");oe[decodeURIComponent(Y)]=decodeURIComponent(me)}}),oe}function Ur(ee){const oe=ee.indexOf("?");if(!oe)return"";const ce=ee.indexOf("#",oe);return ee.substring(oe,ce>0?ce:void 0)}function xr(ee,oe){const ce=new ct(ee,oe);return ce.subscribe.bind(ce)}class ct{constructor(oe,ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ce,this.task.then(()=>{oe(this)}).catch(Oe=>{this.error(Oe)})}next(oe){this.forEachObserver(ce=>{ce.next(oe)})}error(oe){this.forEachObserver(ce=>{ce.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,ce,Oe){let Y;if(void 0===oe&&void 0===ce&&void 0===Oe)throw new Error("Missing Observer.");Y=function On(ee,oe){if("object"!=typeof ee||null===ee)return!1;for(const ce of oe)if(ce in ee&&"function"==typeof ee[ce])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:ce,complete:Oe},void 0===Y.next&&(Y.next=Ft),void 0===Y.error&&(Y.error=Ft),void 0===Y.complete&&(Y.complete=Ft);const me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(He){}}),this.observers.push(Y),me}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let ce=0;ce<this.observers.length;ce++)this.sendOne(ce,oe)}sendOne(oe,ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{ce(this.observers[oe])}catch(Oe){"undefined"!=typeof console&&console.error&&console.error(Oe)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ft(){}function St(ee,oe=1e3,ce=2){const Oe=oe*Math.pow(ce,ee),Y=Math.round(.5*Oe*(Math.random()-.5)*2);return Math.min(144e5,Oe+Y)}function yn(ee){return ee&&ee._delegate?ee._delegate:ee}},7396:(Ze,H,M)=>{"use strict";var u=M(5e3);let R=null;function A(){return R}const W=new u.OlP("DocumentToken");let G=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function le(){return(0,u.LFG)(K)}()},providedIn:"platform"}),n})();const z=new u.OlP("Location Initialized");let K=(()=>{class n extends G{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(t){const r=A().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=A().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){X()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){X()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Se(){return new K((0,u.LFG)(W))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function De(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ee(n){const e=(0,u.LFG)(W).location;return new Ve((0,u.LFG)(G),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ue=new u.OlP("appBaseHref");let Ve=(()=>{class n extends _e{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return De(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Je(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const d=this.prepareExternalUrl(o+Je(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){const d=this.prepareExternalUrl(o+Je(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(G),u.LFG(Ue,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=De(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let d=this.prepareExternalUrl(o+Je(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){let d=this.prepareExternalUrl(o+Je(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(G),u.LFG(Ue,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ae(se(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Je(r))}normalize(t){return n.stripTrailingSlash(function Ne(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,se(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Je,n.joinWithSlash=De,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(u.LFG(_e),u.LFG(G))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ge(){return new Fe((0,u.LFG)(_e),(0,u.LFG)(G))}()},providedIn:"root"}),n})();function se(n){return n.replace(/\/index.html$/,"")}function xs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}class qs{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mn=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,l,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new qs(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const g=r.get(l);r.move(g,d),as(g,o)}});for(let o=0,l=r.length;o<l;o++){const g=r.get(o).context;g.index=o,g.count=l,g.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{as(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function as(n,e){n.context.$implicit=e.item}let br=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _n,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Uu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Uu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class _n{constructor(){this.$implicit=null,this.ngIf=null}}function Uu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}function er(n,e){return new u.vHH(2100,"")}class Wa{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Nl{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const qi=new Nl,Vc=new Wa;let Ka=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return qi;if((0,u.F4k)(t))return Vc;throw er()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1}),n})(),Ya=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw er();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"uppercase",type:n,pure:!0}),n})(),ds=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Yn(n){return"server"===n}let la=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new ca((0,u.LFG)(W),window)}),n})();class ca{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ki(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ja(this.window.history)||Ja(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ja(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Cn{}class Yi extends class Os extends class Z{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function B(n){R||(R=n)}(new Yi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function da(){return wn=wn||document.querySelector("base"),wn?wn.getAttribute("href"):null}();return null==t?null:function Ei(n){Co=Co||document.createElement("a"),Co.setAttribute("href",n);const e=Co.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xs(document.cookie,e)}}let Co,wn=null;const gr=new u.OlP("TRANSITION_ID"),$n=[{provide:u.ip1,useFactory:function Io(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=A(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[gr,W,u.zs3],multi:!0}];class Qi{static init(){(0,u.VLi)(new Qi)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let l=o.length,d=!1;const g=function(v){d=d||v,l--,0==l&&r(d)};o.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?A().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ar=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Js=new u.OlP("EventManagerPlugins");let ai=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const d=o[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Js),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ha{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=A().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Wr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),hs=(()=>{class n extends Wr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(fs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(fs))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function fs(n){A().remove(n)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Do=/%COMP%/g;function je(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?je(n,o,t):(o=o.replace(Do,n),t.push(o))}return t}function Bt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ps(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new fa(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new tu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=je(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ai),u.LFG(hs),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ps{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ct[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=Ct[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ct[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Bt(r)):this.eventManager.addEventListener(e,t,Bt(r))}}class fa extends ps{constructor(e,t,r,o){super(e),this.component=r;const l=je(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function So(n){return"_ngcontent-%COMP%".replace(Do,n)}(o+"-"+r.id),this.hostAttr=function Vl(n){return"_nghost-%COMP%".replace(Do,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class tu extends ps{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=je(o.id,o.styles,[]);for(let d=0;d<l.length;d++){const g=document.createElement("style");g.textContent=l[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gu=(()=>{class n extends ha{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const zu=["alt","control","meta","shift"],to={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ur={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ci={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nu=(()=>{class n extends ha{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>A().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let d="";if(zu.forEach(v=>{const D=r.indexOf(v);D>-1&&(r.splice(D,1),d+=v+".")}),d+=l,0!=r.length||0===l.length)return null;const g={};return g.domEventName=o,g.fullKey=d,g}static getEventFullKey(t){let r="",o=function Ni(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ur.hasOwnProperty(e)&&(e=ur[e]))}return to[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),zu.forEach(l=>{l!=o&&Ci[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const iu=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Ji(){Yi.makeCurrent(),Qi.init()},multi:!0},{provide:W,useFactory:function ru(){return(0,u.RDi)(document),document},deps:[]}]),Ps=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Oo(){return new u.qLn},deps:[]},{provide:Js,useClass:Gu,multi:!0,deps:[W,u.R0b,u.Lbi]},{provide:Js,useClass:nu,multi:!0,deps:[W]},{provide:Hn,useClass:Hn,deps:[ai,hs,u.AFp]},{provide:u.FYo,useExisting:Hn},{provide:Wr,useExisting:hs},{provide:hs,useClass:hs,deps:[W]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:ai,useClass:ai,deps:[Js,u.R0b]},{provide:Cn,useClass:ar,deps:[]}];let su=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:gr,useExisting:u.AFp},$n]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Ps,imports:[ds,u.hGG]}),n})();"undefined"!=typeof window&&window;var Zn=M(8996),ya=M(7669);function ft(...n){const e=(0,ya.yG)(n);return(0,Zn.D)(n,e)}var ms=M(7579);class tr extends ms.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var b=M(9751);const{isArray:C}=Array,{getPrototypeOf:O,prototype:Q,keys:Me}=Object;function dt(n){if(1===n.length){const e=n[0];if(C(e))return{args:e,keys:null};if(function In(n){return n&&"object"==typeof n&&O(n)===Q}(e)){const t=Me(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var cr=M(4671),ht=M(4004);const{isArray:Ns}=Array;function Zl(n){return(0,ht.U)(e=>function va(n,e){return Ns(e)?n(...e):n(e)}(n,e))}function zc(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Gn=M(5403),Ku=M(9672);function Di(n,e,t){n?(0,Ku.f)(t,n,e):e()}var _a=M(576);function Fo(n,e){const t=(0,_a.m)(n)?n:()=>n,r=o=>o.error(t());return new b.y(e?o=>e.schedule(r,0,o):r)}const wa=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var oo=M(8189);function uu(...n){return function ba(){return(0,oo.J)(1)}()((0,Zn.D)(n,(0,ya.yG)(n)))}var Ea=M(8421);function lu(n){return new b.y(e=>{(0,Ea.Xf)(n()).subscribe(e)})}var Vo=M(515),Gl=M(727),jr=M(4482);function Uo(){return(0,jr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ca extends b.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,jr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Gl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Gl.w0.EMPTY)}return e}refCount(){return Uo()(this)}}function Fr(n,e){return(0,jr.e)((t,r)=>{let o=null,l=0,d=!1;const g=()=>d&&!o&&r.complete();t.subscribe((0,Gn.x)(r,v=>{null==o||o.unsubscribe();let D=0;const P=l++;(0,Ea.Xf)(n(v,P)).subscribe(o=(0,Gn.x)(r,V=>r.next(e?e(v,V,P,D++):V),()=>{o=null,g()}))},()=>{d=!0,g()}))})}var Ls=M(5698);function ys(...n){const e=(0,ya.yG)(n);return(0,jr.e)((t,r)=>{(e?uu(n,t,e):uu(n,t)).subscribe(r)})}function ao(n,e,t,r,o){return(l,d)=>{let g=t,v=e,D=0;l.subscribe((0,Gn.x)(d,P=>{const V=D++;v=g?n(v,P,V):(g=!0,P),r&&d.next(v)},o&&(()=>{g&&d.next(v),d.complete()})))}}function vs(n,e){return(0,jr.e)(ao(n,e,arguments.length>=2,!0))}function $r(n,e){return(0,jr.e)((t,r)=>{let o=0;t.subscribe((0,Gn.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}function Vs(n){return(0,jr.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,Gn.x)(t,void 0,void 0,d=>{l=(0,Ea.Xf)(n(d,Vs(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}var nr=M(5577);function Bo(n,e){return(0,_a.m)(e)?(0,nr.z)(n,e,1):(0,nr.z)(n,1)}function jo(n){return n<=0?()=>Vo.E:(0,jr.e)((e,t)=>{let r=[];e.subscribe((0,Gn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function rr(n=Wf){return(0,jr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Wf(){return new wa}function Kf(n){return(0,jr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Ia(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$r((o,l)=>n(o,l,r)):cr.y,(0,Ls.q)(1),t?Kf(e):rr(()=>new wa))}var li=M(8505);class Us{constructor(e,t){this.id=e,this.url=t}}class $o extends Us{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Da extends Us{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dr extends Us{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cu extends Us{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class du extends Us{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ah extends Us{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uh extends Us{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yr extends Us{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti extends Us{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ta{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Aa{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ho{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bs{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jt="primary";class Qu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qn(n){return new Qu(n)}const Ju="ngNavigationCancelingError";function Zo(n){const e=Error("NavigationCancelingError: "+n);return e[Ju]=!0,e}function Xu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const d=r[l],g=n[l];if(d.startsWith(":"))o[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Lr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!ql(n[o],e[o]))return!1;return!0}function ql(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function el(n){return Array.prototype.concat.apply([],n)}function tl(n){return n.length>0?n[n.length-1]:null}function zn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function yr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Zn.D)(Promise.resolve(n)):ft(n)}const Sa={exact:function Wl(n,e,t){if(!At(n.segments,e.segments)||!q(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Wl(n.children[r],e.children[r],t))return!1;return!0},subset:S},zo={exact:function ch(n,e){return Lr(n,e)},subset:function T(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ql(n[t],e[t]))},ignored:()=>!0};function qo(n,e,t){return Sa[t.paths](n.root,e.root,t.matrixParams)&&zo[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function S(n,e,t){return F(n,e,e.segments,t)}function F(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!At(o,t)||e.hasChildren()||!q(o,t,r))}if(n.segments.length===t.length){if(!At(n.segments,t)||!q(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!S(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(At(n.segments,o)&&q(n.segments,o,r)&&n.children[Jt])&&F(n.children[Jt],e,l,r)}}function q(n,e,t){return e.every((r,o)=>zo[t](n[o].parameters,r.parameters))}class fe{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return Qr.serialize(this)}}class pe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,zn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Er(this)}}class Pe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qn(this.parameters)),this._parameterMap}toString(){return ws(this)}}function At(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class rn{}class Rt{parse(e){const t=new Jf(e);return new fe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ai(e.root,!0)}`,r=function dh(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Fi(t)}=${Fi(o)}`).join("&"):`${Fi(t)}=${Fi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function fu(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Qr=new Rt;function Er(n){return n.segments.map(e=>ws(e)).join("/")}function Ai(n,e){if(!n.hasChildren())return Er(n);if(e){const t=n.children[Jt]?Ai(n.children[Jt],!1):"",r=[];return zn(n.children,(o,l)=>{l!==Jt&&r.push(`${l}:${Ai(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Xt(n,e){let t=[];return zn(n.children,(r,o)=>{o===Jt&&(t=t.concat(e(r,o)))}),zn(n.children,(r,o)=>{o!==Jt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Jt?[Ai(n.children[Jt],!1)]:[`${o}:${Ai(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${Er(n)}/${t[0]}`:`${Er(n)}/(${t.join("//")})`}}function ns(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fi(n){return ns(n).replace(/%3B/gi,";")}function xa(n){return ns(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _s(n){return decodeURIComponent(n)}function rs(n){return _s(n.replace(/\+/g,"%20"))}function ws(n){return`${xa(n.path)}${function nl(n){return Object.keys(n).map(e=>`;${xa(e)}=${xa(n[e])}`).join("")}(n.parameters)}`}const gm=/^[^\/()?;=#]+/;function Wo(n){const e=n.match(gm);return e?e[0]:""}const Kl=/^[^=?&#]+/,h_=/^[^&#]+/;class Jf{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Jt]=new pe(e,t)),r}parseSegment(){const e=Wo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Pe(_s(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Wo(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Wo(this.remaining);o&&(r=o,this.capture(r))}e[_s(t)]=_s(r)}parseQueryParam(e){const t=function hh(n){const e=n.match(Kl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Qf(n){const e=n.match(h_);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=rs(t),l=rs(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wo(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Jt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Jt]:new pe([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class mm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rl(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=rl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return fh(e,this._root).map(t=>t.value)}}function rl(n,e){if(n===e.value)return e;for(const t of e.children){const r=rl(n,t);if(r)return r}return null}function fh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fh(n,t);if(r.length)return r.unshift(e),r}return[]}class Ko{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class qc extends mm{constructor(e,t){super(e),this.snapshot=t,Wc(this,e)}toString(){return this.snapshot.toString()}}function pu(n,e){const t=function ym(n,e){const d=new ol([],{},{},"",{},Jt,e,null,n.root,-1,{});return new ph("",new Ko(d,[]))}(n,e),r=new tr([new Pe("",{})]),o=new tr({}),l=new tr({}),d=new tr({}),g=new tr(""),v=new il(r,o,d,g,l,Jt,e,t.root);return v.snapshot=t.root,new qc(new Ko(v,[]),t)}class il{constructor(e,t,r,o,l,d,g,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=d,this.component=g,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>Qn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>Qn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function sl(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ol{constructor(e,t,r,o,l,d,g,v,D,P,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=d,this.component=g,this.routeConfig=v,this._urlSegment=D,this._lastPathIndex=P,this._resolve=V}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ph extends mm{constructor(e,t){super(t),this.url=e,Wc(this,t)}toString(){return gh(this._root)}}function Wc(n,e){e.value._routerState=n,e.children.forEach(t=>Wc(n,t))}function gh(n){const e=n.children.length>0?` { ${n.children.map(gh).join(", ")} } `:"";return`${n.value}${e}`}function Kc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Lr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Lr(e.params,t.params)||n.params.next(t.params),function lh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Lr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Lr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Yc(n,e){const t=Lr(n.params,e.params)&&function lt(n,e){return At(n,e)&&n.every((t,r)=>Lr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Yc(n.parent,e.parent))}function Yl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function wm(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Yl(n,r,o);return Yl(n,r)})}(n,e,t);return new Ko(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>Yl(n,g)),d}}const r=function bm(n){return new il(new tr(n.url),new tr(n.params),new tr(n.queryParams),new tr(n.fragment),new tr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>Yl(n,l));return new Ko(r,o)}}function Ma(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function gu(n){return"object"==typeof n&&null!=n&&n.outlets}function Xf(n,e,t,r,o){let l={};if(r&&zn(r,(g,v)=>{l[v]=Array.isArray(g)?g.map(D=>`${D}`):`${g}`}),n===e)return new fe(t,l,o);const d=ep(n,e,t);return new fe(d,l,o)}function ep(n,e,t){const r={};return zn(n.children,(o,l)=>{r[l]=o===e?t:ep(o,e,t)}),new pe(n.segments,r)}class Em{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ma(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(gu);if(o&&o!==tl(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class np{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ip(n,e,t){if(n||(n=new pe([],{})),0===n.segments.length&&n.hasChildren())return Qc(n,e,t);const r=function f_(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const d=n.segments[o],g=t[r];if(gu(g))break;const v=`${g}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===v)break;if(v&&D&&"object"==typeof D&&void 0===D.outlets){if(!E(v,D,d))return l;r+=2}else{if(!E(v,{},d))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new pe(n.segments.slice(0,r.pathIndex),{});return l.children[Jt]=new pe(n.segments.slice(r.pathIndex),n.children),Qc(l,0,o)}return r.match&&0===o.length?new pe(n.segments,{}):r.match&&!n.hasChildren()?_(n,e,t):r.match?Qc(n,0,o):_(n,e,t)}function Qc(n,e,t){if(0===t.length)return new pe(n.segments,{});{const r=function Cm(n){return gu(n[0])?n[0].outlets:{[Jt]:n}}(t),o={};return zn(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[d]=ip(n.children[d],e,l))}),zn(n.children,(l,d)=>{void 0===r[d]&&(o[d]=l)}),new pe(n.segments,o)}}function _(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(gu(l)){const v=p(l.outlets);return new pe(r,v)}if(0===o&&Ma(t[0])){r.push(new Pe(n.segments[e].path,m(t[0]))),o++;continue}const d=gu(l)?l.outlets[Jt]:`${l}`,g=o<t.length-1?t[o+1]:null;d&&g&&Ma(g)?(r.push(new Pe(d,m(g))),o+=2):(r.push(new Pe(d,{})),o++)}return new pe(r,{})}function p(n){const e={};return zn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=_(new pe([],{}),0,t))}),e}function m(n){const e={};return zn(n,(t,r)=>e[r]=`${t}`),e}function E(n,e,t){return n==t.path&&Lr(e,t.parameters)}class j{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Kc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Yo(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,o[d],r),delete o[d]}),zn(o,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Yo(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Yo(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Yo(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new hu(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Yu(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Kc(o),o===l)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),Kc(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=function we(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),v=g?g.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=v,d.outlet&&d.outlet.activateWith(o,v),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Ge{constructor(e,t){this.routes=e,this.module=t}}function at(n){return"function"==typeof n}function jt(n){return n instanceof fe}const Ql=Symbol("INITIAL_VALUE");function Oa(){return Fr(n=>function Fs(...n){const e=(0,ya.yG)(n),t=(0,ya.jO)(n),{args:r,keys:o}=dt(n);if(0===r.length)return(0,Zn.D)([],e);const l=new b.y(function No(n,e,t=cr.y){return r=>{Di(e,()=>{const{length:o}=n,l=new Array(o);let d=o,g=o;for(let v=0;v<o;v++)Di(e,()=>{const D=(0,Zn.D)(n[v],e);let P=!1;D.subscribe((0,Gn.x)(r,V=>{l[v]=V,P||(P=!0,g--),g||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>zc(o,d):cr.y));return t?l.pipe(Zl(t)):l}(n.map(e=>e.pipe((0,Ls.q)(1),ys(Ql)))).pipe(vs((e,t)=>{let r=!1;return t.reduce((o,l,d)=>o!==Ql?o:(l===Ql&&(r=!0),r||!1!==l&&d!==t.length-1&&!jt(l)?o:l),e)},Ql),$r(e=>e!==Ql),(0,ht.U)(e=>jt(e)?e:!0===e),(0,Ls.q)(1)))}class sp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new al,this.attachRef=null}}class al{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new sp,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Jl=(()=>{class n{constructor(t,r,o,l,d){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=l||Jt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,v=new op(t,g,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(al),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class op{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===il?this.route:e===al?this.childContexts:this.parent.get(e,t)}}let Jc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Jl],encapsulation:2}),n})();function mu(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];ap(r,vh(e,r))}}function ap(n,e){n.children&&mu(n.children,e)}function vh(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Xl(n){const e=n.children&&n.children.map(Xl),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=Jc),t}function Dn(n){return n.outlet||Jt}function p_(n,e){const t=n.filter(r=>Dn(r)===e);return t.push(...n.filter(r=>Dn(r)!==e)),t}const g_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xc(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},g_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Xu)(t,n,e);if(!l)return Object.assign({},g_);const d={};zn(l.posParams,(v,D)=>{d[D]=v.path});const g=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:g,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function _h(n,e,t,r,o="corrected"){if(t.length>0&&function FE(n,e,t){return t.some(r=>up(n,e,r)&&Dn(r)!==Jt)}(n,t,r)){const d=new pe(e,function NE(n,e,t,r){const o={};o[Jt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Dn(l)!==Jt){const d=new pe([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[Dn(l)]=d}return o}(n,e,r,new pe(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function LE(n,e,t){return t.some(r=>up(n,e,r))}(n,t,r)){const d=new pe(n.segments,function kE(n,e,t,r,o,l){const d={};for(const g of r)if(up(n,t,g)&&!o[Dn(g)]){const v=new pe([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[Dn(g)]=v}return Object.assign(Object.assign({},o),d)}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new pe(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function up(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function VE(n,e,t,r){return!!(Dn(n)===r||r!==Jt&&up(e,t,n))&&("**"===n.path||Xc(e,n,t).matched)}function UE(n,e,t){return 0===e.length&&!n.children[t]}class ul{constructor(e){this.segmentGroup=e||null}}class Li{constructor(e){this.urlTree=e}}function ec(n){return Fo(new ul(n))}function Im(n){return Fo(new Li(n))}class Dm{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=_h(this.urlTree.root,[],[],this.config).segmentGroup,t=new pe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Jt).pipe((0,ht.U)(l=>this.createUrlTree(Tm(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vs(l=>{if(l instanceof Li)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof ul?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Jt).pipe((0,ht.U)(o=>this.createUrlTree(Tm(o),e.queryParams,e.fragment))).pipe(Vs(o=>{throw o instanceof ul?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new pe([],{[Jt]:e}):e;return new fe(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ht.U)(l=>new pe([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,Zn.D)(o).pipe(Bo(l=>{const d=r.children[l],g=p_(t,l);return this.expandSegmentGroup(e,g,d,l).pipe((0,ht.U)(v=>({segment:v,outlet:l})))}),vs((l,d)=>(l[d.outlet]=d.segment,l),{}),function Yf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$r((o,l)=>n(o,l,r)):cr.y,jo(1),t?Kf(e):rr(()=>new wa))}())}expandSegment(e,t,r,o,l,d){return(0,Zn.D)(r).pipe(Bo(g=>this.expandSegmentAgainstRoute(e,t,r,g,o,l,d).pipe(Vs(D=>{if(D instanceof ul)return ft(null);throw D}))),Ia(g=>!!g),Vs((g,v)=>{if(g instanceof wa||"EmptyError"===g.name)return UE(t,o,l)?ft(new pe([],{})):ec(t);throw g}))}expandSegmentAgainstRoute(e,t,r,o,l,d,g){return VE(o,t,l,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d):ec(t):ec(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Im(l):this.lineralizeSegments(r,l).pipe((0,nr.z)(d=>{const g=new pe(d,{});return this.expandSegment(e,g,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){const{matched:g,consumedSegments:v,remainingSegments:D,positionalParamSegments:P}=Xc(t,o,l);if(!g)return ec(t);const V=this.applyRedirectCommands(v,o.redirectTo,P);return o.redirectTo.startsWith("/")?Im(V):this.lineralizeSegments(o,V).pipe((0,nr.z)(te=>this.expandSegment(e,t,r,te.concat(D),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ft(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,ht.U)(V=>(r._loadedConfig=V,new pe(o,{})))):ft(new pe(o,{}));const{matched:d,consumedSegments:g,remainingSegments:v}=Xc(t,r,o);return d?this.getChildConfig(e,r,o).pipe((0,nr.z)(P=>{const V=P.module,te=P.routes,{segmentGroup:ie,slicedSegments:Ce}=_h(t,g,v,te),We=new pe(ie.segments,ie.children);if(0===Ce.length&&We.hasChildren())return this.expandChildren(V,te,We).pipe((0,ht.U)(fn=>new pe(g,fn)));if(0===te.length&&0===Ce.length)return ft(new pe(g,{}));const ot=Dn(r)===l;return this.expandSegment(V,We,te,Ce,ot?Jt:l,!0).pipe((0,ht.U)(Yt=>new pe(g.concat(Yt.segments),Yt.children)))})):ec(t)}getChildConfig(e,t,r){return t.children?ft(new Ge(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ft(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,nr.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,ht.U)(l=>(t._loadedConfig=l,l))):function Vi(n){return Fo(Zo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ft(new Ge([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?ft(o.map(d=>{const g=e.get(d);let v;if(function jn(n){return n&&at(n.canLoad)}(g))v=g.canLoad(t,r);else{if(!at(g))throw new Error("Invalid CanLoad guard");v=g(t,r)}return yr(v)})).pipe(Oa(),(0,li.b)(d=>{if(!jt(d))return;const g=Zo(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw g.url=d,g}),(0,ht.U)(d=>!0===d)):ft(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ft(r);if(o.numberOfChildren>1||!o.children[Jt])return Fo(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[Jt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new fe(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return zn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[l]=t[g]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let d={};return zn(t.children,(g,v)=>{d[v]=this.createSegmentGroup(e,g,r,o)}),new pe(l,d)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Tm(n){const e={};for(const r of Object.keys(n.children)){const l=Tm(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function BE(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new pe(n.segments.concat(e.segments),e.children)}return n}(new pe(n.segments,e))}class v_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bh{constructor(e,t){this.component=e,this.route=t}}function jE(n,e,t){const r=n._root;return tc(r,e?e._root:null,t,[r.value])}function lp(n,e,t){const r=function $E(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function tc(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Yo(e);return n.children.forEach(d=>{(function HE(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const v=function ZE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!At(n.url,e.url);case"pathParamsOrQueryParamsChange":return!At(n.url,e.url)||!Lr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yc(n,e)||!Lr(n.queryParams,e.queryParams);default:return!Yc(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new v_(r)):(l.data=d.data,l._resolvedData=d._resolvedData),tc(n,e,l.component?g?g.children:null:t,r,o),v&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new bh(g.outlet.component,d))}else d&&nc(e,g,o),o.canActivateChecks.push(new v_(r)),tc(n,null,l.component?g?g.children:null:t,r,o)})(d,l[d.value.outlet],t,r.concat([d.value]),o),delete l[d.value.outlet]}),zn(l,(d,g)=>nc(d,t.getContext(g),o)),o}function nc(n,e,t){const r=Yo(n),o=n.value;zn(r,(l,d)=>{nc(l,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new bh(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class w_{}function b_(n){return new b.y(e=>e.error(n))}class XE{constructor(e,t,r,o,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=_h(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Jt);if(null===t)return null;const r=new ol([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ko(r,t),l=new ph(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=vm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],g=p_(e,l),v=this.processSegmentGroup(g,d,l);if(null===v)return null;r.push(...v)}const o=E_(r);return function eC(n){n.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,o);if(null!==d)return d}return UE(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!VE(e,t,r,o))return null;let l,d=[],g=[];if("**"===e.path){const ie=r.length>0?tl(r).parameters:{};l=new ol(r,ie,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rC(e),Dn(e),e.component,e,rc(t),Qo(t)+r.length,iC(e))}else{const ie=Xc(t,e,r);if(!ie.matched)return null;d=ie.consumedSegments,g=ie.remainingSegments,l=new ol(d,ie.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rC(e),Dn(e),e.component,e,rc(t),Qo(t)+d.length,iC(e))}const v=function tC(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:P}=_h(t,d,g,v.filter(ie=>void 0===ie.redirectTo),this.relativeLinkResolution);if(0===P.length&&D.hasChildren()){const ie=this.processChildren(v,D);return null===ie?null:[new Ko(l,ie)]}if(0===v.length&&0===P.length)return[new Ko(l,[])];const V=Dn(e)===o,te=this.processSegment(v,D,P,V?Jt:o);return null===te?null:[new Ko(l,te)]}}function nC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function E_(n){const e=[],t=new Set;for(const r of n){if(!nC(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=E_(r.children);e.push(new Ko(r.value,o))}return e.filter(r=>!t.has(r))}function rc(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qo(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function rC(n){return n.data||{}}function iC(n){return n.resolve||{}}function dp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function hp(n){return Fr(e=>{const t=n(e);return t?(0,Zn.D)(t).pipe((0,ht.U)(()=>e)):ft(e)})}class D_ extends class I_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ch=new u.OlP("ROUTES");class fp{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,ht.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new Ge(el(d.injector.get(Ch,void 0,u.XFs.Self|u.XFs.Optional)).map(Xl),d)}),Vs(l=>{throw t._loader$=void 0,l}));return t._loader$=new Ca(o,()=>new ms.x).pipe(Uo()),t._loader$}loadModuleFactory(e){return yr(e()).pipe((0,nr.z)(t=>t instanceof u.YKP?ft(t):(0,Zn.D)(this.compiler.compileModuleAsync(t))))}}class KA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ed(n){throw n}function Sm(n,e,t){return e.parse("/")}function xm(n,e){return ft(null)}const oC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ir=(()=>{class n{constructor(t,r,o,l,d,g,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ms.x,this.errorHandler=ed,this.malformedUriErrorHandler=Sm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xm,afterPreactivation:xm},this.urlHandlingStrategy=new KA,this.routeReuseStrategy=new D_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const V=d.get(u.R0b);this.isNgZoneEnabled=V instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function pm(){return new fe(new pe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fp(d,g,te=>this.triggerEvent(new Ta(te)),te=>this.triggerEvent(new Aa(te))),this.routerState=pu(this.currentUrlTree,this.rootComponentType),this.transitions=new tr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe($r(o=>0!==o.id),(0,ht.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Fr(o=>{let l=!1,d=!1;return ft(o).pipe((0,li.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fr(g=>{const v=this.browserUrlTree.toString(),D=!this.navigated||g.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return A_(g.source)&&(this.browserUrlTree=g.extractedUrl),ft(g).pipe(Fr(V=>{const te=this.transitions.getValue();return r.next(new $o(V.id,this.serializeUrl(V.extractedUrl),V.source,V.restoredState)),te!==this.transitions.getValue()?Vo.E:Promise.resolve(V)}),function y_(n,e,t,r){return Fr(o=>function wh(n,e,t,r,o){return new Dm(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,ht.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,li.b)(V=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:V.urlAfterRedirects})}),function C_(n,e,t,r,o){return(0,nr.z)(l=>function JE(n,e,t,r,o="emptyOnly",l="legacy"){try{const d=new XE(n,e,t,r,o,l).recognize();return null===d?b_(new w_):ft(d)}catch(d){return b_(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,ht.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,V=>this.serializeUrl(V),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,li.b)(V=>{if("eager"===this.urlUpdateStrategy){if(!V.extras.skipLocationChange){const ie=this.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl);this.setBrowserUrl(ie,V)}this.browserUrlTree=V.urlAfterRedirects}const te=new du(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);r.next(te)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:te,extractedUrl:ie,source:Ce,restoredState:We,extras:ot}=g,Tt=new $o(te,this.serializeUrl(ie),Ce,We);r.next(Tt);const Yt=pu(ie,this.rootComponentType).snapshot;return ft(Object.assign(Object.assign({},g),{targetSnapshot:Yt,urlAfterRedirects:ie,extras:Object.assign(Object.assign({},ot),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),Vo.E}),hp(g=>{const{targetSnapshot:v,id:D,extractedUrl:P,rawUrl:V,extras:{skipLocationChange:te,replaceUrl:ie}}=g;return this.hooks.beforePreactivation(v,{navigationId:D,appliedUrlTree:P,rawUrlTree:V,skipLocationChange:!!te,replaceUrl:!!ie})}),(0,li.b)(g=>{const v=new ah(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),(0,ht.U)(g=>Object.assign(Object.assign({},g),{guards:jE(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function GE(n,e){return(0,nr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?ft(Object.assign(Object.assign({},t),{guardsResult:!0})):function zE(n,e,t,r){return(0,Zn.D)(n).pipe((0,nr.z)(o=>function QE(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?ft(l.map(g=>{const v=lp(g,e,o);let D;if(function yh(n){return n&&at(n.canDeactivate)}(v))D=yr(v.canDeactivate(n,e,t,r));else{if(!at(v))throw new Error("Invalid CanDeactivate guard");D=yr(v(n,e,t,r))}return D.pipe(Ia())})).pipe(Oa()):ft(!0)}(o.component,o.route,t,e,r)),Ia(o=>!0!==o,!0))}(d,r,o,n).pipe((0,nr.z)(g=>g&&function Dt(n){return"boolean"==typeof n}(g)?function cp(n,e,t,r){return(0,Zn.D)(e).pipe(Bo(o=>uu(function WE(n,e){return null!==n&&e&&e(new Ho(n)),ft(!0)}(o.route.parent,r),function qE(n,e){return null!==n&&e&&e(new Bs(n)),ft(!0)}(o.route,r),function YE(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function __(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>lu(()=>ft(d.guards.map(v=>{const D=lp(v,d.node,t);let P;if(function lo(n){return n&&at(n.canActivateChild)}(D))P=yr(D.canActivateChild(r,n));else{if(!at(D))throw new Error("Invalid CanActivateChild guard");P=yr(D(r,n))}return P.pipe(Ia())})).pipe(Oa())));return ft(l).pipe(Oa())}(n,o.path,t),function KE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ft(!0);const o=r.map(l=>lu(()=>{const d=lp(l,e,t);let g;if(function bs(n){return n&&at(n.canActivate)}(d))g=yr(d.canActivate(e,n));else{if(!at(d))throw new Error("Invalid CanActivate guard");g=yr(d(e,n))}return g.pipe(Ia())}));return ft(o).pipe(Oa())}(n,o.route,t))),Ia(o=>!0!==o,!0))}(r,l,n,e):ft(g)),(0,ht.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,li.b)(g=>{if(jt(g.guardsResult)){const D=Zo(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw D.url=g.guardsResult,D}const v=new uh(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(v)}),$r(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),hp(g=>{if(g.guards.canActivateChecks.length)return ft(g).pipe((0,li.b)(v=>{const D=new Yr(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),Fr(v=>{let D=!1;return ft(v).pipe(function WA(n,e){return(0,nr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return ft(t);let l=0;return(0,Zn.D)(o).pipe(Bo(d=>function Ra(n,e,t,r){return function Am(n,e,t,r){const o=dp(n);if(0===o.length)return ft({});const l={};return(0,Zn.D)(o).pipe((0,nr.z)(d=>function sC(n,e,t,r){const o=lp(n,e,r);return yr(o.resolve?o.resolve(e,t):o(e,t))}(n[d],e,t,r).pipe((0,li.b)(g=>{l[d]=g}))),jo(1),(0,nr.z)(()=>dp(l).length===o.length?ft(l):Vo.E))}(n._resolve,n,e,r).pipe((0,ht.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),vm(n,t).resolve),null)))}(d.route,r,n,e)),(0,li.b)(()=>l++),jo(1),(0,nr.z)(d=>l===o.length?ft(t):Vo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,li.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,li.b)(v=>{const D=new Ti(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}))}),hp(g=>{const{targetSnapshot:v,id:D,extractedUrl:P,rawUrl:V,extras:{skipLocationChange:te,replaceUrl:ie}}=g;return this.hooks.afterPreactivation(v,{navigationId:D,appliedUrlTree:P,rawUrlTree:V,skipLocationChange:!!te,replaceUrl:!!ie})}),(0,ht.U)(g=>{const v=function _m(n,e,t){const r=Yl(n,e._root,t?t._root:void 0);return new qc(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:v})}),(0,li.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(r=>(new j(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,li.b)({next(){l=!0},complete(){l=!0}}),function oh(n){return(0,jr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var g;l||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===o.id&&(this.currentNavigation=null)}),Vs(g=>{if(d=!0,function fm(n){return n&&n[Ju]}(g)){const v=jt(g.url);v||(this.navigated=!0,this.restoreHistory(o,!0));const D=new dr(o.id,this.serializeUrl(o.extractedUrl),g.message);r.next(D),v?setTimeout(()=>{const P=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),V={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||A_(o.source)};this.scheduleNavigation(P,"imperative",null,V,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const v=new cu(o.id,this.serializeUrl(o.extractedUrl),g);r.next(v);try{o.resolve(this.errorHandler(g))}catch(D){o.reject(D)}}return Vo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const l={replaceUrl:!0},d=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){mu(t),this.config=t.map(Xl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:d,queryParamsHandling:g,preserveFragment:v}=r,D=o||this.routerState.root,P=v?this.currentUrlTree.fragment:d;let V=null;switch(g){case"merge":V=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=l||null}return null!==V&&(V=this.removeEmptyProps(V)),function uo(n,e,t,r,o){if(0===t.length)return Xf(e.root,e.root,e.root,r,o);const l=function tp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Em(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return zn(l.outlets,(v,D)=>{g[D]="string"==typeof v?v.split("/"):v}),[...o,{outlets:g}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===d?(l.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,l]},[]);return new Em(t,e,r)}(t);if(l.toRoot())return Xf(e.root,e.root,new pe([],{}),r,o);const d=function mh(n,e,t){if(n.isAbsolute)return new np(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new np(l,l===e.root,0)}const r=Ma(n.commands[0])?0:1;return function rp(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new np(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),g=d.processChildren?Qc(d.segmentGroup,d.index,l.commands):ip(d.segmentGroup,d.index,l.commands);return Xf(e.root,d.segmentGroup,g,r,o)}(D,this.currentUrlTree,t,V,null!=P?P:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=jt(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function aC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},oC):!1===r?Object.assign({},Mm):r,jt(t))return qo(this.currentUrlTree,t,o);const l=this.parseUrl(t);return qo(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Da(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,d){var g,v;if(this.disposed)return Promise.resolve(!1);let D,P,V;d?(D=d.resolve,P=d.reject,V=d.promise):V=new Promise((Ce,We)=>{D=Ce,P=We});const te=++this.navigationId;let ie;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ie=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):ie=0,this.setTransition({id:te,targetPageId:ie,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:D,reject:P,promise:V,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),V.catch(Ce=>Promise.reject(Ce))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new dr(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function A_(n){return"imperative"!==n}let Ih=(()=>{class n{constructor(t,r,o,l,d){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=l,this.el=d,this.commands=null,this.onChanges=new ms.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:td(this.skipLocationChange),replaceUrl:td(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:td(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ir),u.Y36(il),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})(),pp=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new ms.x,this.subscription=t.events.subscribe(l=>{l instanceof Da&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,d){if(0!==t||r||o||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:td(this.skipLocationChange),replaceUrl:td(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:td(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ir),u.Y36(il),u.Y36(_e))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function td(n){return""===n||!!n}class Rm{}class x_{preload(e,t){return ft(null)}}let M_=(()=>{class n{constructor(t,r,o,l){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=new fp(o,r,v=>t.triggerEvent(new Ta(v)),v=>t.triggerEvent(new Aa(v)))}setUpPreloading(){this.subscription=this.router.events.pipe($r(t=>t instanceof Da),Bo(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,Zn.D)(o).pipe((0,oo.J)(),(0,ht.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ft(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,nr.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ir),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Rm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),gp=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Da&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new zl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const js=new u.OlP("ROUTER_CONFIGURATION"),km=new u.OlP("ROUTER_FORROOT_GUARD"),O_=[Fe,{provide:rn,useClass:Rt},{provide:ir,useFactory:function Fm(n,e,t,r,o,l,d={},g,v){const D=new ir(null,n,e,t,r,o,el(l));return g&&(D.urlHandlingStrategy=g),v&&(D.routeReuseStrategy=v),function k_(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,D),d.enableTracing&&D.events.subscribe(P=>{var V,te;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(te=console.groupEnd)||void 0===te||te.call(console)}),D},deps:[rn,al,Fe,u.zs3,u.Sil,Ch,js,[class T_{},new u.FiY],[class Eh{},new u.FiY]]},al,{provide:il,useFactory:function mp(n){return n.routerState.root},deps:[ir]},M_,x_,class Pm{preload(e,t){return t().pipe(Vs(()=>ft(null)))}},{provide:js,useValue:{enableTracing:!1}}];function lC(){return new u.PXZ("Router",ir)}let Dh=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[O_,Nm(t),{provide:km,useFactory:P_,deps:[[ir,new u.FiY,new u.tp0]]},{provide:js,useValue:r||{}},{provide:_e,useFactory:R_,deps:[G,[new u.tBr(Ue),new u.FiY],js]},{provide:gp,useFactory:cC,deps:[ir,la,js]},{provide:Rm,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:x_},{provide:u.PXZ,multi:!0,useFactory:lC},[nd,{provide:u.ip1,multi:!0,useFactory:N_,deps:[nd]},{provide:Vm,useFactory:Lm,deps:[nd]},{provide:u.tb,multi:!0,useExisting:Vm}]]}}static forChild(t){return{ngModule:n,providers:[Nm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(km,8),u.LFG(ir,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function cC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new gp(n,e,t)}function R_(n,e,t={}){return t.useHash?new ke(n,e):new Ve(n,e)}function P_(n){return"guarded"}function Nm(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Ch,multi:!0,useValue:n}]}let nd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ms.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(g=>r=g),l=this.injector.get(ir),d=this.injector.get(js);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?ft(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(js),o=this.injector.get(M_),l=this.injector.get(gp),d=this.injector.get(ir),g=this.injector.get(u.z2F);t===g.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),l.init(),d.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function N_(n){return n.appInitializer.bind(n)}function Lm(n){return n.bootstrapListener.bind(n)}const Vm=new u.OlP("Router Initializer");var dC=M(5226),bn=M.n(dC);let hC=(()=>{class n{constructor(){}ngOnInit(){bn().fire({allowOutsideClick:!1,title:"Cargando..",text:"Un momento!"}),bn().showLoading(),bn().close()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:62,vars:0,consts:[[1,"home"],["id","carouselExampleIndicators","data-bs-ride","true",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","2","aria-label","Slide 3"],["id","imagen",1,"carousel-inner"],[1,"carousel-item","active"],["src","../../../assets/img/f1.jpg","alt","...",1,"img-fluid"],["id","imagen",1,"carousel-item"],["src","../../../assets/img/f2.jpg","alt","...",1,"img-fluid"],["src","../../../assets/img/f3.jpg","alt","...",1,"img-fluid"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"contenido"],[1,"py-5","text-center"],[1,"row","py-lg-5"],[1,"col-lg-6","col-md-8","mx-auto"],[1,"fw-light"],[1,"lead","text-muted"],["routerLink","/registro","type","button","id","bmiembro",1,"btn","btn-warning"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-stars"],["d","M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z"],["id","contenido",1,"album","py-5"],[1,"container"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],[1,"col"],[1,"card","shadow-sm"],["src","../../../assets/img/c1.jpg","alt",""],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],["src","../../../assets/img/c2.jpg","alt",""],["src","../../../assets/img/c3.jpg","alt",""],["id","p3",1,"card-text","text-justify"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"button",3)(4,"button",4)(5,"button",5),u.qZA(),u.TgZ(6,"div",6)(7,"div",7),u._UZ(8,"img",8),u.qZA(),u.TgZ(9,"div",9),u._UZ(10,"img",10),u.qZA(),u.TgZ(11,"div",9),u._UZ(12,"img",11),u.qZA()(),u.TgZ(13,"button",12),u._UZ(14,"span",13),u.TgZ(15,"span",14),u._uU(16,"Previous"),u.qZA()(),u.TgZ(17,"button",15),u._UZ(18,"span",16),u.TgZ(19,"span",14),u._uU(20,"Next"),u.qZA()()(),u.TgZ(21,"div",17)(22,"section",18)(23,"div",19)(24,"div",20)(25,"h1",21),u._uU(26,"Unete!"),u.qZA(),u.TgZ(27,"p",22),u._uU(28," Se parte del mejor sitio de renta de vehiculos, hazte miembro y accede a nuestro catalogo de autos como tambien a nuestros beneficios para miembros. "),u.qZA(),u._UZ(29,"p"),u.TgZ(30,"button",23),u.O4$(),u.TgZ(31,"svg",24),u._UZ(32,"path",25),u.qZA(),u._uU(33," Hazte Miembro! "),u.qZA()()()(),u.kcU(),u.TgZ(34,"div",26)(35,"div",27)(36,"div",28)(37,"div",29)(38,"div",30),u._UZ(39,"img",31),u.TgZ(40,"div",32)(41,"p",33),u._uU(42,'"Dirigiremos nuestra industria al defender la excelencia del servicio y forjando una lealtad incomparable de parte de los clientes." '),u.qZA(),u._UZ(43,"div",34),u.qZA()()(),u.TgZ(44,"div",29)(45,"div",30),u._UZ(46,"img",35),u.TgZ(47,"div",32)(48,"p",33),u._uU(49,'"Garantizaremos una experiencia de renta libre de complicaciones, ya que cumpliremos las necesidades de nuestros clientes"'),u.qZA(),u._UZ(50,"div",34),u.qZA()()(),u.TgZ(51,"div",29)(52,"div",30),u._UZ(53,"img",36),u.TgZ(54,"div",32)(55,"p",37),u._uU(56,"\u2022 Honestidad "),u._UZ(57,"br"),u._uU(58," \u2022 Responsabilidad"),u._UZ(59,"br"),u._uU(60," \u2022 Eficacia"),u.qZA(),u._UZ(61,"div",34),u.qZA()()()()()()()())},directives:[Ih],styles:[".home[_ngcontent-%COMP%]{background-color:#0b4d57}.carousel[_ngcontent-%COMP%]{background-color:#0b4d57;text-align:center}#redes[_ngcontent-%COMP%]{margin-right:20px;color:#0b4d57}#copy[_ngcontent-%COMP%]{margin-left:20px}#imagen[_ngcontent-%COMP%]{text-align:center}#rede[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]{width:100%;background-color:#fff}#p3[_ngcontent-%COMP%]{padding-left:33%}"]}),n})(),Bm=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),yu=(()=>{class n extends Bm{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Jo=new u.OlP("NgValueAccessor"),pC={provide:Jo,useExisting:(0,u.Gpc)(()=>ic),multi:!0},gC=new u.OlP("CompositionEventMode");let ic=(()=>{class n extends Bm{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function F_(){const n=A()?A().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(gC,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([pC]),u.qOj]}),n})();function ci(n){return null==n||0===n.length}function L_(n){return null!=n&&"number"==typeof n.length}const Si=new u.OlP("NgValidators"),ll=new u.OlP("NgAsyncValidators"),mC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vp{static min(e){return function V_(n){return e=>{if(ci(e.value)||ci(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function $m(n){return e=>{if(ci(e.value)||ci(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function U_(n){return ci(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function B_(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function j_(n){return ci(n.value)||mC.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function qt(n){return e=>ci(e.value)||!L_(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Hm(n){return e=>L_(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Zm(n){if(!n)return Th;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ci(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return _p(e)}static composeAsync(e){return bp(e)}}function Th(n){return null}function Ah(n){return null!=n}function co(n){const e=(0,u.QGY)(n)?(0,Zn.D)(n):n;return(0,u.CqO)(e),e}function Gm(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function $_(n,e){return e.map(t=>t(n))}function Pa(n){return n.map(e=>function zm(n){return!n.validate}(e)?e:t=>e.validate(t))}function _p(n){if(!n)return null;const e=n.filter(Ah);return 0==e.length?null:function(t){return Gm($_(t,e))}}function wp(n){return null!=n?_p(Pa(n)):null}function bp(n){if(!n)return null;const e=n.filter(Ah);return 0==e.length?null:function(t){return function fC(...n){const e=(0,ya.jO)(n),{args:t,keys:r}=dt(n),o=new b.y(l=>{const{length:d}=t;if(!d)return void l.complete();const g=new Array(d);let v=d,D=d;for(let P=0;P<d;P++){let V=!1;(0,Ea.Xf)(t[P]).subscribe((0,Gn.x)(l,te=>{V||(V=!0,D--),g[P]=te},()=>v--,void 0,()=>{(!v||!V)&&(D||l.next(r?zc(r,g):g),l.complete())}))}});return e?o.pipe(Zl(e)):o}($_(t,e).map(co)).pipe((0,ht.U)(Gm))}}function H_(n){return null!=n?bp(Pa(n)):null}function qm(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yC(n){return n._rawValidators}function Sh(n){return n._rawAsyncValidators}function rd(n){return n?Array.isArray(n)?n:[n]:[]}function id(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ep(n,e){const t=rd(e);return rd(n).forEach(o=>{id(t,o)||t.push(o)}),t}function Cp(n,e){return rd(e).filter(t=>!id(n,t))}class vC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=H_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class cl extends vC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class is extends vC{get formDirective(){return null}get path(){return null}}class Z_{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let Ip=(()=>{class n extends Z_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(cl,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),xh=(()=>{class n extends Z_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(is,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Oh(n,e){Ph(n,e),e.valueAccessor.writeValue(n.value),function hl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&K_(n,e)})}(n,e),function Ym(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function W_(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&K_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function q_(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Rh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Dp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function od(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ph(n,e){const t=yC(n);null!==e.validator?n.setValidators(qm(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Sh(n);null!==e.asyncValidator?n.setAsyncValidators(qm(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();od(e._rawValidators,o),od(e._rawAsyncValidators,o)}function Dp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=yC(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==e.validator);l.length!==o.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const o=Sh(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==e.asyncValidator);l.length!==o.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return od(e._rawValidators,r),od(e._rawAsyncValidators,r),t}function K_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const sc="VALID",cd="INVALID",oc="PENDING",pl="DISABLED";function Ap(n){return(xp(n)?n.validators:n)||null}function IC(n){return Array.isArray(n)?wp(n):n||null}function Sp(n,e){return(xp(e)?e.asyncValidators:n)||null}function Jm(n){return Array.isArray(n)?H_(n):n||null}function xp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Mp=n=>n instanceof vr,Op=n=>n instanceof vu,J_=n=>n instanceof DC;function Es(n){return Mp(n)?n.value:n.getRawValue()}function X_(n,e){const t=Op(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function e0(n,e){Op(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new u.vHH(1002,"")})}class t0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=IC(this._rawValidators),this._composedAsyncValidatorFn=Jm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sc}get invalid(){return this.status===cd}get pending(){return this.status==oc}get disabled(){return this.status===pl}get enabled(){return this.status!==pl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=IC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Jm(e)}addValidators(e){this.setValidators(Ep(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ep(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Cp(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Cp(e,this._rawAsyncValidators))}hasValidator(e){return id(this._rawValidators,e)}hasAsyncValidator(e){return id(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=oc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=sc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sc||this.status===oc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pl:sc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=oc,this._hasOwnPendingAsyncValidator=!0;const t=co(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function CC(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=Op(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:J_(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?pl:this.errors?cd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oc)?oc:this._anyControlsHaveStatus(cd)?cd:sc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class vr extends t0{constructor(e=null,t,r){super(Ap(t),Sp(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class vu extends t0{constructor(e,t,r){super(Ap(t),Sp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){e0(this,e),Object.keys(e).forEach(r=>{X_(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Es(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class DC extends t0{constructor(e,t,r){super(Ap(t),Sp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){e0(this,e),e.forEach((r,o)=>{X_(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Es(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Fh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const ka={provide:Jo,useExisting:(0,u.Gpc)(()=>Lh),multi:!0};let Lh=(()=>{class n extends yu{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([ka]),u.qOj]}),n})(),MC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Vh=new u.OlP("NgModelWithFormControlWarning"),Pp={provide:is,useExisting:(0,u.Gpc)(()=>_u)};let _u=(()=>{class n extends is{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Oh(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Rh(t.control||null,t,!1),Qm(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function ld(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Rh(r||null,t),Mp(o)&&(Oh(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Y_(n,e){Ph(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Q_(n,e){return Dp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ph(this.form,this),this._oldForm&&Dp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Si,10),u.Y36(ll,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Pp]),u.qOj,u.TTD]}),n})();const kC={provide:cl,useExisting:(0,u.Gpc)(()=>gl)};let gl=(()=>{class n extends cl{constructor(t,r,o,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function fl(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===ic?t=l:function ud(n){return Object.getPrototypeOf(n.constructor)===yu}(l)?r=l:o=l}),o||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Nh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function sd(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(is,13),u.Y36(Si,10),u.Y36(ll,10),u.Y36(Jo,10),u.Y36(Vh,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([kC]),u.qOj,u.TTD]}),n})();const o1={provide:Jo,useExisting:(0,u.Gpc)(()=>Bh),multi:!0};function d0(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Bh=(()=>{class n extends yu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=d0(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function h0(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([o1]),u.qOj]}),n})(),ny=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(d0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Bh,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const f0={provide:Jo,useExisting:(0,u.Gpc)(()=>sy),multi:!0};function ry(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sy=(()=>{class n extends yu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(l=>this._getOptionId(l));r=(l,d)=>{l._setSelected(o.indexOf(d.toString())>-1)}}else r=(o,l)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],l=r.selectedOptions;if(void 0!==l){const d=l;for(let g=0;g<d.length;g++){const D=this._getOptionValue(d[g].value);o.push(D)}}else{const d=r.options;for(let g=0;g<d.length;g++){const v=d[g];if(v.selected){const D=this._getOptionValue(v.value);o.push(D)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function wu(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([f0]),u.qOj]}),n})(),p0=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ry(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ry(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(sy,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),E0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[MC]]}),n})(),Xo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[E0]}),n})(),Fp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Vh,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[E0]}),n})(),I0=(()=>{class n{group(t,r=null){const o=this._reduceControls(t);let g,l=null,d=null;return null!=r&&(function C0(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,d=null!=r.asyncValidators?r.asyncValidators:null,g=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,d=null!=r.asyncValidator?r.asyncValidator:null)),new vu(o,{asyncValidators:d,updateOn:g,validators:l})}control(t,r,o){return new vr(t,r,o)}array(t,r,o){const l=t.map(d=>this._createControl(d));return new DC(l,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return Mp(t)||Op(t)||J_(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:Fp}),n})();var ml=M(2309),un=M(2090),Eu=M(9681),yl=M(1877),Lp=M(4859),Re=M(5861),hn=M(5813),Cu=M(5867);class dd{constructor(e){return e}}class dy{constructor(){return(0,Cu.C6)()}}const $h=new u.OlP("angularfire2._apps"),UC={provide:dd,useFactory:function c1(n){return n&&1===n.length?n[0]:new dd((0,Cu.Mq)())},deps:[[new u.FiY,$h]]},D0={provide:dy,deps:[[new u.FiY,$h]]};function T0(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new dd(r)}}let d1=(()=>{class n{constructor(t){(0,Cu.KN)("angularfire",hn.q4.full,"core"),(0,Cu.KN)("angularfire",hn.q4.full,"app"),(0,Cu.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[UC,D0]}),n})();function ea(n,...e){return{ngModule:d1,providers:[{provide:$h,useFactory:T0(n),multi:!0,deps:[u.R0b,u.zs3,hn.HU,...e]}]}}const A0=(0,hn.u3)(Cu.ZF,!0),hy=new Map,fy={activated:!1,tokenObservers:[]},$C={initialized:!1,enabled:!1};function Hr(n){return hy.get(n)||fy}function ta(n,e){hy.set(n,e)}function Vp(){return $C}class zC{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Re.Z)(function*(){t.stop();try{t.pending=new un.BH,yield function Zh(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new un.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ss=new un.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function na(n){if(!Hr(n).activated)throw ss.create("use-before-activation",{appName:n.name})}function pd(n,e){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,Re.Z)(function*({url:n,body:e},t){var r,o;const l={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const ie=yield d.getHeartbeatsHeader();ie&&(l["X-Firebase-Client"]=ie)}const g={method:"POST",body:JSON.stringify(e),headers:l};let v,D;try{v=yield fetch(n,g)}catch(ie){throw ss.create("fetch-network-error",{originalErrorMessage:null===(r=ie)||void 0===r?void 0:r.message})}if(200!==v.status)throw ss.create("fetch-status-error",{httpStatus:v.status});try{D=yield v.json()}catch(ie){throw ss.create("fetch-parse-error",{originalErrorMessage:null===(o=ie)||void 0===o?void 0:o.message})}const P=D.ttl.match(/^([\d.]+)(s)$/);if(!P||!P[2]||isNaN(Number(P[1])))throw ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${D.ttl}`});const V=1e3*Number(P[1]),te=Date.now();return{token:D.token,expireTimeMillis:te+V,issuedAtTimeMillis:te}})).apply(this,arguments)}function md(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Fa="firebase-app-check-store";let Iu=null;function dc(){return Iu||(Iu=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var l;e(ss.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Fa,{keyPath:"compositeKey"})}}catch(r){e(ss.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Iu)}function Up(){return(Up=(0,Re.Z)(function*(n,e){const r=(yield dc()).transaction(Fa,"readwrite"),l=r.objectStore(Fa).put({compositeKey:n,value:e});return new Promise((d,g)=>{l.onsuccess=v=>{d()},r.onerror=v=>{var D;g(ss.create("storage-set",{originalErrorMessage:null===(D=v.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const wd=new yl.Yd("@firebase/app-check");function O0(n,e){return(0,un.hl)()?function S0(n,e){return function my(n,e){return Up.apply(this,arguments)}(function vy(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{wd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function P0(){return Vp().enabled}function k0(){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,Re.Z)(function*(){const n=Vp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const N0={error:"UNKNOWN_ERROR"};function YC(n){return un.US.encodeString(JSON.stringify(n),!1)}function Zp(n){return F0.apply(this,arguments)}function F0(){return(F0=(0,Re.Z)(function*(n,e=!1){const t=n.app;na(t);const r=Hr(t);let l,o=r.token;if(!o){const v=yield r.cachedTokenPromise;v&&wy(v)&&(o=v)}if(!e&&o&&wy(o))return{token:o.token};let g,d=!1;if(P0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pd(md(t,yield k0()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),d=!0);const v=yield r.exchangeTokenPromise;return yield O0(t,v),ta(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),d=!0),o=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?wd.warn(v.message):wd.error(v),l=v}return o?(g={token:o.token},ta(t,Object.assign(Object.assign({},r),{token:o})),yield O0(t,o)):g=f1(l),d&&JC(t,g),g})).apply(this,arguments)}function zh(n,e){const t=Hr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ta(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Gp(n){const{app:e}=n,t=Hr(e);let r=t.tokenRefresher;r||(r=function QC(n){const{app:e}=n;return new zC((0,Re.Z)(function*(){let r;if(r=Hr(e).token?yield Zp(n,!0):yield Zp(n),r.error)throw r.error}),()=>!0,()=>{const t=Hr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ta(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function JC(n,e){const t=Hr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function wy(n){return n.expireTimeMillis-Date.now()>0}function f1(n){return{token:YC(N0),error:n}}class XC{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hr(this.app);for(const t of e)zh(this.app,t.next);return Promise.resolve()}}const qp="app-check-internal";!function Ty(){(0,Eu._registerComponent)(new Lp.wA("app-check",n=>function L0(n,e){return new XC(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qp).initialize()})),(0,Eu._registerComponent)(new Lp.wA(qp,n=>function p1(n){return{getToken:e=>Zp(n,e),addTokenListener:e=>function _y(n,e,t,r){const{app:o}=n,l=Hr(o),d={next:t,error:r,type:e};if(ta(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&wy(l.token)){const g=l.token;Promise.resolve().then(()=>{t({token:g.token}),Gp(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Gp(n))}(n,"INTERNAL",e),removeTokenListener:e=>zh(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Eu.registerVersion)("@firebase/app-check","0.5.9")}();class vl{constructor(){return(0,hn.vb)("app-check")}}function Sy(n){return new b.y(function(e){return{unsubscribe:(0,ml.q)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}"undefined"!=typeof window&&window;class qh{constructor(e){return e}}class Wp{constructor(){return(0,hn.vb)("auth")}}const Kp=new u.OlP("angularfire2.auth-instances");function ow(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new qh(r)}}const aw={provide:Wp,deps:[[new u.FiY,Kp]]},uw={provide:qh,useFactory:function sw(n,e){const t=(0,hn.JM)("auth",n,e);return t&&new qh(t)},deps:[[new u.FiY,Kp],dd]};let lw=(()=>{class n{constructor(){(0,Cu.KN)("angularfire",hn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[uw,aw]}),n})();function cw(n,...e){return{ngModule:lw,providers:[{provide:Kp,useFactory:ow(n),multi:!0,deps:[u.R0b,u.zs3,hn.HU,dy,[new u.FiY,vl],...e]}]}}const w1=(0,hn.u3)(Sy,!0),dw=(0,hn.u3)(ml.n,!0),EI=(0,hn.u3)(ml.a6,!0),pw=(0,hn.u3)(ml.y,!0);var yw=M(6451),Kh=M(5363),OI=M(6063);class RI extends ms.x{constructor(e=1/0,t=1/0,r=OI.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!o&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const d=t.now();let g=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)g=v;g&&r.splice(0,g+1)}}}var PI=M(3099);function vw(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,PI.B)({connector:()=>new RI(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function _w(n,e){return(0,_a.m)(e)?Fr(()=>n,e):Fr(()=>n)}var Oy=M(9468),ra=M(2011);M(127);const ww=new u.OlP("angularfire2.auth.use-emulator"),bw=new u.OlP("angularfire2.auth.settings"),Ew=new u.OlP("angularfire2.auth.tenant-id"),Cw=new u.OlP("angularfire2.auth.langugage-code"),Iw=new u.OlP("angularfire2.auth.use-device-language"),Dw=new u.OlP("angularfire.auth.persistence"),Tw=(n,e,t,r,o,l,d,g)=>(0,ra.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,l&&v.useDeviceLanguage(),d)for(const[D,P]of Object.entries(d))v.settings[D]=P;return g&&v.setPersistence(g),v},[t,r,o,l,d,g]);let Qp=(()=>{class n{constructor(t,r,o,l,d,g,v,D,P,V,te,ie){const Ce=new ms.x,We=ft(void 0).pipe((0,Kh.Q)(d.outsideAngular),Fr(()=>l.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,ht.U)(()=>(0,ra.on)(t,l,r)),(0,ht.U)(ot=>Tw(ot,l,g,D,P,V,v,te)),vw({bufferSize:1,refCount:!1}));if(Yn(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ft(null);else{We.pipe(Ia()).subscribe();const Tt=We.pipe(Fr(tn=>tn.getRedirectResult().then(mn=>mn,()=>null)),hn.iC,vw({bufferSize:1,refCount:!1})),Yt=We.pipe(Fr(tn=>new b.y(mn=>({unsubscribe:l.runOutsideAngular(()=>tn.onAuthStateChanged(Ln=>mn.next(Ln),Ln=>mn.error(Ln),()=>mn.complete()))})))),fn=We.pipe(Fr(tn=>new b.y(mn=>({unsubscribe:l.runOutsideAngular(()=>tn.onIdTokenChanged(Ln=>mn.next(Ln),Ln=>mn.error(Ln),()=>mn.complete()))}))));this.authState=Tt.pipe(_w(Yt),(0,Oy.R)(d.outsideAngular),(0,Kh.Q)(d.insideAngular)),this.user=Tt.pipe(_w(fn),(0,Oy.R)(d.outsideAngular),(0,Kh.Q)(d.insideAngular)),this.idToken=this.user.pipe(Fr(tn=>tn?(0,Zn.D)(tn.getIdToken()):ft(null))),this.idTokenResult=this.user.pipe(Fr(tn=>tn?(0,Zn.D)(tn.getIdTokenResult()):ft(null))),this.credential=(0,yw.T)(Tt,Ce,this.authState.pipe($r(tn=>!tn))).pipe((0,ht.U)(tn=>(null==tn?void 0:tn.user)?tn:null),(0,Oy.R)(d.outsideAngular),(0,Kh.Q)(d.insideAngular))}return(0,ra.pX)(this,We,l,{spy:{apply:(ot,Tt,Yt)=>{(ot.startsWith("signIn")||ot.startsWith("createUser"))&&Yt.then(fn=>Ce.next(fn))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ra.Dh),u.LFG(ra.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(hn.HU),u.LFG(ww,8),u.LFG(bw,8),u.LFG(Ew,8),u.LFG(Cw,8),u.LFG(Iw,8),u.LFG(Dw,8),u.LFG(vl,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Yh=(()=>{class n{constructor(t,r){this.auth=t,this.afauth=r}registrar(t,r){var o=this;return(0,Re.Z)(function*(){try{return yield o.afauth.createUserWithEmailAndPassword(t,r)}catch(l){return console.log("Error en registro",l),null}})()}login({email:t,password:r}){return EI(this.auth,t,r)}logout(){return console.log("aqui es el logout"),pw(this.auth)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qh),u.LFG(Qp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var pt,Aw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ua={},Jp=Jp||{},Zt=Aw||self;function Qh(){}function Xp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Cd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var eg="closure_uid_"+(1e9*Math.random()>>>0),fc=0;function NI(n,e,t){return n.call.apply(n.bind,arguments)}function FI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Cr(n,e,t){return(Cr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?NI:FI).apply(null,arguments)}function Ry(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[o].apply(r,d)}}function pc(){this.s=this.s,this.o=this.o}var Mw={};pc.prototype.s=!1,pc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Sw(n){return Object.prototype.hasOwnProperty.call(n,eg)&&n[eg]||(n[eg]=++fc)}(this);delete Mw[n]}},pc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const LI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Pt=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function Ow(n){return Array.prototype.concat.apply([],arguments)}function Py(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function gc(n){return/^[\s\xa0]*$/.test(n)}var pn,Rw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function fi(n,e){return-1!=n.indexOf(e)}function Id(n,e){return n<e?-1:n>e?1:0}e:{var UI=Zt.navigator;if(UI){var ky=UI.userAgent;if(ky){pn=ky;break e}}pn=""}function Ny(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Pw(n){const e={};for(const t in n)e[t]=n[t];return e}var Fy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ly(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Fy.length;l++)t=Fy[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function tg(n){return tg[" "](n),n}tg[" "]=Qh;var yc,n,BI=fi(pn,"Opera"),Dd=fi(pn,"Trident")||fi(pn,"MSIE"),Nw=fi(pn,"Edge"),mc=Nw||Dd,Fw=fi(pn,"Gecko")&&!(fi(pn.toLowerCase(),"webkit")&&!fi(pn,"Edge"))&&!(fi(pn,"Trident")||fi(pn,"MSIE"))&&!fi(pn,"Edge"),jI=fi(pn.toLowerCase(),"webkit")&&!fi(pn,"Edge");function Lw(){var n=Zt.document;return n?n.documentMode:void 0}e:{var ng="",rg=(n=pn,Fw?/rv:([^\);]+)(\)|;)/.exec(n):Nw?/Edge\/([\d\.]+)/.exec(n):Dd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jI?/WebKit\/(\S+)/.exec(n):BI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(rg&&(ng=rg?rg[1]:""),Dd){var ig=Lw();if(null!=ig&&ig>parseFloat(ng)){yc=String(ig);break e}}yc=ng}var $I={};var HI=Zt.document&&Dd&&(Lw()||parseInt(yc,10))||void 0,ZI=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zt.addEventListener("test",Qh,e),Zt.removeEventListener("test",Qh,e)}catch(t){}return n}();function xi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Td(n,e){if(xi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Fw){e:{try{tg(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Uw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Td.Z.h.call(this)}}xi.prototype.h=function(){this.defaultPrevented=!0},Jr(Td,xi);var Uw={2:"touch",3:"pen",4:"mouse"};Td.prototype.h=function(){Td.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xh="closure_listenable_"+(1e6*Math.random()|0),Bw=0;function GI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++Bw,this.ca=this.fa=!1}function sg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Vy(n){this.src=n,this.g={},this.h=0}function jw(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=LI(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(sg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function $w(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}Vy.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=$w(n,e,r,o);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new GI(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var Hw="closure_lm_"+(1e6*Math.random()|0),og={};function ef(n,e,t,r,o){if(r&&r.once)return Uy(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)ef(n,e[l],t,r,o);return null}return t=ag(t),n&&n[Xh]?n.N(e,t,Cd(r)?!!r.capture:!!r,o):Zw(n,e,t,!1,r,o)}function Zw(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var d=Cd(o)?!!o.capture:!!o,g=jy(n);if(g||(n[Hw]=g=new Vy(n)),(t=g.add(e,t,r,d,l)).proxy)return t;if(r=function zI(){var e=qI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ZI||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Gw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Uy(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Uy(n,e[l],t,r,o);return null}return t=ag(t),n&&n[Xh]?n.O(e,t,Cd(r)?!!r.capture:!!r,o):Zw(n,e,t,!0,r,o)}function Ad(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ad(n,e[l],t,r,o);else r=Cd(r)?!!r.capture:!!r,t=ag(t),n&&n[Xh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=$w(l=n.g[e],t,r,o))&&(sg(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=jy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=$w(e,t,r,o)),(t=-1<n?e[n]:null)&&By(t))}function By(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Xh])jw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Gw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=jy(e))?(jw(t,n),0==t.h&&(t.src=null,e[Hw]=null)):sg(n)}}}function Gw(n){return n in og?og[n]:og[n]="on"+n}function qI(n,e){if(n.ca)n=!0;else{e=new Td(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&By(n),n=t.call(r,e)}return n}function jy(n){return(n=n[Hw])instanceof Vy?n:null}var $y="__closure_events_fn_"+(1e9*Math.random()>>>0);function ag(n){return"function"==typeof n?n:(n[$y]||(n[$y]=function(e){return n.handleEvent(e)}),n[$y])}function pi(){pc.call(this),this.i=new Vy(this),this.P=this,this.I=null}function Mi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new xi(e,n);else if(e instanceof xi)e.target=e.target||n;else{var o=e;Ly(e=new xi(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];o=Au(d,r,!0,e)&&o}if(o=Au(d=e.g=n,r,!0,e)&&o,o=Au(d,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Au(d=e.g=t[l],r,!1,e)&&o}function Au(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var g=d.listener,v=d.ia||d.src;d.fa&&jw(n.i,d),o=!1!==g.call(v,r)&&o}}return o&&!r.defaultPrevented}Jr(pi,pc),pi.prototype[Xh]=!0,pi.prototype.removeEventListener=function(n,e,t,r){Ad(this,n,e,t,r)},pi.prototype.M=function(){if(pi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sg(t[r]);delete n.g[e],n.h--}}this.I=null},pi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},pi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Hy=Zt.JSON.stringify;function zw(){var n=zy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var tf,Zy=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new KI,n=>n.reset());class KI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qw(n){Zt.setTimeout(()=>{throw n},0)}function Gy(n,e){tf||function YI(){var n=Zt.Promise.resolve(void 0);tf=function(){n.then(QI)}}(),ug||(tf(),ug=!0),zy.add(n,e)}var ug=!1,zy=new class WI{constructor(){this.h=this.g=null}add(e,t){const r=Zy.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function QI(){for(var n;n=zw();){try{n.h.call(n.g)}catch(t){qw(t)}var e=Zy;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ug=!1}function lg(n,e){pi.call(this),this.h=n||1,this.g=e||Zt,this.j=Cr(this.kb,this),this.l=Date.now()}function qy(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function nf(n,e,t){if("function"==typeof n)t&&(n=Cr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Cr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Zt.setTimeout(n,e||0)}function Ww(n){n.g=nf(()=>{n.g=null,n.i&&(n.i=!1,Ww(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jr(lg,pi),(pt=lg.prototype).da=!1,pt.S=null,pt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Mi(this,"tick"),this.da&&(qy(this),this.start()))}},pt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){lg.Z.M.call(this),qy(this),delete this.g};class Kw extends pc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ww(this)}M(){super.M(),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rf(n){pc.call(this),this.h=n,this.g={}}Jr(rf,pc);var Yw=[];function Qw(n,e,t,r){Array.isArray(t)||(t&&(Yw[0]=t.toString()),t=Yw);for(var o=0;o<t.length;o++){var l=ef(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Jw(n){Ny(n.g,function(e,t){this.g.hasOwnProperty(t)&&By(e)},n),n.g={}}function cg(){this.g=!0}function Sd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function eb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<o.length;d++)o[d]=""}}}return Hy(t)}catch(g){return e}}(n,t)+(r?" "+r:"")})}rf.prototype.M=function(){rf.Z.M.call(this),Jw(this)},rf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cg.prototype.Aa=function(){this.g=!1},cg.prototype.info=function(){};var _c={},tb=null;function sf(){return tb=tb||new pi}function nb(n){xi.call(this,_c.Ma,n)}function af(n){const e=sf();Mi(e,new nb(e,n))}function rb(n,e){xi.call(this,_c.STAT_EVENT,n),this.stat=e}function Oi(n){const e=sf();Mi(e,new rb(e,n))}function dg(n,e){xi.call(this,_c.Na,n),this.size=e}function xd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){n()},e)}_c.Ma="serverreachability",Jr(nb,xi),_c.STAT_EVENT="statevent",Jr(rb,xi),_c.Na="timingevent",Jr(dg,xi);var Md={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ib={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wy(){}function sb(){}Wy.prototype.h=null;var Yy,Od={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ky(){xi.call(this,"d")}function fg(){xi.call(this,"c")}function uf(){}function pg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new rf(this),this.P=gg,this.W=new lg(n=mc?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ob}function ob(){this.i=null,this.g="",this.h=!1}Jr(Ky,xi),Jr(fg,xi),Jr(uf,Wy),uf.prototype.g=function(){return new XMLHttpRequest},uf.prototype.i=function(){return{}},Yy=new uf;var gg=45e3,Qy={},Su={};function wc(n,e,t){n.K=1,n.v=Ou(Mu(e)),n.s=t,n.U=!0,ab(n,null)}function ab(n,e){n.F=Date.now(),lf(n),n.A=Mu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),mb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new ob,n.g=Tc(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Kw(Cr(n.Ia,n,n.g),n.O)),Qw(n.V,n.g,"readystatechange",n.gb),e=n.H?Pw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),af(1),function JI(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var d="",g=l.split("&"),v=0;v<g.length;v++){var D=g[v].split("=");if(1<D.length){var P=D[0];D=D[1];var V=P.split("_");d=2<=V.length&&"type"==V[1]?d+(P+"=")+D+"&":d+(P+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function eD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Jy(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=tD(n,t),o==Su){4==e&&(n.o=4,Oi(14),r=!1),Sd(n.j,n.m,null,"[Incomplete Response]");break}if(o==Qy){n.o=4,Oi(15),Sd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Sd(n.j,n.m,o,null),cf(n,o)}eD(n)&&o!=Su&&o!=Qy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Oi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Og(e),e.L=!0,Oi(11))):(Sd(n.j,n.m,t,"[Invalid Chunked Response]"),_l(n),Rd(n))}function tD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Su:(t=Number(e.substring(t,r)),isNaN(t)?Qy:(r+=1)+t>e.length?Su:(e=e.substr(r,t),n.C=r+t,e))}function lf(n){n.Y=Date.now()+n.P,ub(n,n.P)}function ub(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xd(Cr(n.eb,n),e)}function mg(n){n.B&&(Zt.clearTimeout(n.B),n.B=null)}function Rd(n){0==n.l.G||n.I||hv(n.l,n)}function _l(n){mg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,qy(n.W),Jw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function cf(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Eg(t.i,n)))if(t.I=n.N,!n.J&&Eg(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=xd(Cr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;vf(t),Ld(t)}Mg(t),Oi(18)}if(1>=nv(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else El(t,11)}else if((n.J||t.g==n)&&vf(t),!gc(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const P=D[3];null!=P&&(t.ma=P,t.h.info("VER="+t.ma));const V=D[4];null!=V&&(t.za=V,t.h.info("SVER="+t.za));const te=D[5];null!=te&&"number"==typeof te&&0<te&&(t.K=r=1.5*te,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ie=n.g;if(ie){const Ce=ie.g?ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ce){var l=r.i;!l.g&&(fi(Ce,"spdy")||fi(Ce,"quic")||fi(Ce,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Cg(l,l.h),l.h=null))}if(r.D){const We=ie.g?ie.g.getResponseHeader("X-HTTP-Session-Id"):null;We&&(r.sa=We,sr(r.F,r.D,We))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=Ui(r,r.H?r.la:null,r.W),d.J){rv(r.i,d);var g=d,v=r.K;v&&g.setTimeout(v),g.B&&(mg(g),lf(g)),r.g=d}else dv(r);0<t.l.length&&xg(t)}else"stop"!=D[0]&&"close"!=D[0]||El(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?El(t,7):yf(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}af(4)}catch(D){}}function bc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Xp(n)||"string"==typeof n)Pt(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Xp(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function yg(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Xp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function Pd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Pd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function vg(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];wl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)wl(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function wl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(pt=pg.prototype).setTimeout=function(n){this.P=n},pt.gb=function(n){n=n.target;const e=this.L;e&&3==Pu(n)?e.l():this.Ia(n)},pt.Ia=function(n){try{if(n==this.g)e:{const P=Pu(this.g);var e=this.g.Da();const V=this.g.ba();if(!(3>P)&&(3!=P||mc||this.g&&(this.h.h||this.g.ga()||Eb(this.g)))){this.I||4!=P||7==e||af(8==e||0>=V?3:2),mg(this);var t=this.g.ba();this.N=t;t:if(eD(this)){var r=Eb(this.g);n="";var o=r.length,l=4==Pu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_l(this),Rd(this);var d="";break t}this.h.i=new Zt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function XI(n,e,t,r,o,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,P,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gc(g)){var D=g;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Oi(12),_l(this),Rd(this);break e}Sd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cf(this,t)}this.U?(Jy(this,P,d),mc&&this.i&&3==P&&(Qw(this.V,this.W,"tick",this.fb),this.W.start())):(Sd(this.j,this.m,d,null),cf(this,d)),4==P&&_l(this),this.i&&!this.I&&(4==P?hv(this.l,this):(this.i=!1,lf(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Oi(12)):(this.o=0,Oi(13)),_l(this),Rd(this)}}}catch(P){}},pt.fb=function(){if(this.g){var n=Pu(this.g),e=this.g.ga();this.C<e.length&&(mg(this),Jy(this,n,e),this.i&&4!=n&&lf(this))}},pt.cancel=function(){this.I=!0,_l(this)},pt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Xw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(af(3),Oi(17)),_l(this),this.o=2,Rd(this)):ub(this,this.Y-n)},(pt=Pd.prototype).R=function(){vg(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},pt.T=function(){return vg(this),this.g.concat()},pt.get=function(n,e){return wl(this.h,n)?this.h[n]:e},pt.set=function(n,e){wl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},pt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var lb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof xu){this.g=void 0!==e?e:n.g,Xy(this,n.j),this.s=n.s,_g(this,n.i),wg(this,n.m),this.l=n.l,e=n.h;var t=new hf;t.i=e.i,e.g&&(t.g=new Pd(e.g),t.h=e.h),Ec(this,t),this.o=n.o}else n&&(t=String(n).match(lb))?(this.g=!!e,Xy(this,t[1]||"",!0),this.s=df(t[2]||""),_g(this,t[3]||"",!0),wg(this,t[4]),this.l=df(t[5]||"",!0),Ec(this,t[6]||"",!0),this.o=df(t[7]||"")):(this.g=!!e,this.h=new hf(null,this.g))}function Mu(n){return new xu(n)}function Xy(n,e,t){n.j=t?df(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _g(n,e,t){n.i=t?df(e,!0):e}function wg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ec(n,e,t){e instanceof hf?(n.h=e,function sD(n,e){e&&!n.j&&(bl(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(pb(this,r),mb(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=bg(e,fb)),n.h=new hf(e,n.g))}function sr(n,e,t){n.h.set(e,t)}function Ou(n){return sr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function df(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function bg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,db),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function db(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(bg(e,rD,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(bg(e,rD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(bg(t,"/"==t.charAt(0)?ev:hb,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",bg(t,iD)),n.join("")};var rD=/[#\/\?@]/g,hb=/[#\?:]/g,ev=/[#\?]/g,fb=/[#\?@]/g,iD=/#/g;function hf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function bl(n){n.g||(n.g=new Pd,n.h=0,n.i&&function nD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function pb(n,e){bl(n),e=kd(n,e),wl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,wl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&vg(n)))}function gb(n,e){return bl(n),e=kd(n,e),wl(n.g.h,e)}function mb(n,e,t){pb(n,e),0<t.length&&(n.i=null,n.g.set(kd(n,e),Py(t)),n.h+=t.length)}function kd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Nd(n){this.l=n||yb,n=Zt.PerformanceNavigationTiming?0<(n=Zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ea&&Zt.g.Ea()&&Zt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=hf.prototype).add=function(n,e){bl(this),this.i=null,n=kd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){bl(this),this.g.forEach(function(t,r){Pt(t,function(o){n.call(e,o,r,this)},this)},this)},pt.T=function(){bl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},pt.R=function(n){bl(this);var e=[];if("string"==typeof n)gb(this,n)&&(e=Ow(e,this.g.get(kd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Ow(e,n[t])}return e},pt.set=function(n,e){return bl(this),this.i=null,gb(this,n=kd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=o;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var yb=10;function tv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nv(n){return n.h?1:n.g?n.g.size:0}function Eg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Cg(n,e){n.g?n.g.add(e):n.h=e}function rv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function vb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Py(n.i)}function Ig(){}function _b(){this.g=new Ig}function aD(n,e,t){const r=t||"";try{bc(n,function(o,l){let d=o;Cd(o)&&(d=Hy(o)),e.push(r+l+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Dg(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function Ru(n){this.l=n.$b||null,this.j=n.ib||!1}function Tg(n,e){pi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ff,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nd.prototype.cancel=function(){if(this.i=vb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ig.prototype.stringify=function(n){return Zt.JSON.stringify(n,void 0)},Ig.prototype.parse=function(n){return Zt.JSON.parse(n,void 0)},Jr(Ru,Wy),Ru.prototype.g=function(){return new Tg(this.l,this.j)},Ru.prototype.i=function(n){return function(){return n}}({}),Jr(Tg,pi);var ff=0;function ia(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function pf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Cc(n)}function Cc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=Tg.prototype).open=function(n,e){if(this.readyState!=ff)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Cc(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Zt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pf(this)),this.readyState=ff},pt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Cc(this)),this.g&&(this.readyState=3,Cc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Zt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ia(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},pt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pf(this):Cc(this),3==this.readyState&&ia(this)}},pt.Ua=function(n){this.g&&(this.response=this.responseText=n,pf(this))},pt.Ta=function(n){this.g&&(this.response=n,pf(this))},pt.ha=function(){this.g&&pf(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Tg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gf=Zt.JSON.parse;function Zr(n){pi.call(this),this.headers=new Pd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wb,this.K=this.L=!1}Jr(Zr,pi);var wb="",lD=/^https?$/i,Ag=["POST","PUT"];function cD(n){return"content-type"==n.toLowerCase()}function bb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,iv(n),Fd(n)}function iv(n){n.D||(n.D=!0,Mi(n,"complete"),Mi(n,"error"))}function sv(n){if(n.h&&void 0!==Jp&&(!n.C[1]||4!=Pu(n)||2!=n.ba()))if(n.v&&4==Pu(n))nf(n.Fa,0,n);else if(Mi(n,"readystatechange"),4==Pu(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var o=String(n.H).match(lb)[1]||null;if(!o&&Zt.self&&Zt.self.location){var l=Zt.self.location.protocol;o=l.substr(0,l.length-1)}r=!lD.test(o?o.toLowerCase():"")}t=r}if(t)Mi(n,"complete"),Mi(n,"success");else{n.m=6;try{var d=2<Pu(n)?n.g.statusText:""}catch(v){d=""}n.j=d+" ["+n.ba()+"]",iv(n)}}finally{Fd(n)}}}function Fd(n,e){if(n.g){ov(n);const t=n.g,r=n.C[0]?Qh:null;n.g=null,n.C=null,e||Mi(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function ov(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Zt.clearTimeout(n.A),n.A=null)}function Pu(n){return n.g?n.g.readyState:0}function Eb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case wb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function mf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function B1(n){let e="";return Ny(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):sr(n,e,t))}function Ic(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function av(n){this.za=0,this.l=[],this.h=new cg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ic("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ic("baseRetryDelayMs",5e3,n),this.$a=Ic("retryDelaySeedMs",1e4,n),this.Ya=Ic("forwardChannelMaxRetries",2,n),this.ra=Ic("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Nd(n&&n.concurrentRequestLimit),this.Ca=new _b,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function yf(n){if(Cb(n),3==n.G){var e=n.V++,t=Mu(n.F);sr(t,"SID",n.J),sr(t,"RID",e),sr(t,"TYPE","terminate"),Dc(n,t),(e=new pg(n,n.h,e,void 0)).K=2,e.v=Ou(Mu(t)),t=!1,Zt.navigator&&Zt.navigator.sendBeacon&&(t=Zt.navigator.sendBeacon(e.v.toString(),"")),!t&&Zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Tc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),lf(e)}Tb(n)}function Ld(n){n.g&&(Og(n),n.g.cancel(),n.g=null)}function Cb(n){Ld(n),n.u&&(Zt.clearTimeout(n.u),n.u=null),vf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Zt.clearTimeout(n.m),n.m=null)}function uv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&xg(n)}function xg(n){tv(n.i)||n.m||(n.m=!0,Gy(n.Ha,n),n.C=0)}function lv(n,e){var t;t=e?e.m:n.V++;const r=Mu(n.F);sr(r,"SID",n.J),sr(r,"RID",t),sr(r,"AID",n.U),Dc(n,r),n.o&&n.s&&mf(r,n.o,n.s),t=new pg(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=cv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Cg(n.i,t),wc(t,r,e)}function Dc(n,e){n.j&&bc({},function(t,r){sr(e,r,t)})}function cv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Cr(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=o[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let g=!0;for(let v=0;v<t;v++){let D=o[v].h;const P=o[v].g;if(D-=l,0>D)l=Math.max(0,o[v].h-100),g=!1;else try{aD(P,d,"req"+D+"_")}catch(V){r&&r(P)}}if(g){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function dv(n){n.g||n.u||(n.Y=1,Gy(n.Ga,n),n.A=0)}function Mg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=xd(Cr(n.Ga,n),Db(n,n.A)),n.A++,0))}function Og(n){null!=n.B&&(Zt.clearTimeout(n.B),n.B=null)}function Ib(n){n.g=new pg(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Mu(n.oa);sr(e,"RID","rpc"),sr(e,"SID",n.J),sr(e,"CI",n.N?"0":"1"),sr(e,"AID",n.U),Dc(n,e),sr(e,"TYPE","xmlhttp"),n.o&&n.s&&mf(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ou(Mu(e)),t.s=null,t.U=!0,ab(t,n)}function vf(n){null!=n.v&&(Zt.clearTimeout(n.v),n.v=null)}function hv(n,e){var t=null;if(n.g==e){vf(n),Og(n),n.g=null;var r=2}else{if(!Eg(n.i,e))return;t=e.D,rv(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Mi(r=sf(),new dg(r,t,e,o)),xg(n)}else dv(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function dD(n,e){return!(nv(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=xd(Cr(n.Ha,n,e),Db(n,n.C)),n.C++,0)))}(n,e)||2==r&&Mg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:El(n,5);break;case 4:El(n,10);break;case 3:El(n,6);break;default:El(n,2)}}function Db(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function El(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Cr(n.jb,n);t||(t=new xu("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||Xy(t,"https"),Ou(t)),function uD(n,e){const t=new cg;if(Zt.Image){const r=new Image;r.onload=Ry(Dg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ry(Dg,t,r,"TestLoadImage: error",!1,e),r.onabort=Ry(Dg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ry(Dg,t,r,"TestLoadImage: timeout",!1,e),Zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Oi(2);n.G=0,n.j&&n.j.va(e),Tb(n),Cb(n)}function Tb(n){n.G=0,n.I=-1,n.j&&((0!=vb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Py(n.l),n.l.length=0),n.j.ua())}function Ui(n,e,t){let r=function U1(n){return n instanceof xu?Mu(n):new xu(n,void 0)}(t);if(""!=r.i)e&&_g(r,e+"."+r.i),wg(r,r.m);else{const o=Zt.location;r=function cb(n,e,t,r){var o=new xu(null,void 0);return n&&Xy(o,n),e&&_g(o,e),t&&wg(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Ny(n.aa,function(o,l){sr(r,l,o)}),t=n.sa,(e=n.D)&&t&&sr(r,e,t),sr(r,"VER",n.ma),Dc(n,r),r}function Tc(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zr(t&&n.Ba&&!n.qa?new Ru({ib:!0}):n.qa)).L=n.H,e}function Ab(){}function Rg(){if(Dd&&!(10<=Number(HI)))throw Error("Environmental error: no available transport.")}function ho(n,e){pi.call(this),this.g=new av(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!gc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gc(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Cl(this)}function Vd(n){Ky.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Sb(){fg.call(this),this.status=1}function Cl(n){this.g=n}(pt=Zr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yy.g(),this.C=function hg(n){return n.h||(n.h=n.i())}(this.u?this.u:Yy),this.g.onreadystatechange=Cr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void bb(this,l)}n=t||"";const o=new Pd(this.headers);r&&bc(r,function(l,d){o.set(d,l)}),r=function VI(n){e:{var e=cD;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Zt.FormData&&n instanceof Zt.FormData,!(0<=LI(Ag,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ov(this),0<this.B&&((this.K=function Sg(n){return Dd&&function Jh(){return function kw(n){var e=$I;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Rw(String(yc)).split("."),t=Rw("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",l=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Id(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Id(0==o[2].length,0==l[2].length)||Id(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cr(this.pa,this)):this.A=nf(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){bb(this,l)}},pt.pa=function(){void 0!==Jp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mi(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mi(this,"complete"),Mi(this,"abort"),Fd(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fd(this,!0)),Zr.Z.M.call(this)},pt.Fa=function(){this.s||(this.F||this.v||this.l?sv(this):this.cb())},pt.cb=function(){sv(this)},pt.ba=function(){try{return 2<Pu(this)?this.g.status:-1}catch(n){return-1}},pt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},pt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),gf(e)}},pt.Da=function(){return this.m},pt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=av.prototype).ma=8,pt.G=1,pt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},pt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new pg(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Pw(l),Ly(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=cv(this,o,e),sr(t=Mu(this.F),"RID",n),sr(t,"CVER",22),this.D&&sr(t,"X-HTTP-Session-Id",this.D),Dc(this,t),this.o&&l&&mf(t,this.o,l),Cg(this.i,o),this.Ra&&sr(t,"TYPE","init"),this.ja?(sr(t,"$req",e),sr(t,"SID","null"),o.$=!0,wc(o,t,null)):wc(o,t,e),this.G=2}}else 3==this.G&&(n?lv(this,n):0==this.l.length||tv(this.i)||lv(this))},pt.Ga=function(){if(this.u=null,Ib(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=xd(Cr(this.bb,this),n)}},pt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Oi(10),Ld(this),Ib(this))},pt.ab=function(){null!=this.v&&(this.v=null,Ld(this),Mg(this),Oi(19))},pt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Oi(2)):(this.h.info("Failed to ping google.com"),Oi(1))},(pt=Ab.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Oa=function(){},Rg.prototype.g=function(n,e){return new ho(n,e)},Jr(ho,pi),ho.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Gy(Cr(n.hb,n,e))),Oi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Ui(n,null,n.W),xg(n)},ho.prototype.close=function(){yf(this.g)},ho.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,uv(this.g,e)}else this.v?((e={}).__data__=Hy(n),uv(this.g,e)):uv(this.g,n)},ho.prototype.M=function(){this.g.j=null,delete this.j,yf(this.g),delete this.g,ho.Z.M.call(this)},Jr(Vd,Ky),Jr(Sb,fg),Jr(Cl,Ab),Cl.prototype.xa=function(){Mi(this.g,"a")},Cl.prototype.wa=function(n){Mi(this.g,new Vd(n))},Cl.prototype.va=function(n){Mi(this.g,new Sb(n))},Cl.prototype.ua=function(){Mi(this.g,"b")},Rg.prototype.createWebChannel=Rg.prototype.g,ho.prototype.send=ho.prototype.u,ho.prototype.open=ho.prototype.m,ho.prototype.close=ho.prototype.close,Md.NO_ERROR=0,Md.TIMEOUT=8,Md.HTTP_ERROR=6,ib.COMPLETE="complete",sb.EventType=Od,Od.OPEN="a",Od.CLOSE="b",Od.ERROR="c",Od.MESSAGE="d",pi.prototype.listen=pi.prototype.N,Zr.prototype.listenOnce=Zr.prototype.O,Zr.prototype.getLastError=Zr.prototype.La,Zr.prototype.getLastErrorCode=Zr.prototype.Da,Zr.prototype.getStatus=Zr.prototype.ba,Zr.prototype.getResponseJson=Zr.prototype.Qa,Zr.prototype.getResponseText=Zr.prototype.ga,Zr.prototype.send=Zr.prototype.ea;var hD=Ua.createWebChannelTransport=function(){return new Rg},xb=Ua.getStatEventTarget=function(){return sf()},fv=Ua.ErrorCode=Md,fD=Ua.EventType=ib,pv=Ua.Event=_c,gv=Ua.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Mb=Ua.FetchXmlHttpFactory=Ru,Ac=Ua.WebChannel=sb,mv=Ua.XhrIo=Zr;const pD="@firebase/firestore";class Xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xr.UNAUTHENTICATED=new Xr(null),Xr.GOOGLE_CREDENTIALS=new Xr("google-credentials-uid"),Xr.FIRST_PARTY=new Xr("first-party-uid"),Xr.MOCK_USER=new Xr("mock-user");let Ud="9.8.3";const ku=new yl.Yd("@firebase/firestore");function Bd(){return ku.logLevel}function Ke(n,...e){if(ku.logLevel<=yl.in.DEBUG){const t=e.map(Rb);ku.debug(`Firestore (${Ud}): ${n}`,...t)}}function Ir(n,...e){if(ku.logLevel<=yl.in.ERROR){const t=e.map(Rb);ku.error(`Firestore (${Ud}): ${n}`,...t)}}function Sc(n,...e){if(ku.logLevel<=yl.in.WARN){const t=e.map(Rb);ku.warn(`Firestore (${Ud}): ${n}`,...t)}}function Rb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function vt(n="Unexpected state"){const e=`FIRESTORE (${Ud}) INTERNAL ASSERTION FAILED: `+n;throw Ir(e),new Error(e)}function Vt(n,e){n||vt()}function ut(n,e){return n}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends un.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class kb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xr.UNAUTHENTICATED))}shutdown(){}}class Nb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mD{constructor(e){this.t=e,this.currentUser=Xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let d=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ei,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const D=d;e.enqueueRetryable((0,Re.Z)(function*(){yield D.promise,yield l(r.currentUser)}))},v=D=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(D=>v(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?v(D):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ei)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt("string"==typeof r.accessToken),new kb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new Xr(e)}}class Fb{constructor(e,t,r){this.type="FirstParty",this.user=Xr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Lb{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Fb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vb{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,Ke("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vt("string"==typeof t.token),this.p=t.token,new yv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class vD{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=yD(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function en(n,e){return n<e?-1:n>e?1:0}function _f(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function _D(n){return n+"\0"}class _r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _r.fromMillis(Date.now())}static fromDate(e){return _r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new _r(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new _r(0,0))}static max(){return new Lt(new _r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pg{constructor(e,t,r){void 0===t?t=0:t>e.length&&vt(),void 0===r?r=e.length-t:r>e.length-t&&vt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Pg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),d=t.get(o);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends Pg{construct(e,t,r){return new Tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const $1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gr extends Pg{construct(e,t,r){return new Gr(e,t,r)}static isValidIdentifier(e){return $1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new qe(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new qe(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new qe(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===g?(d=!d,o++):"."!==g||d?(r+=g,o++):(l(),o++)}if(l(),d)throw new qe(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gr(t)}static emptyPath(){return new Gr([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(Tn.fromString(e))}static fromName(e){return new nt(Tn.fromString(e).popFirst(5))}static empty(){return new nt(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new Tn(e.slice()))}}class vv{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function kg(n){return n.fields.find(e=>2===e.kind)}function Nu(n){return n.fields.filter(e=>2!==e.kind)}vv.UNKNOWN_ID=-1;class wf{constructor(e,t){this.fieldPath=e,this.kind=t}}class jd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new jd(0,Is.min())}}function wD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Lt.fromTimestamp(1e9===r?new _r(t+1,0):new _r(t,r));return new Is(o,nt.empty(),e)}function Ng(n){return new Is(n.readTime,n.key,-1)}class Is{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Is(Lt.min(),nt.empty(),-1)}static max(){return new Is(Lt.max(),nt.empty(),-1)}}function Fg(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=nt.comparator(n.documentKey,e.documentKey),0!==t?t:en(n.largestBatchId,e.largestBatchId))}const _v="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fu(n){return wv.apply(this,arguments)}function wv(){return wv=(0,Re.Z)(function*(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==_v)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),wv.apply(this,arguments)}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,r)=>{t(e)})}static reject(e){return new Te((t,r)=>{r(e)})}static waitFor(e){return new Te((t,r)=>{let o=0,l=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++l,d&&l===o&&t()},v=>r(v))}),d=!0,l===o&&t()})}static or(e){let t=Te.resolve(!1);for(const r of e)t=t.next(o=>o?Te.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new Te((r,o)=>{const l=e.length,d=new Array(l);let g=0;for(let v=0;v<l;v++){const D=v;t(e[D]).next(P=>{d[D]=P,++g,g===l&&r(d)},P=>o(P))}})}static doWhile(e,t){return new Te((r,o)=>{const l=()=>{!0===e()?t().next(()=>{l()},o):r()};l()})}}class Lg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new ei,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Vg(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const o=bv(r.target.error);this.T.reject(new Vg(e,o))}}static open(e,t,r,o){try{return new Lg(t,e.transaction(o,r))}catch(l){throw new Vg(t,l)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ED(t)}}class Ba{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===Ba.v((0,un.z$)())&&Ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),xc(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,un.hl)())return!1;if(Ba.S())return!0;const e=(0,un.z$)(),t=Ba.v(e),r=0<t&&t<10,o=Ba.D(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,Re.Z)(function*(){return t.db||(Ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{o(new Vg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const g=d.target.error;o("VersionError"===g.name?new qe(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new qe(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Vg(e,g))},l.onupgradeneeded=d=>{Ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.P.O(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,Re.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{l.db=yield l.k(e);const v=Lg.open(l.db,e,d?"readonly":"readwrite",r),D=o(v).next(P=>(v.R(),P)).catch(P=>(v.abort(P),Te.reject(P))).toPromise();return D.catch(()=>{}),yield v.A,D}catch(v){const D="FirebaseError"!==v.name&&g<3;if(Ke("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),l.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class H1{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return xc(this.$.delete())}}class Vg extends qe{constructor(e,t){super(xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Il(n){return"IndexedDbTransactionError"===n.name}class ED{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xc(r)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),xc(this.store.add(e))}get(e){return xc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),xc(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),xc(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.G(o,(d,g)=>{l.push(g)}).next(()=>l)}{const o=this.store.getAll(r.range);return new Te((l,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{l(g.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Te((o,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}W(e,t){Ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const o=this.cursor(r);return this.G(o,(l,d,g)=>g.delete())}J(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.G(o,t)}Y(e){const t=this.cursor({});return new Te((r,o)=>{t.onerror=l=>{const d=bv(l.target.error);o(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}G(e,t){const r=[];return new Te((o,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void o();const v=new H1(g),D=t(g.primaryKey,g.value,v);if(D instanceof Te){const P=D.catch(V=>(v.done(),Te.reject(V)));r.push(P)}v.isDone?o():null===v.U?g.continue():g.continue(v.U)}}).next(()=>Te.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xc(n){return new Te((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=bv(r.target.error);t(o)}})}let CD=!1;function bv(n){const e=Ba.v((0,un.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CD||(CD=!0,setTimeout(()=>{throw r},0)),r}}return n}class Ev{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Re.Z)(function*(){t.task=null;try{Ke("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Il(r)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Fu(r)}yield t.Z(1)}))}}class ID{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Re.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let o=t,l=!0;return Te.doWhile(()=>!0===l&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Ke("IndexBackiller",`Processing collection: ${d}`),this.nt(e,d,o).next(g=>{o-=g,r.add(d)});l=!1})).next(()=>t-o)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.st(o,l)).next(g=>(Ke("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}st(e,t){let r=e;return t.changes.forEach((o,l)=>{const d=Ng(l);Fg(d,r)>0&&(r=d)}),new Is(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class hr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Ub(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Bb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}hr.ot=-1;class Dr{constructor(e,t){this.comparator=e,this.root=t||gi.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $d(this.root,e,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $d(this.root,e,this.comparator,!0)}}class $d{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gi{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:gi.RED,this.left=null!=o?o:gi.EMPTY,this.right=null!=l?l:gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new gi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return gi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1,gi.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new gi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jb(this.data.getIterator())}getIteratorFrom(e){return new jb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class jb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mc(n){return n.hasNext()?n.getNext():void 0}class Ds{constructor(e){this.fields=e,e.sort(Gr.comparator)}static empty(){return new Ds([])}unionWith(e){let t=new Fn(Gr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ds(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _f(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ti{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ti(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new ti(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const Cv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(n){if(Vt(!!n),"string"==typeof n){let e=0;const t=Cv.exec(n);if(Vt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hd(n){return"string"==typeof n?ti.fromBase64String(n):ti.fromUint8Array(n)}function Iv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Dv(n){const e=n.mapValue.fields.__previous_value__;return Iv(e)?Dv(e):e}function bf(n){const e=mi(n.mapValue.fields.__local_write_time__.timestampValue);return new _r(e.seconds,e.nanos)}class TD{constructor(e,t,r,o,l,d,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=v}}class ja{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}function Ef(n){return null==n}function Ug(n){return 0===n&&1/n==-1/0}function Tv(n){return"number"==typeof n&&Number.isInteger(n)&&!Ug(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Vu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bg={nullValue:"NULL_VALUE"};function Oc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Iv(n)?4:$b(n)?9007199254740991:10:vt()}function sa(n,e){if(n===e)return!0;const t=Oc(n);if(t!==Oc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bf(n).isEqual(bf(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=mi(r.timestampValue),d=mi(o.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Hd(n.bytesValue).isEqual(Hd(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Tr(r.geoPointValue.latitude)===Tr(o.geoPointValue.latitude)&&Tr(r.geoPointValue.longitude)===Tr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Tr(r.integerValue)===Tr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Tr(r.doubleValue),d=Tr(o.doubleValue);return l===d?Ug(l)===Ug(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return _f(n.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:return function(r,o){const l=r.mapValue.fields||{},d=o.mapValue.fields||{};if(Ub(l)!==Ub(d))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===d[g]||!sa(l[g],d[g])))return!1;return!0}(n,e);default:return vt()}var o}function Rc(n,e){return void 0!==(n.values||[]).find(t=>sa(t,e))}function $a(n,e){if(n===e)return 0;const t=Oc(n),r=Oc(e);if(t!==r)return en(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,e.booleanValue);case 2:return function(o,l){const d=Tr(o.integerValue||o.doubleValue),g=Tr(l.integerValue||l.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return Av(n.timestampValue,e.timestampValue);case 4:return Av(bf(n),bf(e));case 5:return en(n.stringValue,e.stringValue);case 6:return function(o,l){const d=Hd(o),g=Hd(l);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const d=o.split("/"),g=l.split("/");for(let v=0;v<d.length&&v<g.length;v++){const D=en(d[v],g[v]);if(0!==D)return D}return en(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const d=en(Tr(o.latitude),Tr(l.latitude));return 0!==d?d:en(Tr(o.longitude),Tr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const d=o.values||[],g=l.values||[];for(let v=0;v<d.length&&v<g.length;++v){const D=$a(d[v],g[v]);if(D)return D}return en(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===Vu.mapValue&&l===Vu.mapValue)return 0;if(o===Vu.mapValue)return 1;if(l===Vu.mapValue)return-1;const d=o.fields||{},g=Object.keys(d),v=l.fields||{},D=Object.keys(v);g.sort(),D.sort();for(let P=0;P<g.length&&P<D.length;++P){const V=en(g[P],D[P]);if(0!==V)return V;const te=$a(d[g[P]],v[D[P]]);if(0!==te)return te}return en(g.length,D.length)}(n.mapValue,e.mapValue);default:throw vt()}}function Av(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return en(n,e);const t=mi(n),r=mi(e),o=en(t.seconds,r.seconds);return 0!==o?o:en(t.nanos,r.nanos)}function Zd(n){return jg(n)}function jg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=mi(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hd(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const d of r.values||[])l?l=!1:o+=",",o+=jg(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const g of o)d?d=!1:l+=",",l+=`${g}:${jg(r.fields[g])}`;return l+"}"}(n.mapValue):vt();var e}function Dl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sv(n){return!!n&&"integerValue"in n}function Cf(n){return!!n&&"arrayValue"in n}function AD(n){return!!n&&"nullValue"in n}function SD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function If(n){return!!n&&"mapValue"in n}function Df(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Lu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Df(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Df(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $b(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function xD(n){return"nullValue"in n?Bg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Dl(ja.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:vt()}function Z1(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Dl(ja.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Vu:vt()}function MD(n,e){const t=$a(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function OD(n,e){const t=$a(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Bi{constructor(e){this.value=e}static empty(){return new Bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!If(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Df(t)}setAll(e){let t=Gr.emptyPath(),r={},o=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=g.popLast()}d?r[g.lastSegment()]=Df(d):o.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());If(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];If(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Lu(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Bi(Df(this.value))}}function RD(n){const e=[];return Lu(n.fields,(t,r)=>{const o=new Gr([t]);if(If(r)){const l=RD(r.mapValue).fields;if(0===l.length)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new Ds(e)}class Jn{constructor(e,t,r,o,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Jn(e,0,Lt.min(),Lt.min(),Bi.empty(),0)}static newFoundDocument(e,t,r){return new Jn(e,1,t,Lt.min(),r,0)}static newNoDocument(e,t){return new Jn(e,2,t,Lt.min(),Bi.empty(),0)}static newUnknownDocument(e,t){return new Jn(e,3,t,Lt.min(),Bi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $g{constructor(e,t=null,r=[],o=[],l=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=d,this.endAt=g,this.ut=null}}function Hb(n,e=null,t=[],r=[],o=null,l=null,d=null){return new $g(n,e,t,r,o,l,d)}function Pc(n){const e=ut(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Zd(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Ef(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zd(r)).join(",")),e.ut=t}return e.ut}function oa(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!ND(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!sa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ov(n.startAt,e.startAt)&&Ov(n.endAt,e.endAt)}function Tf(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Gd(n,e){return n.filters.filter(t=>t instanceof ni&&t.field.isEqual(e))}function Hg(n,e,t){let r=Bg,o=!0;for(const l of Gd(n,e)){let d=Bg,g=!0;switch(l.op){case"<":case"<=":d=xD(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,g=!1;break;case"!=":case"not-in":d=Bg}MD({value:r,inclusive:o},{value:d,inclusive:g})<0&&(r=d,o=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];MD({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function Gb(n,e,t){let r=Vu,o=!0;for(const l of Gd(n,e)){let d=Vu,g=!0;switch(l.op){case">=":case">":d=Z1(l.value),g=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,g=!1;break;case"!=":case"not-in":d=Vu}OD({value:r,inclusive:o},{value:d,inclusive:g})>0&&(r=d,o=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];OD({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class ni extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new xv(e,t,r):"array-contains"===t?new z1(e,r):"in"===t?new q1(e,r):"not-in"===t?new zb(e,r):"array-contains-any"===t?new kD(e,r):new ni(e,t,r)}static ct(e,t,r){return"in"===t?new Zg(e,r):new G1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at($a(t,this.value)):null!==t&&Oc(this.value)===Oc(t)&&this.at($a(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xv extends ni{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.at(t)}}class Zg extends ni{constructor(e,t){super(e,"in",t),this.keys=PD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class G1 extends ni{constructor(e,t){super(e,"not-in",t),this.keys=PD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function PD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nt.fromName(r.referenceValue))}class z1 extends ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cf(t)&&Rc(t.arrayValue,this.value)}}class q1 extends ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rc(this.value.arrayValue,t)}}class zb extends ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rc(this.value.arrayValue,t)}}class kD extends ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rc(this.value.arrayValue,r))}}class Tl{constructor(e,t){this.position=e,this.inclusive=t}}class zd{constructor(e,t="asc"){this.field=e,this.dir=t}}function ND(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Mv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(r=l.field.isKeyField()?nt.comparator(nt.fromName(d.referenceValue),t.key):$a(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Ov(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sa(n.position[t],e.position[t]))return!1;return!0}class Ha{constructor(e,t=null,r=[],o=[],l=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=d,this.startAt=g,this.endAt=v,this.lt=null,this.ft=null}}function qb(n,e,t,r,o,l,d,g){return new Ha(n,e,t,r,o,l,d,g)}function qd(n){return new Ha(n)}function Af(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Kb(n){for(const e of n.filters)if(e.ht())return e.field;return null}function Gg(n){return null!==n.collectionGroup}function Al(n){const e=ut(n);if(null===e.lt){e.lt=[];const t=Kb(e),r=Af(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new zd(t)),e.lt.push(new zd(Gr.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.lt.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new zd(Gr.keyField(),l))}}}return e.lt}function fo(n){const e=ut(n);if(!e.ft)if("F"===e.limitType)e.ft=Hb(e.path,e.collectionGroup,Al(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Al(e))t.push(new zd(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Tl(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Tl(e.startAt.position,e.startAt.inclusive):null;e.ft=Hb(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.ft}function Yb(n,e,t){return new Ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zg(n,e){return oa(fo(n),fo(e))&&n.limitType===e.limitType}function FD(n){return`${Pc(fo(n))}|lt:${n.limitType}`}function Qb(n){return`Query(target=${function Zb(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Zd(r.value)}`;var r}).join(", ")}]`),Ef(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Zd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Zd(t)).join(",")),`Target(${e})`}(fo(n))}; limitType=${n.limitType})`}function Rv(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):nt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,d){const g=Mv(o,l,d);return o.inclusive?g<=0:g<0}(t.startAt,Al(t),r)||t.endAt&&!function(o,l,d){const g=Mv(o,l,d);return o.inclusive?g>=0:g>0}(t.endAt,Al(t),r)));var t,r}function Jb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LD(n){return(e,t)=>{let r=!1;for(const o of Al(n)){const l=W1(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function W1(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):function(o,l,d){const g=l.data.field(o),v=d.data.field(o);return null!==g&&null!==v?$a(g,v):vt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}function VD(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ug(e)?"-0":e}}function UD(n){return{integerValue:""+n}}function BD(n,e){return Tv(e)?UD(e):VD(n,e)}class qg{constructor(){this._=void 0}}function K1(n,e,t){return n instanceof Sf?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof i?s(n,e):n instanceof a?c(n,e):function(r,o){const l=jD(r,o),d=f(l)+f(r._t);return Sv(l)&&Sv(r._t)?UD(d):VD(r.wt,d)}(n,e)}function Y1(n,e,t){return n instanceof i?s(n,e):n instanceof a?c(n,e):t}function jD(n,e){return n instanceof h?Sv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Sf extends qg{}class i extends qg{constructor(e){super(),this.elements=e}}function s(n,e){const t=y(e);for(const r of n.elements)t.some(o=>sa(o,r))||t.push(r);return{arrayValue:{values:t}}}class a extends qg{constructor(e){super(),this.elements=e}}function c(n,e){let t=y(e);for(const r of n.elements)t=t.filter(o=>!sa(o,r));return{arrayValue:{values:t}}}class h extends qg{constructor(e,t){super(),this.wt=e,this._t=t}}function f(n){return Tr(n.integerValue||n.doubleValue)}function y(n){return Cf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class w{constructor(e,t){this.field=e,this.transform=t}}class x{constructor(e,t){this.version=e,this.transformResults=t}}class k{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new k}static exists(e){return new k(void 0,e)}static updateTime(e){return new k(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class re{}function ye(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new po(n.key,k.none()):new $e(n.key,n.data,k.none());{const t=n.data,r=Bi.empty();let o=new Fn(Gr.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),o=o.add(l)}return new bt(n.key,r,new Ds(o.toArray()),k.none())}}function Le(n,e,t){n instanceof $e?function(r,o,l){const d=r.value.clone(),g=Rn(r.fieldTransforms,o,l.transformResults);d.setAll(g),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof bt?function(r,o,l){if(!$(r.precondition,o))return void o.convertToUnknownDocument(l.version);const d=Rn(r.fieldTransforms,o,l.transformResults),g=o.data;g.setAll(ln(r)),g.setAll(d),o.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ye(n,e,t,r){return n instanceof $e?function(o,l,d,g){if(!$(o.precondition,l))return d;const v=o.value.clone(),D=Ts(o.fieldTransforms,g,l);return v.setAll(D),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof bt?function(o,l,d,g){if(!$(o.precondition,l))return d;const v=Ts(o.fieldTransforms,g,l),D=l.data;return D.setAll(ln(o)),D.setAll(v),l.convertToFoundDocument(l.version,D).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(P=>P.field))}(n,e,t,r):(d=t,$(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function rt(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=jD(r.transform,o||null);null!=l&&(null===t&&(t=Bi.empty()),t.set(r.field,l))}return t||null}function gt(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&_f(t,r,(o,l)=>function I(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof i&&r instanceof i||t instanceof a&&r instanceof a?_f(t.elements,r.elements,sa):t instanceof h&&r instanceof h?sa(t._t,r._t):t instanceof Sf&&r instanceof Sf);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class $e extends re{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bt extends re{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ln(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Rn(n,e,t){const r=new Map;Vt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,g=e.data.field(l.field);r.set(l.field,Y1(d,g,t[o]))}return r}function Ts(n,e,t){const r=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);r.set(o.field,K1(l,d,e))}return r}class po extends re{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xf extends re{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pv{constructor(e){this.count=e}}var Ar,gn;function Wg(n){switch(n){default:return vt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function Kg(n){if(void 0===n)return Ir("GRPC error has no .code"),xe.UNKNOWN;switch(n){case Ar.OK:return xe.OK;case Ar.CANCELLED:return xe.CANCELLED;case Ar.UNKNOWN:return xe.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return xe.INTERNAL;case Ar.UNAVAILABLE:return xe.UNAVAILABLE;case Ar.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Ar.NOT_FOUND:return xe.NOT_FOUND;case Ar.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Ar.ABORTED:return xe.ABORTED;case Ar.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Ar.DATA_LOSS:return xe.DATA_LOSS;default:return vt()}}(gn=Ar||(Ar={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class Za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Lu(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return Bb(this.inner)}size(){return this.innerSize}}const kv=new Dr(nt.comparator);function ji(){return kv}const Q1=new Dr(nt.comparator);function Nv(...n){let e=Q1;for(const t of n)e=e.insert(t.key,t);return e}function J1(n){let e=Q1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Sl(){return Fv()}function X1(){return Fv()}function Fv(){return new Za(n=>n.toString(),(n,e)=>n.isEqual(e))}const fO=new Dr(nt.comparator),pO=new Fn(nt.comparator);function an(...n){let e=pO;for(const t of n)e=e.add(t);return e}const gO=new Fn(en);function Xb(){return gO}class Lv{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Vv.createSynthesizedTargetChangeForCurrentChange(e,t)),new Lv(Lt.min(),r,Xb(),ji(),an())}}class Vv{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Vv(ti.EMPTY_BYTE_STRING,t,an(),an(),an())}}class eE{constructor(e,t,r,o){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=o}}class eS{constructor(e,t){this.targetId=e,this.It=t}}class tS{constructor(e,t,r=ti.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class nS{constructor(){this.Tt=0,this.Et=iS(),this.At=ti.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=an(),t=an(),r=an();return this.Et.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:vt()}}),new Vv(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=iS()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class mO{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=ji(),this.Bt=rS(),this.Lt=new Fn(en)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:vt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,o)=>{this.jt(o)&&t(o)})}zt(e){const t=e.targetId,r=e.It.count,o=this.Ht(t);if(o){const l=o.target;if(Tf(l))if(0===r){const d=new nt(l.path);this.Kt(t,d,Jn.newNoDocument(d,Lt.min()))}else Vt(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((l,d)=>{const g=this.Ht(d);if(g){if(l.current&&Tf(g.target)){const v=new nt(g.target.path);null!==this.$t.get(v)||this.Xt(d,v)||this.Kt(d,v,Jn.newNoDocument(v,e))}l.vt&&(t.set(d,l.St()),l.Dt())}});let r=an();this.Bt.forEach((l,d)=>{let g=!0;d.forEachWhile(v=>{const D=this.Ht(v);return!D||2===D.purpose||(g=!1,!1)}),g&&(r=r.add(l))}),this.$t.forEach((l,d)=>d.setReadTime(e));const o=new Lv(e,t,this.Lt,this.$t,r);return this.$t=ji(),this.Bt=rS(),this.Lt=new Fn(en),o}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const o=this.Qt(e);this.Xt(e,t)?o.Ct(t,1):o.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new nS,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Fn(en),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new nS),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function rS(){return new Dr(nt.comparator)}function iS(){return new Dr(nt.comparator)}const yO={asc:"ASCENDING",desc:"DESCENDING"},vO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _O{constructor(e,t){this.databaseId=e,this.dt=t}}function Uv(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sS(n,e){return n.dt?e.toBase64():e.toUint8Array()}function wO(n,e){return Uv(n,e.toTimestamp())}function $i(n){return Vt(!!n),Lt.fromTimestamp(function(e){const t=mi(e);return new _r(t.seconds,t.nanos)}(n))}function $D(n,e){return(t=n,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function oS(n){const e=Tn.fromString(n);return Vt(gS(e)),e}function Bv(n,e){return $D(n.databaseId,e.path)}function xl(n,e){const t=oS(e);if(t.get(1)!==n.databaseId.projectId)throw new qe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new qe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(uS(t))}function HD(n,e){return $D(n.databaseId,e)}function aS(n){const e=oS(n);return 4===e.length?Tn.emptyPath():uS(e)}function jv(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uS(n){return Vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lS(n,e,t){return{name:Bv(n,e),fields:t.value.mapValue.fields}}function cS(n,e,t){const r=xl(n,e.name),o=$i(e.updateTime),l=new Bi({mapValue:{fields:e.fields}}),d=Jn.newFoundDocument(r,o,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function $v(n,e){let t;if(e instanceof $e)t={update:lS(n,e.key,e.value)};else if(e instanceof po)t={delete:Bv(n,e.key)};else if(e instanceof bt)t={update:lS(n,e.key,e.data),updateMask:xO(e.fieldMask)};else{if(!(e instanceof xf))return vt();t={verify:Bv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const d=l.transform;if(d instanceof Sf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof i)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof a)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof h)return{fieldPath:l.field.canonicalString(),increment:d._t};throw vt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:wO(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:vt()),t;var o}function ZD(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?k.updateTime($i(o.updateTime)):void 0!==o.exists?k.exists(o.exists):k.none():k.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,d){let g=null;"setToServerValue"in d?(Vt("REQUEST_TIME"===d.setToServerValue),g=new Sf):"appendMissingElements"in d?g=new i(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new a(d.removeAllFromArray.values||[]):"increment"in d?g=new h(l,d.increment):vt();const v=Gr.fromServerFormat(d.fieldPath);return new w(v,g)}(n,o)):[];var o;if(e.update){const o=xl(n,e.update.name),l=new Bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Ds((e.updateMask.fieldPaths||[]).map(D=>Gr.fromServerFormat(D)));return new bt(o,l,d,t,r)}return new $e(o,l,t,r)}if(e.delete){const o=xl(n,e.delete);return new po(o,t)}if(e.verify){const o=xl(n,e.verify);return new xf(o,t)}return vt()}function dS(n,e){return{documents:[HD(n,e.path)]}}function hS(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=HD(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=HD(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(v){if(0===v.length)return;const D=v.map(P=>function(V){if("=="===V.op){if(SD(V.value))return{unaryFilter:{field:Yg(V.field),op:"IS_NAN"}};if(AD(V.value))return{unaryFilter:{field:Yg(V.field),op:"IS_NULL"}}}else if("!="===V.op){if(SD(V.value))return{unaryFilter:{field:Yg(V.field),op:"IS_NOT_NAN"}};if(AD(V.value))return{unaryFilter:{field:Yg(V.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yg(V.field),op:TO(V.op),value:V.value}}}(P));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(v){if(0!==v.length)return v.map(D=>{return{field:Yg((P=D).field),direction:DO(P.dir)};var P})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(D=e.limit,n.dt||Ef(D)?D:{value:D});var D,g,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function fS(n){let e=aS(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Vt(1===r);const P=t.from[0];P.allDescendants?o=P.collectionId:e=e.child(P.collectionId)}let l=[];t.where&&(l=pS(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(P=>{return new zd(Qg((V=P).field),function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction));var V}));let g=null;t.limit&&(g=function(P){let V;return V="object"==typeof P?P.value:P,Ef(V)?null:V}(t.limit));let v=null;var P;t.startAt&&(v=new Tl((P=t.startAt).values||[],!!P.before));let D=null;return t.endAt&&(D=function(P){return new Tl(P.values||[],!P.before)}(t.endAt)),qb(e,o,d,l,g,"F",v,D)}function pS(n){return n?void 0!==n.unaryFilter?[SO(n)]:void 0!==n.fieldFilter?[AO(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>pS(e)).reduce((e,t)=>e.concat(t)):vt():[]}function DO(n){return yO[n]}function TO(n){return vO[n]}function Yg(n){return{fieldPath:n.canonicalString()}}function Qg(n){return Gr.fromServerFormat(n.fieldPath)}function AO(n){return ni.create(Qg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value)}function SO(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Qg(n.unaryFilter.field);return ni.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Qg(n.unaryFilter.field);return ni.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Qg(n.unaryFilter.field);return ni.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qg(n.unaryFilter.field);return ni.create(o,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}function xO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gS(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function $s(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mS(e)),e=MO(n.get(t),e);return mS(e)}function MO(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function mS(n){return n+"\x01\x01"}function Ml(n){const e=n.length;if(Vt(e>=2),2===e)return Vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&vt(),n.charAt(d+1)){case"\x01":const g=n.substring(l,d);let v;0===o.length?v=g:(o+=g,v=o,o=""),r.push(v);break;case"\x10":o+=n.substring(l,d),o+="\0";break;case"\x11":o+=n.substring(l,d+1);break;default:vt()}l=d+2}return new Tn(r)}const yS=["userId","batchId"];function tE(n,e){return[n,$s(e)]}function vS(n,e,t){return[n,$s(e),t]}const OO={},RO=["prefixPath","collectionGroup","readTime","documentId"],PO=["prefixPath","collectionGroup","documentId"],kO=["collectionGroup","readTime","prefixPath","documentId"],NO=["canonicalId","targetId"],FO=["targetId","path"],LO=["path","targetId"],VO=["collectionId","parent"],UO=["indexId","uid"],BO=["uid","sequenceNumber"],jO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$O=["indexId","uid","orderedDocumentKey"],HO=["userId","collectionPath","documentId"],ZO=["userId","collectionPath","largestBatchId"],GO=["userId","collectionGroup","largestBatchId"],_S=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zO=[..._S,"documentOverlays"],wS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bS=wS,qO=[...bS,"indexConfiguration","indexState","indexEntries"];class GD extends bD{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Hi(n,e){const t=ut(n);return Ba.N(t.ee,e)}class zD{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Le(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ye(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ye(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=X1();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let g=this.applyToLocalView(d,l.mutatedFields);g=t.has(o.key)?null:g;const v=ye(d,g);null!==v&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),an())}isEqual(e){return this.batchId===e.batchId&&_f(this.mutations,e.mutations,(t,r)=>gt(t,r))&&_f(this.baseMutations,e.baseMutations,(t,r)=>gt(t,r))}}class qD{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Vt(e.mutations.length===r.length);let o=fO;const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,r[d].version);return new qD(e,t,r,o)}}class WD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wd{constructor(e,t,r,o,l=Lt.min(),d=Lt.min(),g=ti.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new Wd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ES{constructor(e){this.ne=e}}function CS(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:nE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Bv(o=n.ne,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Uv(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Mf(e.version)};else{if(!e.isUnknownDocument())return vt();r.unknownDocument={path:t.path.toArray(),version:Mf(e.version)}}var o,l;return r}function nE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Mf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Of(n){const e=new _r(n.seconds,n.nanoseconds);return Lt.fromTimestamp(e)}function Rf(n,e){const t=(e.baseMutations||[]).map(l=>ZD(n.ne,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>ZD(n.ne,l)),o=_r.fromMillis(e.localWriteTimeMs);return new zD(e.batchId,o,t,r)}function Hv(n){const e=Of(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Of(n.lastLimboFreeSnapshotVersion):Lt.min();let r;var o;return void 0!==n.query.documents?(Vt(1===(o=n.query).documents.length),r=fo(qd(aS(o.documents[0])))):r=fo(fS(n.query)),new Wd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ti.fromBase64String(n.resumeToken))}function IS(n,e){const t=Mf(e.snapshotVersion),r=Mf(e.lastLimboFreeSnapshotVersion);let o;o=Tf(e.target)?dS(n.ne,e.target):hS(n.ne,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pc(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function KD(n){const e=fS({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Yb(e,e.limit,"L"):e}function YD(n,e){return new WD(e.largestBatchId,ZD(n.ne,e.overlayMutation))}function DS(n,e){const t=e.path.lastSegment();return[n,$s(e.path.popLast()),t]}function TS(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Mf(r.readTime),documentKey:$s(r.documentKey.path),largestBatchId:r.largestBatchId}}class KO{getBundleMetadata(e,t){return AS(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Of(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return AS(e).put({bundleId:(r=t).id,createTime:Mf($i(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return SS(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:KD(o.bundledQuery),readTime:Of(o.readTime)};var o})}saveNamedQuery(e,t){return SS(e).put({name:(r=t).name,readTime:Mf($i(r.readTime)),bundledQuery:r.bundledQuery});var r}}function AS(n){return Hi(n,"bundles")}function SS(n){return Hi(n,"namedQueries")}class rE{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new rE(e,t.uid||"")}getOverlay(e,t){return Zv(e).get(DS(this.userId,t)).next(r=>r?YD(this.wt,r):null)}getOverlays(e,t){const r=Sl();return Te.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((l,d)=>{const g=new WD(t,d);o.push(this.ie(e,g))}),Te.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add($s(d.getCollectionPath())));const l=[];return o.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(Zv(e).W("collectionPathOverlayIndex",g))}),Te.waitFor(l)}getOverlaysForCollection(e,t,r){const o=Sl(),l=$s(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Zv(e).K("collectionPathOverlayIndex",d).next(g=>{for(const v of g){const D=YD(this.wt,v);o.set(D.getKey(),D)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=Sl();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zv(e).J({index:"collectionGroupOverlayIndex",range:g},(v,D,P)=>{const V=YD(this.wt,D);l.size()<o||V.largestBatchId===d?(l.set(V.getKey(),V),d=V.largestBatchId):P.done()}).next(()=>l)}ie(e,t){return Zv(e).put(function(r,o,l){const[d,g,v]=DS(o,l.mutation.key);return{userId:o,collectionPath:g,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:$v(r.ne,l.mutation)}}(this.wt,this.userId,t))}}function Zv(n){return Hi(n,"documentOverlays")}class Pf{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Tr(e.integerValue));else if("doubleValue"in e){const r=Tr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Ug(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Hd(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?$b(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):vt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const o of Object.keys(r))this.le(o,t),this.oe(r[o],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const o of r)this.oe(o,t)}_e(e,t){this.ce(t,37),nt.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function YO(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function xS(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=YO(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Pf.ye=new Pf;class QO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const o=t.codePointAt(0);this.Ie(240|o>>>18),this.Ie(128|63&o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}ve(e){const t=this.Ve(e),r=xS(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}De(e){const t=this.Ve(e),r=xS(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class JO{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class XO{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Gv{constructor(){this.Me=new QO,this.Fe=new JO(this.Me),this.$e=new XO(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class kf{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new kf(this.indexId,this.documentKey,this.arrayValue,r)}}function Nf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=MS(n.arrayValue,e.arrayValue),0!==t?t:(t=MS(n.directionalValue,e.directionalValue),0!==t?t:nt.comparator(n.documentKey,e.documentKey)))}function MS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class eR{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=kg(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Nu(e);let o=0,l=0;for(;o<r.length&&this.Qe(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Ke){const d=r[o];if(!this.je(this.Ke,d)||!this.We(this.Ue[l++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(l>=this.Ue.length||!this.We(this.Ue[l++],d))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class tR{constructor(){this.ze=new QD}addToCollectionParentIndex(e,t){return this.ze.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(Is.min())}updateCollectionGroup(e,t,r){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class QD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Fn(Tn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Fn(Tn.comparator)).toArray()}}const iE=new Uint8Array(0);class nR{constructor(e,t){this.user=e,this.databaseId=t,this.He=new QD,this.Je=new Za(r=>Pc(r),(r,o)=>oa(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const l={collectionId:r,parent:$s(o)};return OS(e).put(l)}return Te.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[_D(t),""],!1,!0);return OS(e).K(o).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Ml(d.parent))}return r})}addFieldIndex(e,t){const r=sE(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete o.indexId;const l=r.add(o);if(t.indexState){const d=qv(e);return l.next(g=>{d.put(TS(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=sE(e),o=qv(e),l=zv(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=zv(e);let o=!0;const l=new Map;return Te.forEach(this.Ye(t),d=>this.Xe(e,d).next(g=>{o&&(o=!!g),l.set(d,g)})).next(()=>{if(o){let d=an();const g=[];return Te.forEach(l,(v,D)=>{var P;Ke("IndexedDbIndexManager",`Using index ${P=v,`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(fn=>`${fn.fieldPath}:${fn.kind}`).join(",")}`} to execute ${Pc(t)}`);const V=function(fn,tn){const mn=kg(tn);if(void 0===mn)return null;for(const Ln of Gd(fn,mn.fieldPath))switch(Ln.op){case"array-contains-any":return Ln.value.arrayValue.values||[];case"array-contains":return[Ln.value]}return null}(D,v),te=function(fn,tn){const mn=new Map;for(const Ln of Nu(tn))for(const Ss of Gd(fn,Ln.fieldPath))switch(Ss.op){case"==":case"in":mn.set(Ln.fieldPath.canonicalString(),Ss.value);break;case"not-in":case"!=":return mn.set(Ln.fieldPath.canonicalString(),Ss.value),Array.from(mn.values())}return null}(D,v),ie=function(fn,tn){const mn=[];let Ln=!0;for(const Ss of Nu(tn)){const d_=0===Ss.kind?Hg(fn,Ss.fieldPath,fn.startAt):Gb(fn,Ss.fieldPath,fn.startAt);mn.push(d_.value),Ln&&(Ln=d_.inclusive)}return new Tl(mn,Ln)}(D,v),Ce=function(fn,tn){const mn=[];let Ln=!0;for(const Ss of Nu(tn)){const d_=0===Ss.kind?Gb(fn,Ss.fieldPath,fn.endAt):Hg(fn,Ss.fieldPath,fn.endAt);mn.push(d_.value),Ln&&(Ln=d_.inclusive)}return new Tl(mn,Ln)}(D,v),We=this.Ze(v,D,ie),ot=this.Ze(v,D,Ce),Tt=this.tn(v,D,te),Yt=this.en(v.indexId,V,We,ie.inclusive,ot,Ce.inclusive,Tt);return Te.forEach(Yt,fn=>r.j(fn,t.limit).next(tn=>{tn.forEach(mn=>{const Ln=nt.fromSegments(mn.documentKey);d.has(Ln)||(d=d.add(Ln),g.push(Ln))})}))}).next(()=>g)}return Te.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,o,l,d,g){const v=(null!=t?t.length:1)*Math.max(r.length,l.length),D=v/(null!=t?t.length:1),P=[];for(let V=0;V<v;++V){const te=t?this.nn(t[V/D]):iE,ie=this.sn(e,te,r[V%D],o),Ce=this.rn(e,te,l[V%D],d),We=g.map(ot=>this.sn(e,te,ot,!0));P.push(...this.createRange(ie,Ce,We))}return P}sn(e,t,r,o){const l=new kf(e,nt.empty(),t,r);return o?l:l.Le()}rn(e,t,r,o){const l=new kf(e,nt.empty(),t,r);return o?l.Le():l}Xe(e,t){const r=new eR(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{let d=null;for(const g of l)r.Ge(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;return Te.forEach(this.Ye(t),o=>this.Xe(e,o).next(l=>{l?0!==r&&l.fields.length<function(d){let g=new Fn(Gr.comparator),v=!1;for(const D of d.filters){const P=D;P.field.isKeyField()||("array-contains"===P.op||"array-contains-any"===P.op?v=!0:g=g.add(P.field))}for(const D of d.orderBy)D.field.isKeyField()||(g=g.add(D.field));return g.size+(v?1:0)}(o)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new Gv;for(const o of Nu(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const d=r.Be(o.kind);Pf.ye.re(l,d)}return r.Oe()}nn(e){const t=new Gv;return Pf.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new Gv;return Pf.ye.re(Dl(this.databaseId,t),r.Be(function(o){const l=Nu(o);return 0===l.length?0:l[l.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let o=[];o.push(new Gv);let l=0;for(const d of Nu(e)){const g=r[l++];for(const v of o)if(this.cn(t,d.fieldPath)&&Cf(g))o=this.an(o,d,g);else{const D=v.Be(d.kind);Pf.ye.re(g,D)}}return this.hn(o)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const o=[...e],l=[];for(const d of r.arrayValue.values||[])for(const g of o){const v=new Gv;v.seed(g.Oe()),Pf.ye.re(d,v.Be(t.kind)),l.push(v)}return l}cn(e,t){return!!e.filters.find(r=>r instanceof ni&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=sE(e),o=qv(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(l=>{const d=[];return Te.forEach(l,g=>o.get([g.indexId,this.uid]).next(v=>{d.push(function(D,P){const V=P?new jd(P.sequenceNumber,new Is(Of(P.readTime),new nt(Ml(P.documentKey)),P.largestBatchId)):jd.empty(),te=D.fields.map(([ie,Ce])=>new wf(Gr.fromServerFormat(ie),Ce));return new vv(D.indexId,D.collectionGroup,te,V)}(g,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:en(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=sE(e),l=qv(e);return this.ln(e).next(d=>o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>Te.forEach(g,v=>l.put(TS(v.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return Te.forEach(t,(o,l)=>{const d=r.get(o.collectionGroup);return(d?Te.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(r.set(o.collectionGroup,g),Te.forEach(g,v=>this.fn(e,o,v).next(D=>{const P=this.dn(l,v);return D.isEqual(P)?Te.resolve():this._n(e,l,v,D,P)}))))})}wn(e,t,r,o){return zv(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,o){return zv(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const o=zv(e);let l=new Fn(Nf);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(d,g)=>{l=l.add(new kf(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>l)}dn(e,t){let r=new Fn(Nf);const o=this.on(t,e);if(null==o)return r;const l=kg(t);if(null!=l){const d=e.data.field(l.fieldPath);if(Cf(d))for(const g of d.arrayValue.values||[])r=r.add(new kf(t.indexId,e.key,this.nn(g),o))}else r=r.add(new kf(t.indexId,e.key,iE,o));return r}_n(e,t,r,o,l){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,v,D,P,V){const te=g.getIterator(),ie=v.getIterator();let Ce=Mc(te),We=Mc(ie);for(;Ce||We;){let ot=!1,Tt=!1;if(Ce&&We){const Yt=D(Ce,We);Yt<0?Tt=!0:Yt>0&&(ot=!0)}else null!=Ce?Tt=!0:ot=!0;ot?(P(We),We=Mc(ie)):Tt?(V(Ce),Ce=Mc(te)):(Ce=Mc(te),We=Mc(ie))}}(o,l,Nf,g=>{d.push(this.wn(e,t,r,g))},g=>{d.push(this.mn(e,t,r,g))}),Te.waitFor(d)}ln(e){let t=1;return qv(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>Nf(d,g)).filter((d,g,v)=>!g||0!==Nf(d,v[g-1]));const o=[];o.push(e);for(const d of r){const g=Nf(d,e),v=Nf(d,t);if(0===g)o[0]=e.Le();else if(g>0&&v<0)o.push(d),o.push(d.Le());else if(v>0)break}o.push(t);const l=[];for(let d=0;d<o.length;d+=2)l.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,iE,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,iE,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(RS)}getMinOffset(e,t){return Te.mapArray(this.Ye(t),r=>this.Xe(e,r).next(o=>o||vt())).next(RS)}}function OS(n){return Hi(n,"collectionParents")}function zv(n){return Hi(n,"indexEntries")}function sE(n){return Hi(n,"indexConfiguration")}function qv(n){return Hi(n,"indexState")}function RS(n){Vt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;Fg(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Is(e.readTime,e.documentKey,t)}const PS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class go{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new go(e,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kS(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let g=0;const v=r.J({range:d},(P,V,te)=>(g++,te.delete()));l.push(v.next(()=>{Vt(1===g)}));const D=[];for(const P of t.mutations){const V=vS(e,P.key.path,t.batchId);l.push(o.delete(V)),D.push(P.key)}return Te.waitFor(l).next(()=>D)}function oE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw vt();e=n.noDocument}return JSON.stringify(e).length}go.DEFAULT_COLLECTION_PERCENTILE=10,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,go.DEFAULT=new go(41943040,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),go.DISABLED=new go(-1,0,0);class aE{constructor(e,t,r,o){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=o,this.gn={}}static se(e,t,r,o){Vt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new aE(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kd(e).J({index:"userMutationsIndex",range:r},(o,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Jg(e),d=Kd(e);return d.add({}).next(g=>{Vt("number"==typeof g);const v=new zD(g,t,r,o),D=function(te,ie,Ce){const We=Ce.baseMutations.map(Tt=>$v(te.ne,Tt)),ot=Ce.mutations.map(Tt=>$v(te.ne,Tt));return{userId:ie,batchId:Ce.batchId,localWriteTimeMs:Ce.localWriteTime.toMillis(),baseMutations:We,mutations:ot}}(this.wt,this.userId,v),P=[];let V=new Fn((te,ie)=>en(te.canonicalString(),ie.canonicalString()));for(const te of o){const ie=vS(this.userId,te.key.path,g);V=V.add(te.key.path.popLast()),P.push(d.put(D)),P.push(l.put(ie,OO))}return V.forEach(te=>{P.push(this.indexManager.addToCollectionParentIndex(e,te))}),e.addOnCommittedListener(()=>{this.gn[g]=v.keys()}),Te.waitFor(P).next(()=>v)})}lookupMutationBatch(e,t){return Kd(e).get(t).next(r=>r?(Vt(r.userId===this.userId),Rf(this.wt,r)):null)}yn(e,t){return this.gn[t]?Te.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.gn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Kd(e).J({index:"userMutationsIndex",range:o},(d,g,v)=>{g.userId===this.userId&&(Vt(g.batchId>=r),l=Rf(this.wt,g)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Kd(e).J({index:"userMutationsIndex",range:t,reverse:!0},(o,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kd(e).K("userMutationsIndex",t).next(r=>r.map(o=>Rf(this.wt,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=tE(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Jg(e).J({range:o},(d,g,v)=>{const[D,P,V]=d,te=Ml(P);if(D===this.userId&&t.path.isEqual(te))return Kd(e).get(V).next(ie=>{if(!ie)throw vt();Vt(ie.userId===this.userId),l.push(Rf(this.wt,ie))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(en);const o=[];return t.forEach(l=>{const d=tE(this.userId,l.path),g=IDBKeyRange.lowerBound(d),v=Jg(e).J({range:g},(D,P,V)=>{const[te,ie,Ce]=D,We=Ml(ie);te===this.userId&&l.path.isEqual(We)?r=r.add(Ce):V.done()});o.push(v)}),Te.waitFor(o).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=tE(this.userId,r),d=IDBKeyRange.lowerBound(l);let g=new Fn(en);return Jg(e).J({range:d},(v,D,P)=>{const[V,te,ie]=v,Ce=Ml(te);V===this.userId&&r.isPrefixOf(Ce)?Ce.length===o&&(g=g.add(ie)):P.done()}).next(()=>this.pn(e,g))}pn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Kd(e).get(l).next(d=>{if(null===d)throw vt();Vt(d.userId===this.userId),r.push(Rf(this.wt,d))}))}),Te.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return kS(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Te.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Te.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Jg(e).J({range:r},(l,d,g)=>{if(l[0]===this.userId){const v=Ml(l[1]);o.push(v)}else g.done()}).next(()=>{Vt(0===o.length)})})}containsKey(e,t){return NS(e,this.userId,t)}Tn(e){return FS(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function NS(n,e,t){const r=tE(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return Jg(n).J({range:l,H:!0},(g,v,D)=>{const[P,V,te]=g;P===e&&V===o&&(d=!0),D.done()}).next(()=>d)}function Kd(n){return Hi(n,"mutations")}function Jg(n){return Hi(n,"documentMutations")}function FS(n){return Hi(n,"mutationQueues")}class Ff{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Ff(0)}static Rn(){return new Ff(-1)}}class rR{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new Ff(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Lt.fromTimestamp(new _r(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Pn(e,o)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Xg(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Vt(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Xg(e).J((d,g)=>{const v=Hv(g);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(o++,l.push(this.removeTargetData(e,v)))}).next(()=>Te.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Xg(e).J((r,o)=>{const l=Hv(o);t(l)})}bn(e){return LS(e).get("targetGlobalKey").next(t=>(Vt(null!==t),t))}Pn(e,t){return LS(e).put("targetGlobalKey",t)}vn(e,t){return Xg(e).put(IS(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Pc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Xg(e).J({range:o,index:"queryTargetsIndex"},(d,g,v)=>{const D=Hv(g);oa(t,D.target)&&(l=D,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Yd(e);return t.forEach(d=>{const g=$s(d.path);o.push(l.put({targetId:r,path:g})),o.push(this.referenceDelegate.addReference(e,r,d))}),Te.waitFor(o)}removeMatchingKeys(e,t,r){const o=Yd(e);return Te.forEach(t,l=>{const d=$s(l.path);return Te.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Yd(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Yd(e);let l=an();return o.J({range:r,H:!0},(d,g,v)=>{const D=Ml(d[1]),P=new nt(D);l=l.add(P)}).next(()=>l)}containsKey(e,t){const r=$s(t.path),o=IDBKeyRange.bound([r],[_D(r)],!1,!0);let l=0;return Yd(e).J({index:"documentTargetsIndex",H:!0,range:o},([d,g],v,D)=>{0!==d&&(l++,D.done())}).next(()=>l>0)}te(e,t){return Xg(e).get(t).next(r=>r?Hv(r):null)}}function Xg(n){return Hi(n,"targets")}function LS(n){return Hi(n,"targetGlobal")}function Yd(n){return Hi(n,"targetDocuments")}function VS([n,e],[t,r]){const o=en(n,t);return 0===o?en(e,r):o}class iR{constructor(e){this.Sn=e,this.buffer=new Fn(VS),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();VS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Re.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Il(r)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Fu(r)}yield t.kn(3e5)}))}}class oR{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Te.resolve(hr.ot);const r=new iR(t);return this.On.forEachTarget(e,o=>r.xn(o.sequenceNumber)).next(()=>this.On.Fn(e,o=>r.xn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(PS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PS):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,o,l,d,g,v,D;const P=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),o=this.params.maximumSequenceNumbersToCollect):o=V,d=Date.now(),this.nthSequenceNumber(e,o))).next(V=>(r=V,g=Date.now(),this.removeTargets(e,r,t))).next(V=>(l=V,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(V=>(D=Date.now(),Bd()<=yl.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-P}ms\n\tDetermined least recently used ${o} in `+(g-d)+`ms\n\tRemoved ${l} targets in `+(v-g)+`ms\n\tRemoved ${V} documents in `+(D-v)+`ms\nTotal Duration: ${D-P}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:V})))}}class aR{constructor(e,t){this.db=e,this.garbageCollector=new oR(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,o)=>t(o))}addReference(e,t,r){return uE(e,r)}removeReference(e,t,r){return uE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return uE(e,t)}Un(e,t){return function(r,o){let l=!1;return FS(r).Y(d=>NS(r,d,o).next(g=>(g&&(l=!0),Te.resolve(!g)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ln(e,(d,g)=>{if(g<=t){const v=this.Un(e,d).next(D=>{if(!D)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Lt.min()),Yd(e).delete([0,$s(d.path)])))});o.push(v)}}).next(()=>Te.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return uE(e,t)}Ln(e,t){const r=Yd(e);let o,l=hr.ot;return r.J({index:"documentTargetsIndex"},([d,g],{path:v,sequenceNumber:D})=>{0===d?(l!==hr.ot&&t(new nt(Ml(o)),l),l=D,o=v):l=hr.ot}).next(()=>{l!==hr.ot&&t(new nt(Ml(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uE(n,e){return Yd(n).put((r=n.currentSequenceNumber,{targetId:0,path:$s(e.path),sequenceNumber:r}));var r}class US{constructor(){this.changes=new Za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uR{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Lf(e).put(r)}removeEntry(e,t,r){return Lf(e).delete(function(o,l){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],nE(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=Jn.newInvalidDocument(t);return Lf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Wv(t))},(o,l)=>{r=this.Kn(t,l)}).next(()=>r)}Gn(e,t){let r={size:0,document:Jn.newInvalidDocument(t)};return Lf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Wv(t))},(o,l)=>{r={document:this.Kn(t,l),size:oE(l)}}).next(()=>r)}getEntries(e,t){let r=ji();return this.Qn(e,t,(o,l)=>{const d=this.Kn(o,l);r=r.insert(o,d)}).next(()=>r)}jn(e,t){let r=ji(),o=new Dr(nt.comparator);return this.Qn(e,t,(l,d)=>{const g=this.Kn(l,d);r=r.insert(l,g),o=o.insert(l,oE(d))}).next(()=>({documents:r,Wn:o}))}Qn(e,t,r){if(t.isEmpty())return Te.resolve();let o=new Fn(HS);t.forEach(v=>o=o.add(v));const l=IDBKeyRange.bound(Wv(o.first()),Wv(o.last())),d=o.getIterator();let g=d.getNext();return Lf(e).J({index:"documentKeyIndex",range:l},(v,D,P)=>{const V=nt.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;g&&HS(g,V)<0;)r(g,null),g=d.getNext();g&&g.isEqual(V)&&(r(g,D),g=d.hasNext()?d.getNext():null),g?P.q(Wv(g)):P.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),nE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lf(e).K(IDBKeyRange.bound(o,l,!0)).next(d=>{let g=ji();for(const v of d){const D=this.Kn(nt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);g=g.insert(D.key,D)}return g})}getAllFromCollectionGroup(e,t,r,o){let l=ji();const d=$S(t,r),g=$S(t,Is.max());return Lf(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(v,D,P)=>{const V=this.Kn(nt.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);l=l.insert(V.key,V),l.size===o&&P.done()}).next(()=>l)}newChangeBuffer(e){return new lR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jS(e).get("remoteDocumentGlobalKey").next(t=>(Vt(!!t),t))}qn(e,t){return jS(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function WO(n,e){let t;if(e.document)t=cS(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=nt.fromSegments(e.noDocument.path),o=Of(e.noDocument.readTime);t=Jn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return vt();{const r=nt.fromSegments(e.unknownDocument.path),o=Of(e.unknownDocument.version);t=Jn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new _r(r[0],r[1]);return Lt.fromTimestamp(o)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(Lt.min()))return r}return Jn.newInvalidDocument(e)}}function BS(n){return new uR(n)}class lR extends US{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Za(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Fn((l,d)=>en(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const g=this.Hn.get(l);if(t.push(this.zn.removeEntry(e,l,g.readTime)),d.isValidDocument()){const v=CS(this.zn.wt,d);o=o.add(l.path.popLast()),r+=oE(v)-g.size,t.push(this.zn.addEntry(e,l,v))}else if(r-=g.size,this.trackRemovals){const v=CS(this.zn.wt,d.convertToNoDocument(Lt.min()));t.push(this.zn.addEntry(e,l,v))}}),o.forEach(l=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.zn.updateMetadata(e,r)),Te.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:o})=>(o.forEach((l,d)=>{this.Hn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function jS(n){return Hi(n,"remoteDocumentGlobal")}function Lf(n){return Hi(n,"remoteDocumentsV14")}function Wv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $S(n,e){const t=e.documentKey.path.toArray();return[n,nE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function HS(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(o=en(t[l],r[l]),o)return o;return o=en(t.length,r.length),o||(o=en(t[t.length-2],r[r.length-2]),o||en(t[t.length-1],r[r.length-1]))}class cR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ZS{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&Ye(r.mutation,o,Ds.empty(),_r.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,an()).next(()=>r))}getLocalViewOfDocuments(e,t,r=an()){const o=Sl();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let d=Nv();return l.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Sl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,an()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,o){let l=ji();const d=Fv(),g=Fv();return t.forEach((v,D)=>{const P=r.get(D.key);o.has(D.key)&&(void 0===P||P.mutation instanceof bt)?l=l.insert(D.key,D):void 0!==P&&(d.set(D.key,P.mutation.getFieldMask()),Ye(P.mutation,D,P.mutation.getFieldMask(),_r.now()))}),this.recalculateAndSaveOverlays(e,l).next(v=>(v.forEach((D,P)=>d.set(D,P)),t.forEach((D,P)=>{var V;return g.set(D,new cR(P,null!==(V=d.get(D))&&void 0!==V?V:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Fv();let o=new Dr((d,g)=>d-g),l=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(v=>{const D=t.get(v);if(null===D)return;let P=r.get(v)||Ds.empty();P=g.applyToLocalView(D,P),r.set(v,P);const V=(o.get(g.batchId)||an()).add(v);o=o.insert(g.batchId,V)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),D=v.key,P=v.value,V=X1();P.forEach(te=>{if(!l.has(te)){const ie=ye(t.get(te),r.get(te));null!==ie&&V.set(te,ie),l=l.add(te)}}),d.push(this.documentOverlayCache.saveOverlays(e,D,V))}return Te.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return nt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Gg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):Te.resolve(Sl());let g=-1,v=l;return d.next(D=>Te.forEach(D,(P,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),l.get(P)?Te.resolve():this.getBaseDocument(e,P,V).next(te=>{v=v.insert(P,te)}))).next(()=>this.populateOverlays(e,D,l)).next(()=>this.computeViews(e,v,D,an())).next(P=>({batchId:g,changes:J1(P)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next(r=>{let o=Nv();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let l=Nv();return this.indexManager.getCollectionParents(e,o).next(d=>Te.forEach(d,g=>{const v=(D=t,P=g.child(o),new Ha(P,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,P;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(D=>{D.forEach((P,V)=>{l=l.insert(P,V)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((g,v)=>{const D=v.getKey();null===o.get(D)&&(o=o.insert(D,Jn.newInvalidDocument(D)))});let d=Nv();return o.forEach((g,v)=>{const D=l.get(g);void 0!==D&&Ye(D.mutation,v,Ds.empty(),_r.now()),Rv(t,v)&&(d=d.insert(g,v))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Te.resolve(Jn.newInvalidDocument(t))}}class dR{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Te.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:$i(r.createTime)}),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:KD(r.bundledQuery),readTime:$i(r.readTime)}),Te.resolve();var r}}class hR{constructor(){this.overlays=new Dr(nt.comparator),this.Xn=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Sl();return Te.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.ie(e,t,l)}),Te.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Xn.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Xn.delete(r)),Te.resolve()}getOverlaysForCollection(e,t,r){const o=Sl(),l=t.length+1,d=new nt(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,D=v.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===l&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Te.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Dr((D,P)=>D-P);const d=this.overlays.getIterator();for(;d.hasNext();){const D=d.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let P=l.get(D.largestBatchId);null===P&&(P=Sl(),l=l.insert(D.largestBatchId,P)),P.set(D.getKey(),D)}}const g=Sl(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((D,P)=>g.set(D,P)),!(g.size()>=o)););return Te.resolve(g)}ie(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.Xn.get(o.largestBatchId).delete(r.key);this.Xn.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new WD(t,r));let l=this.Xn.get(t);void 0===l&&(l=an(),this.Xn.set(t,l)),this.Xn.set(t,l.add(r.key))}}class JD{constructor(){this.Zn=new Fn(Zi.ts),this.es=new Fn(Zi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Zi(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Zi(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new nt(new Tn([])),r=new Zi(t,e),o=new Zi(t,e+1),l=[];return this.es.forEachInRange([r,o],d=>{this.rs(d),l.push(d.key)}),l}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new nt(new Tn([])),r=new Zi(t,e),o=new Zi(t,e+1);let l=an();return this.es.forEachInRange([r,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Zi(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zi{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return nt.comparator(e.key,t.key)||en(e.ls,t.ls)}static ns(e,t){return en(e.ls,t.ls)||nt.comparator(e.key,t.key)}}class fR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Fn(Zi.ts)}checkEmpty(e){return Te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const l=this.fs;this.fs++;const d=new zD(l,t,r,o);this.mutationQueue.push(d);for(const g of o)this.ds=this.ds.add(new Zi(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Te.resolve(d)}lookupMutationBatch(e,t){return Te.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ws(t+1),l=o<0?0:o;return Te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zi(t,0),o=new Zi(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,o],d=>{const g=this._s(d.ls);l.push(g)}),Te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(en);return t.forEach(o=>{const l=new Zi(o,0),d=new Zi(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,d],g=>{r=r.add(g.ls)})}),Te.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;nt.isDocumentKey(l)||(l=l.child(""));const d=new Zi(new nt(l),0);let g=new Fn(en);return this.ds.forEachWhile(v=>{const D=v.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(g=g.add(v.ls)),!0)},d),Te.resolve(this.gs(g))}gs(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Vt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return Te.forEach(t.mutations,o=>{const l=new Zi(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Zi(t,0),o=this.ds.firstAfterOrEqual(r);return Te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Te.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pR{constructor(e){this.ps=e,this.docs=new Dr(nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,d=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Te.resolve(r?r.document.mutableCopy():Jn.newInvalidDocument(t))}getEntries(e,t){let r=ji();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Jn.newInvalidDocument(o))}),Te.resolve(r)}getAllFromCollection(e,t,r){let o=ji();const l=new nt(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:g,value:{document:v}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||Fg(Ng(v),r)<=0||(o=o.insert(v.key,v.mutableCopy()))}return Te.resolve(o)}getAllFromCollectionGroup(e,t,r,o){vt()}Is(e,t){return Te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gR(this)}getSize(e){return Te.resolve(this.size)}}class gR extends US{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.zn.addEntry(e,o)):this.zn.removeEntry(r)}),Te.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class mR{constructor(e){this.persistence=e,this.Ts=new Za(t=>Pc(t),oa),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Es=0,this.As=new JD,this.targetCount=0,this.Rs=Ff.An()}forEachTarget(e,t){return this.Ts.forEach((r,o)=>t(o)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),Te.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Ff(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.vn(t),Te.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Ts.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Ts.delete(d),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Te.waitFor(l).next(()=>o)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return Te.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Te.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),Te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Te.resolve(r)}containsKey(e,t){return Te.resolve(this.As.containsKey(t))}}class GS{constructor(e,t){this.bs={},this.overlays={},this.Ps=new hr(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new mR(this),this.indexManager=new tR,this.remoteDocumentCache=new pR(r=>this.referenceDelegate.Ss(r)),this.wt=new ES(t),this.Ds=new dR(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new fR(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Ke("MemoryPersistence","Starting transaction:",e);const o=new yR(this.Ps.next());return this.referenceDelegate.Cs(),r(o).next(l=>this.referenceDelegate.xs(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ns(e,t){return Te.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class yR extends bD{constructor(e){super(),this.currentSequenceNumber=e}}class lE{constructor(e){this.persistence=e,this.ks=new JD,this.Os=null}static Ms(e){return new lE(e)}get Fs(){if(this.Os)return this.Os;throw vt()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),Te.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Te.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(o=>this.Fs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.Fs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Fs,r=>{const o=nt.fromPath(r);return this.$s(e,o).next(l=>{l||t.removeEntry(o,Lt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Te.or([()=>Te.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class vR{constructor(e){this.wt=e}O(e,t,r,o){const l=new Lg("createOrUpgrade",t);var g;r<1&&o>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yS,{unique:!0}),g.createObjectStore("documentMutations"),zS(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=Te.resolve();return r<3&&o>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),zS(e)),d=d.next(()=>function(g){const v=g.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",D)}(l))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(g,v){return v.store("mutations").K().next(D=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yS,{unique:!0});const P=v.store("mutations"),V=D.map(te=>P.put(te));return Te.waitFor(V)})}(e,l))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Bs(l))),r<6&&o>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(l)))),r<7&&o>=7&&(d=d.next(()=>this.Us(l))),r<8&&o>=8&&(d=d.next(()=>this.qs(e,l))),r<9&&o>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.Ks(l))),r<11&&o>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(g){const v=g.createObjectStore("documentOverlays",{keyPath:HO});v.createIndex("collectionPathOverlayIndex",ZO,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",GO,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(g){const v=g.createObjectStore("remoteDocumentsV14",{keyPath:RO});v.createIndex("documentKeyIndex",PO),v.createIndex("collectionGroupIndex",kO)}(e)).next(()=>this.Gs(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.Qs(e,l))),r<15&&o>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:UO}).createIndex("sequenceNumberIndex",BO,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:jO}).createIndex("documentKeyIndex",$O,{unique:!1})}(e))),d}Ls(e){let t=0;return e.store("remoteDocuments").J((r,o)=>{t+=oE(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(o=>Te.forEach(o,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",d).next(g=>Te.forEach(g,v=>{Vt(v.userId===l.userId);const D=Rf(this.wt,v);return kS(e,l.userId,D).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.J((d,g)=>{const v=new Tn(d),D=[0,$s(v)];l.push(t.get(D).next(P=>P?Te.resolve():t.put({targetId:0,path:$s(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Te.waitFor(l))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:VO});const r=t.store("collectionParents"),o=new QD,l=d=>{if(o.add(d)){const g=d.lastSegment(),v=d.popLast();return r.put({collectionId:g,parent:$s(v)})}};return t.store("remoteDocuments").J({H:!0},(d,g)=>{const v=new Tn(d);return l(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([d,g,v],D)=>{const P=Ml(g);return l(P.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,o)=>{const l=Hv(o),d=IS(this.wt,l);return t.put(d)})}Gs(e,t){const r=t.store("remoteDocuments"),o=[];return r.J((l,d)=>{const g=t.store("remoteDocumentsV14"),v=(D=d,D.document?new nt(Tn.fromString(D.document.name).popFirst(5)):D.noDocument?nt.fromSegments(D.noDocument.path):D.unknownDocument?nt.fromSegments(D.unknownDocument.path):vt()).path.toArray();var D;const P={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(g.put(P))}).next(()=>Te.waitFor(o))}Qs(e,t){const r=t.store("mutations"),o=BS(this.wt),l=new GS(lE.Ms,this.wt.ne);return r.K().next(d=>{const g=new Map;return d.forEach(v=>{var D;let P=null!==(D=g.get(v.userId))&&void 0!==D?D:an();Rf(this.wt,v).keys().forEach(V=>P=P.add(V)),g.set(v.userId,P)}),Te.forEach(g,(v,D)=>{const P=new Xr(D),V=rE.se(this.wt,P),te=l.getIndexManager(P),ie=aE.se(P,this.wt,te,l.referenceDelegate);return new ZS(o,ie,V,te).recalculateAndSaveOverlaysForDocumentKeys(new GD(t,hr.ot),v).next()})})}}function zS(n){n.createObjectStore("targetDocuments",{keyPath:FO}).createIndex("documentTargetsIndex",LO,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",NO,{unique:!0}),n.createObjectStore("targetGlobal")}const XD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eT{constructor(e,t,r,o,l,d,g,v,D,P,V=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=l,this.window=d,this.document=g,this.Ws=D,this.zs=P,this.Hs=V,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=te=>Promise.resolve(),!eT.V())throw new qe(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aR(this,o),this.ei=t+"main",this.wt=new ES(v),this.ni=new Ba(this.ei,this.Hs,new vR(this.wt)),this.Vs=new rR(this.referenceDelegate,this.wt),this.remoteDocumentCache=BS(this.wt),this.Ds=new KO,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===P&&Ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qe(xe.FAILED_PRECONDITION,XD);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new hr(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,Re.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Re.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Re.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Il(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Kv(e).get("owner").next(t=>Te.resolve(this.di(t)))}_i(e){return cE(e).delete(this.clientId)}wi(){var e=this;return(0,Re.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Hi(r,"clientMetadata");return o.K().next(l=>{const d=e.gi(l,18e5),g=l.filter(v=>-1===d.indexOf(v));return Te.forEach(g,v=>o.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Te.resolve(!0):Kv(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new qe(xe.FAILED_PRECONDITION,XD);return!1}}return!(!this.networkEnabled||!this.inForeground)||cE(e).K().next(r=>void 0===this.gi(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Re.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new GD(t,hr.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>cE(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return aE.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new nR(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return rE.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){Ke("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=15===(d=this.Hs)?qO:14===d?bS:13===d?wS:12===d?zO:11===d?_S:void vt();var d;let g;return this.ni.runTransaction(e,o,l,v=>(g=new GD(v,this.Ps?this.Ps.next():hr.ot),"readwrite-primary"===t?this.ai(g).next(D=>!!D||this.hi(g)).next(D=>{if(!D)throw Ir(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new qe(xe.FAILED_PRECONDITION,_v);return r(g)}).next(D=>this.fi(g).next(()=>D)):this.bi(g).next(()=>r(g)))).then(v=>(g.raiseOnCommittedEvent(),v))}bi(e){return Kv(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new qe(xe.FAILED_PRECONDITION,XD)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kv(e).put("owner",t)}static V(){return Ba.V()}li(e){const t=Kv(e);return t.get("owner").next(r=>this.di(r)?(Ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Te.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ir(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,un.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ir("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Ir("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kv(n){return Hi(n,"owner")}function cE(n){return Hi(n,"clientMetadata")}function tT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nT{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=o}static Vi(e,t){let r=an(),o=an();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new nT(e,t.fromCache,r,o)}}class qS{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ci(e,t).next(l=>l||this.xi(e,t,o,r)).next(l=>l||this.Ni(e,t))}Ci(e,t){return Te.resolve(null)}xi(e,t,r,o){return function Wb(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||o.isEqual(Lt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(l=>{const d=this.ki(t,l);return this.Oi(t,d,r,o)?this.Ni(e,t):(Bd()<=yl.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qb(t)),this.Mi(e,d,t,wD(o,-1)))})}ki(e,t){let r=new Fn(LD(e));return t.forEach((o,l)=>{Rv(e,l)&&(r=r.add(l))}),r}Oi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ni(e,t){return Bd()<=yl.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Qb(t)),this.Di.getDocumentsMatchingQuery(e,t,Is.min())}Mi(e,t,r,o){return this.Di.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class _R{constructor(e,t,r,o){this.persistence=e,this.Fi=t,this.wt=o,this.$i=new Dr(en),this.Bi=new Za(l=>Pc(l),oa),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZS(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function WS(n,e,t,r){return new _R(n,e,t,r)}function KS(n,e){return rT.apply(this,arguments)}function rT(){return rT=(0,Re.Z)(function*(n,e){const t=ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],g=[];let v=an();for(const D of o){d.push(D.batchId);for(const P of D.mutations)v=v.add(P.key)}for(const D of l){g.push(D.batchId);for(const P of D.mutations)v=v.add(P.key)}return t.localDocuments.getDocuments(r,v).next(D=>({Ki:D,removedBatchIds:d,addedBatchIds:g}))})})}),rT.apply(this,arguments)}function wR(n,e){const t=ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Ui.newChangeBuffer({trackRemovals:!0});return function(d,g,v,D){const P=v.batch,V=P.keys();let te=Te.resolve();return V.forEach(ie=>{te=te.next(()=>D.getEntry(g,ie)).next(Ce=>{const We=v.docVersions.get(ie);Vt(null!==We),Ce.version.compareTo(We)<0&&(P.applyToRemoteDocument(Ce,v),Ce.isValidDocument()&&(Ce.setReadTime(v.commitVersion),D.addEntry(Ce)))})}),te.next(()=>d.mutationQueue.removeMutationBatch(g,P))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=an();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(g=g.add(d.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function YS(n){const e=ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function bR(n,e){const t=ut(n),r=e.snapshotVersion;let o=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Ui.newChangeBuffer({trackRemovals:!0});o=t.$i;const g=[];e.targetChanges.forEach((P,V)=>{const te=o.get(V);if(!te)return;g.push(t.Vs.removeMatchingKeys(l,P.removedDocuments,V).next(()=>t.Vs.addMatchingKeys(l,P.addedDocuments,V)));let ie=te.withSequenceNumber(l.currentSequenceNumber);var Ce,We,ot;e.targetMismatches.has(V)?ie=ie.withResumeToken(ti.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):P.resumeToken.approximateByteSize()>0&&(ie=ie.withResumeToken(P.resumeToken,r)),o=o.insert(V,ie),We=ie,ot=P,(0===(Ce=te).resumeToken.approximateByteSize()||We.snapshotVersion.toMicroseconds()-Ce.snapshotVersion.toMicroseconds()>=3e8||ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0)&&g.push(t.Vs.updateTargetData(l,ie))});let v=ji(),D=an();if(e.documentUpdates.forEach(P=>{e.resolvedLimboDocuments.has(P)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,P))}),g.push(QS(l,d,e.documentUpdates).next(P=>{v=P.Gi,D=P.Qi})),!r.isEqual(Lt.min())){const P=t.Vs.getLastRemoteSnapshotVersion(l).next(V=>t.Vs.setTargetsMetadata(l,l.currentSequenceNumber,r));g.push(P)}return Te.waitFor(g).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,v,D)).next(()=>v)}).then(l=>(t.$i=o,l))}function QS(n,e,t){let r=an(),o=an();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=ji();return t.forEach((g,v)=>{const D=l.get(g);v.isFoundDocument()!==D.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Lt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!D.isValidDocument()||v.version.compareTo(D.version)>0||0===v.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):Ke("LocalStore","Ignoring outdated watch update for ",g,". Current version:",D.version," Watch version:",v.version)}),{Gi:d,Qi:o}})}function ER(n,e){const t=ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function em(n,e){const t=ut(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Vs.getTargetData(r,e).next(l=>l?(o=l,Te.resolve(o)):t.Vs.allocateTargetId(r).next(d=>(o=new Wd(e,d,0,r.currentSequenceNumber),t.Vs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.$i.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function tm(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=(0,Re.Z)(function*(n,e,t){const r=ut(n),o=r.$i.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Il(d))throw d;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.$i=r.$i.remove(e),r.Bi.delete(o.target)}),iT.apply(this,arguments)}function dE(n,e,t){const r=ut(n);let o=Lt.min(),l=an();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,v,D){const P=ut(g),V=P.Bi.get(D);return void 0!==V?Te.resolve(P.$i.get(V)):P.Vs.getTargetData(v,D)}(r,d,fo(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(d,g.targetId).next(v=>{l=v})}).next(()=>r.Fi.getDocumentsMatchingQuery(d,e,t?o:Lt.min(),t?l:an())).next(g=>(ex(r,Jb(e),g),{documents:g,ji:l})))}function JS(n,e){const t=ut(n),r=ut(t.Vs),o=t.$i.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.te(l,e).next(d=>d?d.target:null))}function XS(n,e){const t=ut(n),r=t.Li.get(e)||Lt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Ui.getAllFromCollectionGroup(o,e,wD(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(ex(t,e,o),o))}function ex(n,e,t){let r=Lt.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Li.set(e,r)}function sT(){return sT=(0,Re.Z)(function*(n,e,t,r){const o=ut(n);let l=an(),d=ji();for(const D of t){const P=e.Wi(D.metadata.name);D.document&&(l=l.add(P));const V=e.zi(D);V.setReadTime(e.Hi(D.metadata.readTime)),d=d.insert(P,V)}const g=o.Ui.newChangeBuffer({trackRemovals:!0}),v=yield em(o,(D=r,fo(qd(Tn.fromString(`__bundle__/docs/${D}`)))));var D;return o.persistence.runTransaction("Apply bundle documents","readwrite",D=>QS(D,g,d).next(P=>(g.apply(D),P)).next(P=>o.Vs.removeMatchingKeysForTargetId(D,v.targetId).next(()=>o.Vs.addMatchingKeys(D,l,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(D,P.Gi,P.Qi)).next(()=>P.Gi)))}),sT.apply(this,arguments)}function IR(n,e){return oT.apply(this,arguments)}function oT(){return oT=(0,Re.Z)(function*(n,e,t=an()){const r=yield em(n,fo(KD(e.bundledQuery))),o=ut(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const d=$i(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ds.saveNamedQuery(l,e);const g=r.withResumeToken(ti.EMPTY_BYTE_STRING,d);return o.$i=o.$i.insert(g.targetId,g),o.Vs.updateTargetData(l,g).next(()=>o.Vs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.Vs.addMatchingKeys(l,t,r.targetId)).next(()=>o.Ds.saveNamedQuery(l,e))})}),oT.apply(this,arguments)}function tx(n,e){return`firestore_clients_${n}_${e}`}function nx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function aT(n,e){return`firestore_targets_${n}_${e}`}class hE{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let l,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new qe(o.error.code,o.error.message))),d?new hE(e,t,o.state,l):(Ir("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new qe(r.error.code,r.error.message))),l?new Yv(e,r.state,o):(Ir("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=Xb();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=Tv(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return o?new fE(e,l):(Ir("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class uT{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new uT(t.clientId,t.onlineState):(Ir("SharedClientState",`Failed to parse online state: ${e}`),null)}}class lT{constructor(){this.activeTargetIds=Xb()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cT{constructor(e,t,r,o,l){this.window=e,this.js=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Dr(en),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=tx(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new lT),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Re.Z)(function*(){const t=yield e.syncEngine.Ri();for(const o of t){if(o===e.tr)continue;const l=e.getItem(tx(e.persistenceKey,o));if(l){const d=fE.Ji(o,l);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(aT(this.persistenceKey,e));if(r){const o=Yv.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(aT(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke("SharedClientState","READ",e,t),t}setItem(e,t){Ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Re.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(l){let d=hr.ot;if(null!=l)try{const g=JSON.parse(l);Vt("number"==typeof g),d=g}catch(g){Ir("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);o!==hr.ot&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new hE(this.currentUser,e,t,r),l=nx(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Yi())}pr(e){const t=nx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=aT(this.persistenceKey,e),l=new Yv(e,t,r);this.setItem(o,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return fE.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),o=Number(r[1]);return hE.Ji(new Xr(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Yv.Ji(o,t)}wr(e){return uT.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Re.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),l=this.gr(r),d=[],g=[];return l.forEach(v=>{o.has(v)||d.push(v)}),o.forEach(v=>{l.has(v)||g.push(v)}),this.syncEngine.Mr(d,g).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Xb();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class rx{constructor(){this.Fr=new lT,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new lT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DR{Br(e){}shutdown(){}}class ix{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const TR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class AR{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class SR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,l){const d=this.oo(e,t);Ke("RestConnection","Sending: ",d,r);const g={};return this.uo(g,o,l),this.co(e,d,g,r).then(v=>(Ke("RestConnection","Received: ",v),v),v=>{throw Sc("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}ao(e,t,r,o,l){return this.ro(e,t,r,o,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ud,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}oo(e,t){return`${this.so}/v1/${t}:${TR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((l,d)=>{const g=new mv;g.listenOnce(fD.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case fv.NO_ERROR:const D=g.getResponseJson();Ke("Connection","XHR received:",JSON.stringify(D)),l(D);break;case fv.TIMEOUT:Ke("Connection",'RPC "'+e+'" timed out'),d(new qe(xe.DEADLINE_EXCEEDED,"Request time out"));break;case fv.HTTP_ERROR:const P=g.getStatus();if(Ke("Connection",'RPC "'+e+'" failed with status:',P,"response text:",g.getResponseText()),P>0){const V=g.getResponseJson().error;if(V&&V.status&&V.message){const te=function(ie){const Ce=ie.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(Ce)>=0?Ce:xe.UNKNOWN}(V.status);d(new qe(te,V.message))}else d(new qe(xe.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new qe(xe.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{Ke("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(o);g.send(t,"POST",v,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=hD(),d=xb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new Mb({})),this.uo(g.initMessageHeaders,t,r),(0,un.uI)()||(0,un.b$)()||(0,un.d)()||(0,un.w1)()||(0,un.Mn)()||(0,un.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");Ke("Connection","Creating WebChannel: "+v,g);const D=l.createWebChannel(v,g);let P=!1,V=!1;const te=new AR({jr:Ce=>{V?Ke("Connection","Not sending because WebChannel is closed:",Ce):(P||(Ke("Connection","Opening WebChannel transport."),D.open(),P=!0),Ke("Connection","WebChannel sending:",Ce),D.send(Ce))},Wr:()=>D.close()}),ie=(Ce,We,ot)=>{Ce.listen(We,Tt=>{try{ot(Tt)}catch(Yt){setTimeout(()=>{throw Yt},0)}})};return ie(D,Ac.EventType.OPEN,()=>{V||Ke("Connection","WebChannel transport opened.")}),ie(D,Ac.EventType.CLOSE,()=>{V||(V=!0,Ke("Connection","WebChannel transport closed"),te.eo())}),ie(D,Ac.EventType.ERROR,Ce=>{V||(V=!0,Sc("Connection","WebChannel transport errored:",Ce),te.eo(new qe(xe.UNAVAILABLE,"The operation could not be completed")))}),ie(D,Ac.EventType.MESSAGE,Ce=>{var We;if(!V){const ot=Ce.data[0];Vt(!!ot);const Tt=ot,Yt=Tt.error||(null===(We=Tt[0])||void 0===We?void 0:We.error);if(Yt){Ke("Connection","WebChannel received error:",Yt);const fn=Yt.status;let tn=function(Ln){const Ss=Ar[Ln];if(void 0!==Ss)return Kg(Ss)}(fn),mn=Yt.message;void 0===tn&&(tn=xe.INTERNAL,mn="Unknown error status: "+fn+" with message "+Yt.message),V=!0,te.eo(new qe(tn,mn)),D.close()}else Ke("Connection","WebChannel received:",ot),te.no(ot)}}),ie(d,pv.STAT_EVENT,Ce=>{Ce.stat===gv.PROXY?Ke("Connection","Detected buffering proxy"):Ce.stat===gv.NOPROXY&&Ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{te.Zr()},0),te}}function sx(){return"undefined"!=typeof window?window:null}function pE(){return"undefined"!=typeof document?document:null}function Qv(n){return new _O(n,!0)}class dT{constructor(e,t,r=1e3,o=1.5,l=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=o,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class ox{constructor(e,t,r,o,l,d,g,v){this.js=e,this.Ao=r,this.Ro=o,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new dT(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Re.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Re.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,Re.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===xe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new qe(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,Re.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xR extends ox{constructor(e,t,r,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.wt=l}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function EO(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:vt(),o=e.targetChange.targetIds||[],l=function(v,D){return v.dt?(Vt(void 0===D||"string"==typeof D),ti.fromBase64String(D||"")):(Vt(void 0===D||D instanceof Uint8Array),ti.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const D=void 0===v.code?xe.UNKNOWN:Kg(v.code);return new qe(D,v.message||"")}(d);t=new tS(r,o,l,g||null)}else if("documentChange"in e){const r=e.documentChange,o=xl(n,r.document.name),l=$i(r.document.updateTime),d=new Bi({mapValue:{fields:r.document.fields}}),g=Jn.newFoundDocument(o,l,d);t=new eE(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,o=xl(n,r.document),l=r.readTime?$i(r.readTime):Lt.min(),d=Jn.newNoDocument(o,l);t=new eE([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=xl(n,r.document);t=new eE([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return vt();{const r=e.filter,l=new Pv(r.count||0);t=new eS(r.targetId,l)}}var v;return t}(this.wt,e),r=function(o){if(!("targetChange"in o))return Lt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Lt.min():l.readTime?$i(l.readTime):Lt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=jv(this.wt),t.addTarget=function(o,l){let d;const g=l.target;return d=Tf(g)?{documents:dS(o,g)}:{query:hS(o,g)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=sS(o,l.resumeToken):l.snapshotVersion.compareTo(Lt.min())>0&&(d.readTime=Uv(o,l.snapshotVersion.toTimestamp())),d}(this.wt,e);const r=function IO(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=jv(this.wt),t.removeTarget=e,this.Mo(t)}}class MR extends ox{constructor(e,t,r,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.wt=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function CO(n,e){return n&&n.length>0?(Vt(void 0!==e),n.map(t=>function(r,o){let l=$i(r.updateTime?r.updateTime:o);return l.isEqual(Lt.min())&&(l=$i(o)),new x(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.Jo(r,t)}return Vt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=jv(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>$v(this.wt,r))};this.Mo(t)}}class OR extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=o,this.Zo=!1}tu(){if(this.Zo)throw new qe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ro(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(xe.UNKNOWN,o.toString())})}ao(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ao(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(xe.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class RR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ir(t),this.su=!1):Ke("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class PR{constructor(e,t,r,o,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(g=>{r.enqueueAndForget((0,Re.Z)(function*(){var v;Qd(d)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Re.Z)(function*(D){const P=ut(D);P.lu.add(4),yield nm(P),P._u.set("Unknown"),P.lu.delete(4),yield Jv(P)}),function(D){return v.apply(this,arguments)})(d))}))}),this._u=new RR(r,o)}}function Jv(n){return hT.apply(this,arguments)}function hT(){return hT=(0,Re.Z)(function*(n){if(Qd(n))for(const e of n.fu)yield e(!0)}),hT.apply(this,arguments)}function nm(n){return fT.apply(this,arguments)}function fT(){return fT=(0,Re.Z)(function*(n){for(const e of n.fu)yield e(!1)}),fT.apply(this,arguments)}function gE(n,e){const t=ut(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),mT(t)?gT(t):im(t).Co()&&pT(t,e))}function Xv(n,e){const t=ut(n),r=im(t);t.hu.delete(e),r.Co()&&ax(t,e),0===t.hu.size&&(r.Co()?r.ko():Qd(t)&&t._u.set("Unknown"))}function pT(n,e){n.wu.Nt(e.targetId),im(n).Qo(e)}function ax(n,e){n.wu.Nt(e),im(n).jo(e)}function gT(n){n.wu=new mO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),im(n).start(),n._u.iu()}function mT(n){return Qd(n)&&!im(n).Do()&&n.hu.size>0}function Qd(n){return 0===ut(n).lu.size}function ux(n){n.wu=void 0}function kR(n){return yT.apply(this,arguments)}function yT(){return yT=(0,Re.Z)(function*(n){n.hu.forEach((e,t)=>{pT(n,e)})}),yT.apply(this,arguments)}function NR(n,e){return vT.apply(this,arguments)}function vT(){return vT=(0,Re.Z)(function*(n,e){ux(n),mT(n)?(n._u.uu(e),gT(n)):n._u.set("Unknown")}),vT.apply(this,arguments)}function FR(n,e,t){return _T.apply(this,arguments)}function _T(){return _T=(0,Re.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof tS&&2===e.state&&e.cause)try{yield(r=(0,Re.Z)(function*(o,l){const d=l.cause;for(const g of l.targetIds)o.hu.has(g)&&(yield o.remoteSyncer.rejectListen(g,d),o.hu.delete(g),o.wu.removeTarget(g))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mE(n,r)}else if(e instanceof eE?n.wu.Ut(e):e instanceof eS?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Lt.min()))try{const r=yield YS(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const d=o.wu.Yt(l);return d.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const D=o.hu.get(v);D&&o.hu.set(v,D.withResumeToken(g.resumeToken,l))}}),d.targetMismatches.forEach(g=>{const v=o.hu.get(g);if(!v)return;o.hu.set(g,v.withResumeToken(ti.EMPTY_BYTE_STRING,v.snapshotVersion)),ax(o,g);const D=new Wd(v.target,g,1,v.sequenceNumber);pT(o,D)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),yield mE(n,r)}var r}),_T.apply(this,arguments)}function mE(n,e,t){return wT.apply(this,arguments)}function wT(){return wT=(0,Re.Z)(function*(n,e,t){if(!Il(e))throw e;n.lu.add(1),yield nm(n),n._u.set("Offline"),t||(t=()=>YS(n.localStore)),n.asyncQueue.enqueueRetryable((0,Re.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Jv(n)}))}),wT.apply(this,arguments)}function lx(n,e){return e().catch(t=>mE(n,t,e))}function rm(n){return bT.apply(this,arguments)}function bT(){return bT=(0,Re.Z)(function*(n){const e=ut(n),t=Jd(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;LR(e);)try{const o=yield ER(e.localStore,r);if(null===o){0===e.au.length&&t.ko();break}r=o.batchId,VR(e,o)}catch(o){yield mE(e,o)}cx(e)&&dx(e)}),bT.apply(this,arguments)}function LR(n){return Qd(n)&&n.au.length<10}function VR(n,e){n.au.push(e);const t=Jd(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function cx(n){return Qd(n)&&!Jd(n).Do()&&n.au.length>0}function dx(n){Jd(n).start()}function UR(n){return ET.apply(this,arguments)}function ET(){return ET=(0,Re.Z)(function*(n){Jd(n).Xo()}),ET.apply(this,arguments)}function BR(n){return CT.apply(this,arguments)}function CT(){return CT=(0,Re.Z)(function*(n){const e=Jd(n);for(const t of n.au)e.Ho(t.mutations)}),CT.apply(this,arguments)}function jR(n,e,t){return IT.apply(this,arguments)}function IT(){return IT=(0,Re.Z)(function*(n,e,t){const r=n.au.shift(),o=qD.from(r,e,t);yield lx(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield rm(n)}),IT.apply(this,arguments)}function $R(n,e){return DT.apply(this,arguments)}function DT(){return DT=(0,Re.Z)(function*(n,e){var t;e&&Jd(n).zo&&(yield(t=(0,Re.Z)(function*(r,o){if(Wg(l=o.code)&&l!==xe.ABORTED){const d=r.au.shift();Jd(r).No(),yield lx(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield rm(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),cx(n)&&dx(n)}),DT.apply(this,arguments)}function hx(n,e){return TT.apply(this,arguments)}function TT(){return TT=(0,Re.Z)(function*(n,e){const t=ut(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=Qd(t);t.lu.add(3),yield nm(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Jv(t)}),TT.apply(this,arguments)}function AT(n,e){return ST.apply(this,arguments)}function ST(){return ST=(0,Re.Z)(function*(n,e){const t=ut(n);e?(t.lu.delete(2),yield Jv(t)):e||(t.lu.add(2),yield nm(t),t._u.set("Unknown"))}),ST.apply(this,arguments)}function im(n){return n.mu||(n.mu=function(e,t,r){const o=ut(e);return o.tu(),new xR(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:kR.bind(null,n),Jr:NR.bind(null,n),Go:FR.bind(null,n)}),n.fu.push(function(){var e=(0,Re.Z)(function*(t){t?(n.mu.No(),mT(n)?gT(n):n._u.set("Unknown")):(yield n.mu.stop(),ux(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Jd(n){return n.gu||(n.gu=function(e,t,r){const o=ut(e);return o.tu(),new MR(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:UR.bind(null,n),Jr:$R.bind(null,n),Yo:BR.bind(null,n),Jo:jR.bind(null,n)}),n.fu.push(function(){var e=(0,Re.Z)(function*(t){t?(n.gu.No(),yield rm(n)):(yield n.gu.stop(),n.au.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class xT{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,l){const d=Date.now()+r,g=new xT(e,t,d,o,l);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qe(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(n,e){if(Ir("AsyncQueue",`${e}: ${n}`),Il(n))return new qe(xe.UNAVAILABLE,`${e}: ${n}`);throw n}class om{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=Nv(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new om(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof om)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new om;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class fx{constructor(){this.yu=new Dr(nt.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):vt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class am{constructor(e,t,r,o,l,d,g,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new am(e,t,om.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class HR{constructor(){this.Iu=void 0,this.listeners=[]}}class ZR{constructor(){this.queries=new Za(e=>FD(e),zg),this.onlineState="Unknown",this.Tu=new Set}}function MT(n,e){return OT.apply(this,arguments)}function OT(){return OT=(0,Re.Z)(function*(n,e){const t=ut(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new HR),o)try{l.Iu=yield t.onListen(r)}catch(d){const g=sm(d,`Initialization of query '${Qb(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&kT(t)}),OT.apply(this,arguments)}function RT(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,Re.Z)(function*(n,e){const t=ut(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),PT.apply(this,arguments)}function GR(n,e){const t=ut(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const g of d.listeners)g.Au(o)&&(r=!0);d.Iu=o}}r&&kT(t)}function zR(n,e,t){const r=ut(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function kT(n){n.Tu.forEach(e=>{e.next()})}class NT{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new am(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=am.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class qR{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class px{constructor(e){this.wt=e}Wi(e){return xl(this.wt,e)}zi(e){return e.metadata.exists?cS(this.wt,e.document,!1):Jn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return $i(e)}}class WR{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gx(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Tn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new px(this.wt);for(const o of e)if(o.metadata.queries){const l=r.Wi(o.metadata.name);for(const d of o.metadata.queries){const g=(t.get(d)||an()).add(l);t.set(d,g)}}return t}complete(){var e=this;return(0,Re.Z)(function*(){const t=yield function CR(n,e,t,r){return sT.apply(this,arguments)}(e.localStore,new px(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield IR(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function gx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class mx{constructor(e){this.key=e}}class yx{constructor(e){this.key=e}}class vx{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=an(),this.mutatedKeys=an(),this.Lu=LD(e),this.Uu=new om(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new fx,o=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,D="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((P,V)=>{const te=o.get(P),ie=Rv(this.query,V)?V:null,Ce=!!te&&this.mutatedKeys.has(te.key),We=!!ie&&(ie.hasLocalMutations||this.mutatedKeys.has(ie.key)&&ie.hasCommittedMutations);let ot=!1;te&&ie?te.data.isEqual(ie.data)?Ce!==We&&(r.track({type:3,doc:ie}),ot=!0):this.Qu(te,ie)||(r.track({type:2,doc:ie}),ot=!0,(v&&this.Lu(ie,v)>0||D&&this.Lu(ie,D)<0)&&(g=!0)):!te&&ie?(r.track({type:0,doc:ie}),ot=!0):te&&!ie&&(r.track({type:1,doc:te}),ot=!0,(v||D)&&(g=!0)),ot&&(ie?(d=d.add(ie),l=We?l.add(P):l.delete(P)):(d=d.delete(P),l=l.delete(P)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const P="F"===this.query.limitType?d.last():d.first();d=d.delete(P.key),l=l.delete(P.key),r.track({type:1,doc:P})}return{Uu:d,Gu:r,Oi:g,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Gu.pu();l.sort((D,P)=>function(V,te){const ie=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return ie(V)-ie(te)}(D.type,P.type)||this.Lu(D.doc,P.doc)),this.ju(r);const d=t?this.Wu():[],g=0===this.Bu.size&&this.current?1:0,v=g!==this.$u;return this.$u=g,0!==l.length||v?{snapshot:new am(this.query,e.Uu,o,l,e.mutatedKeys,0===g,v,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new fx,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=an(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new yx(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new mx(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=an();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return am.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class KR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class YR{constructor(e){this.key=e,this.Xu=!1}}class QR{constructor(e,t,r,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Zu={},this.tc=new Za(g=>FD(g),zg),this.ec=new Map,this.nc=new Set,this.sc=new Dr(nt.comparator),this.ic=new Map,this.rc=new JD,this.oc={},this.uc=new Map,this.cc=Ff.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function JR(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,Re.Z)(function*(n,e){const t=sA(n);let r,o;const l=t.tc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Yu();else{const d=yield em(t.localStore,fo(e));t.isPrimaryClient&&gE(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield LT(t,e,r,"current"===g)}return o}),FT.apply(this,arguments)}function LT(n,e,t,r){return VT.apply(this,arguments)}function VT(){return VT=(0,Re.Z)(function*(n,e,t,r){n.hc=(P,V,te)=>{return(ie=(0,Re.Z)(function*(Ce,We,ot,Tt){let Yt=We.view.Ku(ot);Yt.Oi&&(Yt=yield dE(Ce.localStore,We.query,!1).then(({documents:mn})=>We.view.Ku(mn,Yt)));const fn=Tt&&Tt.targetChanges.get(We.targetId),tn=We.view.applyChanges(Yt,Ce.isPrimaryClient,fn);return WT(Ce,We.targetId,tn.zu),tn.snapshot}),function(Ce,We,ot,Tt){return ie.apply(this,arguments)})(n,P,V,te);var ie};const o=yield dE(n.localStore,e,!0),l=new vx(e,o.ji),d=l.Ku(o.documents),g=Vv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(d,n.isPrimaryClient,g);WT(n,t,v.zu);const D=new KR(e,t,l);return n.tc.set(e,D),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),v.snapshot}),VT.apply(this,arguments)}function XR(n,e){return UT.apply(this,arguments)}function UT(){return UT=(0,Re.Z)(function*(n,e){const t=ut(n),r=t.tc.get(e),o=t.ec.get(r.targetId);if(o.length>1)return t.ec.set(r.targetId,o.filter(l=>!zg(l,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield tm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Xv(t.remoteStore,r.targetId),um(t,r.targetId)}).catch(Fu))):(um(t,r.targetId),yield tm(t.localStore,r.targetId,!0))}),UT.apply(this,arguments)}function BT(){return BT=(0,Re.Z)(function*(n,e,t){const r=oA(n);try{const o=yield function(l,d){const g=ut(l),v=_r.now(),D=d.reduce((te,ie)=>te.add(ie.key),an());let P,V;return g.persistence.runTransaction("Locally write mutations","readwrite",te=>{let ie=ji(),Ce=an();return g.Ui.getEntries(te,D).next(We=>{ie=We,ie.forEach((ot,Tt)=>{Tt.isValidDocument()||(Ce=Ce.add(ot))})}).next(()=>g.localDocuments.getOverlayedDocuments(te,ie)).next(We=>{P=We;const ot=[];for(const Tt of d){const Yt=rt(Tt,P.get(Tt.key).overlayedDocument);null!=Yt&&ot.push(new bt(Tt.key,Yt,RD(Yt.value.mapValue),k.exists(!0)))}return g.mutationQueue.addMutationBatch(te,v,ot,d)}).next(We=>{V=We;const ot=We.applyToLocalDocumentSet(P,Ce);return g.documentOverlayCache.saveOverlays(te,We.batchId,ot)})}).then(()=>({batchId:V.batchId,changes:J1(P)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,d,g){let v=l.oc[l.currentUser.toKey()];v||(v=new Dr(en)),v=v.insert(d,g),l.oc[l.currentUser.toKey()]=v}(r,o.batchId,t),yield kc(r,o.changes),yield rm(r.remoteStore)}catch(o){const l=sm(o,"Failed to persist write");t.reject(l)}}),BT.apply(this,arguments)}function _x(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,Re.Z)(function*(n,e){const t=ut(n);try{const r=yield bR(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.ic.get(l);d&&(Vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Xu=!0:o.modifiedDocuments.size>0?Vt(d.Xu):o.removedDocuments.size>0&&(Vt(d.Xu),d.Xu=!1))}),yield kc(t,r,e)}catch(r){yield Fu(r)}}),jT.apply(this,arguments)}function wx(n,e,t){const r=ut(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.tc.forEach((l,d)=>{const g=d.view.Eu(e);g.snapshot&&o.push(g.snapshot)}),function(l,d){const g=ut(l);g.onlineState=d;let v=!1;g.queries.forEach((D,P)=>{for(const V of P.listeners)V.Eu(d)&&(v=!0)}),v&&kT(g)}(r.eventManager,e),o.length&&r.Zu.Go(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function tP(n,e,t){return $T.apply(this,arguments)}function $T(){return $T=(0,Re.Z)(function*(n,e,t){const r=ut(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ic.get(e),l=o&&o.key;if(l){let d=new Dr(nt.comparator);d=d.insert(l,Jn.newNoDocument(l,Lt.min()));const g=an().add(l),v=new Lv(Lt.min(),new Map,new Fn(en),d,g);yield _x(r,v),r.sc=r.sc.remove(l),r.ic.delete(e),KT(r)}else yield tm(r.localStore,e,!1).then(()=>um(r,e,t)).catch(Fu)}),$T.apply(this,arguments)}function nP(n,e){return HT.apply(this,arguments)}function HT(){return HT=(0,Re.Z)(function*(n,e){const t=ut(n),r=e.batch.batchId;try{const o=yield wR(t.localStore,e);qT(t,r,null),zT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield kc(t,o)}catch(o){yield Fu(o)}}),HT.apply(this,arguments)}function rP(n,e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,Re.Z)(function*(n,e,t){const r=ut(n);try{const o=yield function(l,d){const g=ut(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let D;return g.mutationQueue.lookupMutationBatch(v,d).next(P=>(Vt(null!==P),D=P.keys(),g.mutationQueue.removeMutationBatch(v,P))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,D,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,D)).next(()=>g.localDocuments.getDocuments(v,D))})}(r.localStore,e);qT(r,e,t),zT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield kc(r,o)}catch(o){yield Fu(o)}}),ZT.apply(this,arguments)}function GT(){return GT=(0,Re.Z)(function*(n,e){const t=ut(n);Qd(t.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=ut(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const o=t.uc.get(r)||[];o.push(e),t.uc.set(r,o)}catch(r){const o=sm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),GT.apply(this,arguments)}function zT(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function qT(n,e,t){const r=ut(n);let o=r.oc[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.oc[r.currentUser.toKey()]=o}}function um(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||bx(n,r)})}function bx(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Xv(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),KT(n))}function WT(n,e,t){for(const r of t)r instanceof mx?(n.rc.addReference(r.key,e),sP(n,r)):r instanceof yx?(Ke("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||bx(n,r.key)):vt()}function sP(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(Ke("SyncEngine","New document in limbo: "+t),n.nc.add(r),KT(n))}function KT(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new nt(Tn.fromString(e)),r=n.cc.next();n.ic.set(r,new YR(t)),n.sc=n.sc.insert(t,r),gE(n.remoteStore,new Wd(fo(qd(t.path)),r,2,hr.ot))}}function kc(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=(0,Re.Z)(function*(n,e,t){const r=ut(n),o=[],l=[],d=[];var g;r.tc.isEmpty()||(r.tc.forEach((g,v)=>{d.push(r.hc(v,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,D.fromCache?"not-current":"current"),o.push(D);const P=nT.Vi(v.targetId,D);l.push(P)}}))}),yield Promise.all(d),r.Zu.Go(o),yield(g=(0,Re.Z)(function*(v,D){const P=ut(v);try{yield P.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>Te.forEach(D,te=>Te.forEach(te.Pi,ie=>P.persistence.referenceDelegate.addReference(V,te.targetId,ie)).next(()=>Te.forEach(te.vi,ie=>P.persistence.referenceDelegate.removeReference(V,te.targetId,ie)))))}catch(V){if(!Il(V))throw V;Ke("LocalStore","Failed to update sequence numbers: "+V)}for(const V of D){const te=V.targetId;if(!V.fromCache){const ie=P.$i.get(te),We=ie.withLastLimboFreeSnapshotVersion(ie.snapshotVersion);P.$i=P.$i.insert(te,We)}}}),function(v,D){return g.apply(this,arguments)})(r.localStore,l))}),YT.apply(this,arguments)}function oP(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,Re.Z)(function*(n,e){const t=ut(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=yield KS(t.localStore,e);t.currentUser=e,(o=t).uc.forEach(d=>{d.forEach(g=>{g.reject(new qe(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield kc(t,r.Ki)}var o}),QT.apply(this,arguments)}function aP(n,e){const t=ut(n),r=t.ic.get(e);if(r&&r.Xu)return an().add(r.key);{let o=an();const l=t.ec.get(e);if(!l)return o;for(const d of l){const g=t.tc.get(d);o=o.unionWith(g.view.qu)}return o}}function uP(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,Re.Z)(function*(n,e){const t=ut(n),r=yield dE(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&WT(t,e.targetId,o.zu),o}),JT.apply(this,arguments)}function lP(n,e){return XT.apply(this,arguments)}function XT(){return XT=(0,Re.Z)(function*(n,e){const t=ut(n);return XS(t.localStore,e).then(r=>kc(t,r))}),XT.apply(this,arguments)}function cP(n,e,t,r){return eA.apply(this,arguments)}function eA(){return eA=(0,Re.Z)(function*(n,e,t,r){const o=ut(n),l=yield function(d,g){const v=ut(d),D=ut(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",P=>D.yn(P,g).next(V=>V?v.localDocuments.getDocuments(P,V):Te.resolve(null)))}(o.localStore,e);var g;null!==l?("pending"===t?yield rm(o.remoteStore):"acknowledged"===t||"rejected"===t?(qT(o,e,r||null),zT(o,e),g=e,ut(ut(o.localStore).mutationQueue).In(g)):vt(),yield kc(o,l)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),eA.apply(this,arguments)}function tA(){return tA=(0,Re.Z)(function*(n,e){const t=ut(n);if(sA(t),oA(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Ex(t,r.toArray());t.ac=!0,yield AT(t.remoteStore,!0);for(const l of o)gE(t.remoteStore,l)}else if(!1===e&&!1!==t.ac){const r=[];let o=Promise.resolve();t.ec.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(um(t,d),tm(t.localStore,d,!0))),Xv(t.remoteStore,d)}),yield o,yield Ex(t,r),function(l){const d=ut(l);d.ic.forEach((g,v)=>{Xv(d.remoteStore,v)}),d.rc.cs(),d.ic=new Map,d.sc=new Dr(nt.comparator)}(t),t.ac=!1,yield AT(t.remoteStore,!1)}}),tA.apply(this,arguments)}function Ex(n,e,t){return nA.apply(this,arguments)}function nA(){return nA=(0,Re.Z)(function*(n,e,t){const r=ut(n),o=[],l=[];for(const d of e){let g;const v=r.ec.get(d);if(v&&0!==v.length){g=yield em(r.localStore,fo(v[0]));for(const D of v){const P=r.tc.get(D),V=yield uP(r,P);V.snapshot&&l.push(V.snapshot)}}else{const D=yield JS(r.localStore,d);g=yield em(r.localStore,D),yield LT(r,Cx(D),d,!1)}o.push(g)}return r.Zu.Go(l),o}),nA.apply(this,arguments)}function Cx(n){return qb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function hP(n){const e=ut(n);return ut(ut(e.localStore).persistence).Ri()}function fP(n,e,t,r){return rA.apply(this,arguments)}function rA(){return rA=(0,Re.Z)(function*(n,e,t,r){const o=ut(n);if(o.ac)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const l=o.ec.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield XS(o.localStore,Jb(l[0])),g=Lv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield kc(o,d,g);break}case"rejected":yield tm(o.localStore,e,!0),um(o,e,r);break;default:vt()}}),rA.apply(this,arguments)}function pP(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,Re.Z)(function*(n,e,t){const r=sA(n);if(r.ac){for(const o of e){if(r.ec.has(o)){Ke("SyncEngine","Adding an already active target "+o);continue}const l=yield JS(r.localStore,o),d=yield em(r.localStore,l);yield LT(r,Cx(l),d.targetId,!1),gE(r.remoteStore,d)}for(const o of t)r.ec.has(o)&&(yield tm(r.localStore,o,!1).then(()=>{Xv(r.remoteStore,o),um(r,o)}).catch(Fu))}}),iA.apply(this,arguments)}function sA(n){const e=ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_x.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tP.bind(null,e),e.Zu.Go=GR.bind(null,e.eventManager),e.Zu.lc=zR.bind(null,e.eventManager),e}function oA(n){const e=ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rP.bind(null,e),e}class Ix{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Re.Z)(function*(){t.wt=Qv(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return WS(this.persistence,new qS,e.initialUser,this.wt)}_c(e){return new GS(lE.Ms,this.wt)}dc(e){return new rx}terminate(){var e=this;return(0,Re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Dx extends Ix{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Re.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield oA(r.yc.syncEngine),yield rm(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return WS(this.persistence,new qS,e.initialUser,this.wt)}mc(e,t){return new sR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new ID(t,this.persistence);return new Ev(e.asyncQueue,r)}_c(e){const t=tT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?go.withCacheSize(this.cacheSizeBytes):go.DEFAULT;return new eT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,sx(),pE(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new rx}}class mP extends Dx{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Re.Z)(function*(){yield t().call(r,e);const o=r.yc.syncEngine;r.sharedClientState instanceof cT&&(r.sharedClientState.syncEngine={kr:cP.bind(null,o),Or:fP.bind(null,o),Mr:pP.bind(null,o),Ri:hP.bind(null,o),Nr:lP.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var l=(0,Re.Z)(function*(d){yield function dP(n,e){return tA.apply(this,arguments)}(r.yc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}dc(e){const t=sx();if(!cT.V(t))throw new qe(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class aA{initialize(e,t){var r=this;return(0,Re.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>wx(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=oP.bind(null,r.syncEngine),yield AT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZR}createDatastore(e){const t=Qv(e.databaseInfo.databaseId),r=new SR(e.databaseInfo);return new OR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=g=>wx(this.syncEngine,g,0),d=ix.V()?new ix:new DR,new PR(t,r,o,l,d);var t,r,o,l,d}createSyncEngine(e,t){return function(r,o,l,d,g,v,D){const P=new QR(r,o,l,d,g,v);return D&&(P.ac=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Re.Z)(function*(t){const r=ut(t);Ke("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield nm(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Tx(n,e=10240){let t=0;return{read:()=>(0,Re.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Re.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yP{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new ei,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Re.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Re.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),o=Number(r);isNaN(o)&&e.Pc(`length string (${r}) is not valid number`);const l=yield e.vc(o);return new qR(JSON.parse(l),t.length+o)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Re.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,Re.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class vP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Re.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new qe(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Re.Z)(function*(l,d){const g=ut(l),v=jv(g.wt)+"/documents",D={documents:d.map(ie=>Bv(g.wt,ie))},P=yield g.ao("BatchGetDocuments",v,D),V=new Map;P.forEach(ie=>{const Ce=function bO(n,e){return"found"in e?function(t,r){Vt(!!r.found);const o=xl(t,r.found.name),l=$i(r.found.updateTime),d=new Bi({mapValue:{fields:r.found.fields}});return Jn.newFoundDocument(o,l,d)}(n,e):"missing"in e?function(t,r){Vt(!!r.missing),Vt(!!r.readTime);const o=xl(t,r.missing),l=$i(r.readTime);return Jn.newNoDocument(o,l)}(n,e):vt()}(g.wt,ie);V.set(Ce.key.toString(),Ce)});const te=[];return d.forEach(ie=>{const Ce=V.get(ie.toString());Vt(!!Ce),te.push(Ce)}),te}),function(l,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new po(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Re.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=nt.fromPath(o);e.mutations.push(new xf(l,e.precondition(l)))}),yield(r=(0,Re.Z)(function*(o,l){const d=ut(o),g=jv(d.wt)+"/documents",v={writes:l.map(D=>$v(d.wt,D))};yield d.ro("Commit",g,v)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vt();t=Lt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new qe(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?k.updateTime(t):k.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lt.min()))throw new qe(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return k.updateTime(t)}return k.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _P{constructor(e,t,r,o,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=l,this.Dc=r.maxAttempts,this.So=new dT(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Re.Z)(function*(){const t=new vP(e.datastore),r=e.xc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Nc(l)}))}).catch(o=>{e.Nc(o)})}))}xc(e){try{const t=this.updateFunction(e);return!Ef(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Wg(t)}return!1}}class wP{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Xr.UNAUTHENTICATED,this.clientId=vD.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Re.Z)(function*(g){Ke("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ke("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=sm(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Ax(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,Re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Re.Z)(function*(l){r.isEqual(l)||(yield KS(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),uA.apply(this,arguments)}function Sx(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,Re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cA(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>hx(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>hx(e.remoteStore,l)),n.onlineComponents=e}),lA.apply(this,arguments)}function cA(n){return dA.apply(this,arguments)}function dA(){return dA=(0,Re.Z)(function*(n){return n.offlineComponents||(Ke("FirestoreClient","Using default OfflineComponentProvider"),yield Ax(n,new Ix)),n.offlineComponents}),dA.apply(this,arguments)}function vE(n){return hA.apply(this,arguments)}function hA(){return hA=(0,Re.Z)(function*(n){return n.onlineComponents||(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield Sx(n,new aA)),n.onlineComponents}),hA.apply(this,arguments)}function xx(n){return cA(n).then(e=>e.persistence)}function fA(n){return cA(n).then(e=>e.localStore)}function Mx(n){return vE(n).then(e=>e.remoteStore)}function pA(n){return vE(n).then(e=>e.syncEngine)}function lm(n){return gA.apply(this,arguments)}function gA(){return gA=(0,Re.Z)(function*(n){const e=yield vE(n),t=e.eventManager;return t.onListen=JR.bind(null,e.syncEngine),t.onUnlisten=XR.bind(null,e.syncEngine),t}),gA.apply(this,arguments)}function Ox(n,e,t={}){const r=new ei;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(o,l,d,g,v){const D=new yE({next:V=>{l.enqueueAndForget(()=>RT(o,P));const te=V.docs.has(d);!te&&V.fromCache?v.reject(new qe(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):te&&V.fromCache&&g&&"server"===g.source?v.reject(new qe(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(V)},error:V=>v.reject(V)}),P=new NT(qd(d.path),D,{includeMetadataChanges:!0,Du:!0});return MT(o,P)}(yield lm(n),n.asyncQueue,e,t,r)})),r.promise}function Rx(n,e,t={}){const r=new ei;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(o,l,d,g,v){const D=new yE({next:V=>{l.enqueueAndForget(()=>RT(o,P)),V.fromCache&&"server"===g.source?v.reject(new qe(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(V)},error:V=>v.reject(V)}),P=new NT(d,D,{includeMetadataChanges:!0,Du:!0});return MT(o,P)}(yield lm(n),n.asyncQueue,e,t,r)})),r.promise}const Px=new Map;function mA(n,e,t){if(!t)throw new qe(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kx(n,e,t,r){if(!0===e&&!0===r)throw new qe(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Nx(n){if(!nt.isDocumentKey(n))throw new qe(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Fx(n){if(nt.isDocumentKey(n))throw new qe(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _E(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":vt()}function An(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new qe(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_E(n);throw new qe(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Lx(n,e){if(e<=0)throw new qe(xe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Vx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new qe(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,kx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class e_{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vx({}),this._settingsFrozen=!1,e instanceof ja?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new qe(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(o.options.projectId)}(e))}get app(){if(!this._app)throw new qe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qe(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new gD;switch(t.type){case"gapi":const r=t.client;return Vt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Lb(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new qe(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Px.get(e);t&&(Ke("ComponentProvider","Removing Datastore"),Px.delete(e),t.terminate())}(this),Promise.resolve()}}class wr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}}class As{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new As(this.firestore,e,this._query)}}class Ol extends As{constructor(e,t,r){super(e,t,qd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new nt(e))}withConverter(e){return new Ol(this.firestore,e,this._path)}}function yA(n,e,...t){if(n=(0,un.m9)(n),mA("collection","path",e),n instanceof e_){const r=Tn.fromString(e,...t);return Fx(r),new Ol(n,null,r)}{if(!(n instanceof wr||n instanceof Ol))throw new qe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return Fx(r),new Ol(n.firestore,null,r)}}function t_(n,e,...t){if(n=(0,un.m9)(n),1===arguments.length&&(e=vD.I()),mA("doc","path",e),n instanceof e_){const r=Tn.fromString(e,...t);return Nx(r),new wr(n,null,new nt(r))}{if(!(n instanceof wr||n instanceof Ol))throw new qe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return Nx(r),new wr(n.firestore,n instanceof Ol?n.converter:null,new nt(r))}}function Ux(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),(n instanceof wr||n instanceof Ol)&&(e instanceof wr||e instanceof Ol)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Bx(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),n instanceof As&&e instanceof As&&n.firestore===e.firestore&&zg(n._query,e._query)&&n.converter===e.converter}class OP{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new dT(this,"async_queue_retry"),this.Kc=()=>{const t=pE();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=pE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=pE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new ei;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Re.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Il(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,Ir("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const o=xT.createAndSchedule(this,e,t,r,l=>this.Wc(l));return this.$c.push(o),o}Gc(){this.Bc&&vt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Re.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function vA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class RP{constructor(){this._progressObserver={},this._taskCompletionResolver=new ei,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sr extends e_{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new OP,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||jx(this),this._firestoreClient.terminate()}}function kP(n=(0,Eu.getApp)()){return(0,Eu._getProvider)(n,"firestore").getImmediate()}function yi(n){return n._firestoreClient||jx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jx(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new TD(n._databaseId,l,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var l,g;n._firestoreClient=new wP(n._authCredentials,n._appCheckCredentials,n._queue,r)}function $x(n,e,t){const r=new ei;return n.asyncQueue.enqueue((0,Re.Z)(function*(){try{yield Ax(n,t),yield Sx(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===xe.FAILED_PRECONDITION||l.code===xe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function Hx(n){if(n._initialized||n._terminated)throw new qe(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qe(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rl(ti.fromBase64String(e))}catch(t){throw new qe(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rl(ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vf{constructor(e){this._methodName=e}}class wE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qe(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qe(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}const HP=/^__.*__$/;class ZP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new bt(e,this.data,this.fieldMask,t,this.fieldTransforms):new $e(e,this.data,t,this.fieldTransforms)}}class Zx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new bt(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class bE{constructor(e,t,r,o,l,d){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=o,void 0===l&&this.Xc(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new bE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.sa(e),o}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.Xc(),o}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return IE(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Gx(this.Zc)&&HP.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class GP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||Qv(e)}aa(e,t,r,o=!1){return new bE({Zc:e,methodName:t,ca:r,path:Gr.emptyPath(),na:!1,ua:o},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Uf(n){const e=n._freezeSettings(),t=Qv(n._databaseId);return new GP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function EE(n,e,t,r,o,l={}){const d=n.aa(l.merge||l.mergeFields?2:0,e,t,o);EA("Data must be an object, but it was:",d,r);const g=Wx(r,d);let v,D;if(l.merge)v=new Ds(d.fieldMask),D=d.fieldTransforms;else if(l.mergeFields){const P=[];for(const V of l.mergeFields){const te=CA(e,V,t);if(!d.contains(te))throw new qe(xe.INVALID_ARGUMENT,`Field '${te}' is specified in your field mask but missing from your input data.`);Yx(P,te)||P.push(te)}v=new Ds(P),D=d.fieldTransforms.filter(V=>v.covers(V.field))}else v=null,D=d.fieldTransforms;return new ZP(new Bi(g),v,D)}class n_ extends Vf{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n_}}function zx(n,e,t){return new bE({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class _A extends Vf{_toFieldTransform(e){return new w(e.path,new Sf)}isEqual(e){return e instanceof _A}}class zP extends Vf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=zx(this,e,!0),r=this.ha.map(l=>Bf(l,t)),o=new i(r);return new w(e.path,o)}isEqual(e){return this===e}}class qP extends Vf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=zx(this,e,!0),r=this.ha.map(l=>Bf(l,t)),o=new a(r);return new w(e.path,o)}isEqual(e){return this===e}}class WP extends Vf{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new h(e.wt,BD(e.wt,this.la));return new w(e.path,t)}isEqual(e){return this===e}}function wA(n,e,t,r){const o=n.aa(1,e,t);EA("Data must be an object, but it was:",o,r);const l=[],d=Bi.empty();Lu(r,(v,D)=>{const P=CE(e,v,t);D=(0,un.m9)(D);const V=o.ia(P);if(D instanceof n_)l.push(P);else{const te=Bf(D,V);null!=te&&(l.push(P),d.set(P,te))}});const g=new Ds(l);return new Zx(d,g,o.fieldTransforms)}function bA(n,e,t,r,o,l){const d=n.aa(1,e,t),g=[CA(e,r,t)],v=[o];if(l.length%2!=0)throw new qe(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let te=0;te<l.length;te+=2)g.push(CA(e,l[te])),v.push(l[te+1]);const D=[],P=Bi.empty();for(let te=g.length-1;te>=0;--te)if(!Yx(D,g[te])){const ie=g[te];let Ce=v[te];Ce=(0,un.m9)(Ce);const We=d.ia(ie);if(Ce instanceof n_)D.push(ie);else{const ot=Bf(Ce,We);null!=ot&&(D.push(ie),P.set(ie,ot))}}const V=new Ds(D);return new Zx(P,V,d.fieldTransforms)}function qx(n,e,t,r=!1){return Bf(t,n.aa(r?4:3,e))}function Bf(n,e){if(Kx(n=(0,un.m9)(n)))return EA("Unsupported field value:",e,n),Wx(n,e);if(n instanceof Vf)return function(t,r){if(!Gx(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const d of t){let g=Bf(d,r.ra(l));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,un.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return BD(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=_r.fromDate(t);return{timestampValue:Uv(r.wt,o)}}if(t instanceof _r){const o=new _r(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Uv(r.wt,o)}}if(t instanceof wE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rl)return{bytesValue:sS(r.wt,t._byteString)};if(t instanceof wr){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.oa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$D(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${_E(t)}`)}(n,e)}function Wx(n,e){const t={};return Bb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lu(n,(r,o)=>{const l=Bf(o,e.ea(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function Kx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _r||n instanceof wE||n instanceof Rl||n instanceof wr||n instanceof Vf)}function EA(n,e,t){if(!Kx(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=_E(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function CA(n,e,t){if((e=(0,un.m9)(e))instanceof Nc)return e._internalPath;if("string"==typeof e)return CE(n,e);throw IE("Field path arguments must be of type string or ",n,!1,void 0,t)}const KP=new RegExp("[~\\*/\\[\\]]");function CE(n,e,t){if(e.search(KP)>=0)throw IE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nc(...e.split("."))._internalPath}catch(r){throw IE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function IE(n,e,t,r,o){const l=r&&!r.isEmpty(),d=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(l||d)&&(v+=" (found",l&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new qe(xe.INVALID_ARGUMENT,g+n+v)}function Yx(n,e){return n.some(t=>t.isEqual(e))}class r_{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new YP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class YP extends r_{data(){return super.data()}}function DE(n,e){return"string"==typeof e?CE(n,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}class jf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fc extends r_{constructor(e,t,r,o,l,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new i_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(DE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class i_ extends Fc{data(e={}){return super.data(e)}}class Xd{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new jf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new i_(this._firestore,this._userDataWriter,r.key,r,new jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qe(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new i_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new jf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const g=new i_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new jf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,D=-1;return 0!==d.type&&(v=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),D=l.indexOf(d.doc.key)),{type:QP(d.type),doc:g,oldIndex:v,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function QP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}function Qx(n,e){return n instanceof Fc&&e instanceof Fc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xd&&e instanceof Xd&&n._firestore===e._firestore&&Bx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Jx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new qe(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s_{}function eh(n,...e){for(const t of e)n=t._apply(n);return n}class JP extends s_{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=Uf(e.firestore),r=function(o,l,d,g,v,D,P){let V;if(v.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new qe(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){iM(P,D);const ie=[];for(const Ce of P)ie.push(rM(g,o,Ce));V={arrayValue:{values:ie}}}else V=rM(g,o,P)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||iM(P,D),V=qx(d,"where",P,"in"===D||"not-in"===D);const te=ni.create(v,D,V);return function(ie,Ce){if(Ce.ht()){const ot=Kb(ie);if(null!==ot&&!ot.isEqual(Ce.field))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ot.toString()}' and '${Ce.field.toString()}'`);const Tt=Af(ie);null!==Tt&&sM(0,Ce.field,Tt)}const We=function(ot,Tt){for(const Yt of ot.filters)if(Tt.indexOf(Yt.op)>=0)return Yt.op;return null}(ie,function(ot){switch(ot){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ce.op));if(null!==We)throw new qe(xe.INVALID_ARGUMENT,We===Ce.op?`Invalid query. You cannot use more than one '${Ce.op.toString()}' filter.`:`Invalid query. You cannot use '${Ce.op.toString()}' filters with '${We.toString()}' filters.`)}(o,te),te}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new As(e.firestore,e.converter,function(o,l){const d=o.filters.concat([l]);return new Ha(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class ek extends s_{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new qe(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new qe(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new zd(o,l);return function(g,v){if(null===Af(g)){const D=Kb(g);null!==D&&sM(0,D,v.field)}}(r,d),d}(e._query,this.fa,this.wa);return new As(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Ha(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Xx extends s_{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new As(e.firestore,e.converter,Yb(e._query,this.ma,this.ga))}}class eM extends s_{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=nM(e,this.type,this.ya,this.pa);return new As(e.firestore,e.converter,(o=t,new Ha((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class tM extends s_{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=nM(e,this.type,this.ya,this.pa);return new As(e.firestore,e.converter,(o=t,new Ha((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function nM(n,e,t,r){if(t[0]=(0,un.m9)(t[0]),t[0]instanceof r_)return function(o,l,d,g,v){if(!g)throw new qe(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const D=[];for(const P of Al(o))if(P.field.isKeyField())D.push(Dl(l,g.key));else{const V=g.data.field(P.field);if(Iv(V))throw new qe(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+P.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===V){const te=P.field.canonicalString();throw new qe(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${te}' (used as the orderBy) does not exist.`)}D.push(V)}return new Tl(D,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Uf(n.firestore);return function(l,d,g,v,D,P){const V=l.explicitOrderBy;if(D.length>V.length)throw new qe(xe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const te=[];for(let ie=0;ie<D.length;ie++){const Ce=D[ie];if(V[ie].field.isKeyField()){if("string"!=typeof Ce)throw new qe(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Ce}`);if(!Gg(l)&&-1!==Ce.indexOf("/"))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Ce}' contains a slash.`);const We=l.path.child(Tn.fromString(Ce));if(!nt.isDocumentKey(We))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${We}' is not because it contains an odd number of segments.`);const ot=new nt(We);te.push(Dl(d,ot))}else{const We=qx(g,v,Ce);te.push(We)}}return new Tl(te,P)}(n._query,n.firestore._databaseId,o,e,t,r)}}function rM(n,e,t){if("string"==typeof(t=(0,un.m9)(t))){if(""===t)throw new qe(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gg(e)&&-1!==t.indexOf("/"))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tn.fromString(t));if(!nt.isDocumentKey(r))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dl(n,new nt(r))}if(t instanceof wr)return Dl(n,t._key);throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_E(t)}.`)}function iM(n,e){if(!Array.isArray(n)||0===n.length)throw new qe(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new qe(xe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function sM(n,e,t){if(!t.isEqual(e))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const uk={maxAttempts:5};class IA{convertValue(e,t="none"){switch(Oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vt()}}convertObject(e,t){const r={};return Lu(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new wE(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Dv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const t=mi(e);return new _r(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tn.fromString(e);Vt(gS(r));const o=new ja(r.get(1),r.get(3)),l=new nt(r.popFirst(5));return o.isEqual(t)||Ir(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function TE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class lk extends IA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,t)}}class oM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Uf(e)}set(e,t,r){this._verifyNotCommitted();const o=th(e,this._firestore),l=TE(o.converter,t,r),d=EE(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,k.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=th(e,this._firestore);let d;return d="string"==typeof(t=(0,un.m9)(t))||t instanceof Nc?bA(this._dataReader,"WriteBatch.update",l._key,t,r,o):wA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,k.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=th(e,this._firestore);return this._mutations=this._mutations.concat(new po(t._key,k.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function th(n,e){if((n=(0,un.m9)(n)).firestore!==e)throw new qe(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class $f extends IA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,t)}}function aM(n,e,t){n=An(n,wr);const r=An(n.firestore,Sr),o=TE(n.converter,e,t);return cm(r,[EE(Uf(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,k.none())])}function uM(n,e,t,...r){n=An(n,wr);const o=An(n.firestore,Sr),l=Uf(o);let d;return d="string"==typeof(e=(0,un.m9)(e))||e instanceof Nc?bA(l,"updateDoc",n._key,e,t,r):wA(l,"updateDoc",n._key,e),cm(o,[d.toMutation(n._key,k.exists(!0))])}function lM(n){return cm(An(n.firestore,Sr),[new po(n._key,k.none())])}function cM(n,e){const t=An(n.firestore,Sr),r=t_(n),o=TE(n.converter,e);return cm(t,[EE(Uf(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,k.exists(!1))]).then(()=>r)}function DA(n,...e){var t,r,o;n=(0,un.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||vA(e[d])||(l=e[d],d++);const g={includeMetadataChanges:l.includeMetadataChanges};if(vA(e[d])){const V=e[d];e[d]=null===(t=V.next)||void 0===t?void 0:t.bind(V),e[d+1]=null===(r=V.error)||void 0===r?void 0:r.bind(V),e[d+2]=null===(o=V.complete)||void 0===o?void 0:o.bind(V)}let v,D,P;if(n instanceof wr)D=An(n.firestore,Sr),P=qd(n._key.path),v={next:V=>{e[d]&&e[d](TA(D,n,V))},error:e[d+1],complete:e[d+2]};else{const V=An(n,As);D=An(V.firestore,Sr),P=V._query;const te=new $f(D);v={next:ie=>{e[d]&&e[d](new Xd(D,te,V,ie))},error:e[d+1],complete:e[d+2]},Jx(n._query)}return function(V,te,ie,Ce){const We=new yE(Ce),ot=new NT(te,We,ie);return V.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return MT(yield lm(V),ot)})),()=>{We.Tc(),V.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return RT(yield lm(V),ot)}))}}(yi(D),P,g,v)}function cm(n,e){return function(t,r){const o=new ei;return t.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function eP(n,e,t){return BT.apply(this,arguments)}(yield pA(t),r,o)})),o.promise}(yi(n),e)}function TA(n,e,t){const r=t.docs.get(e._key),o=new $f(n);return new Fc(n,o,e._key,r,new jf(t.hasPendingWrites,t.fromCache),e.converter)}class yk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Uf(e)}get(e){const t=th(e,this._firestore),r=new lk(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return vt();const l=o[0];if(l.isFoundDocument())return new r_(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new r_(this._firestore,r,t._key,null,t.converter);throw vt()})}set(e,t,r){const o=th(e,this._firestore),l=TE(o.converter,t,r),d=EE(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const l=th(e,this._firestore);let d;return d="string"==typeof(t=(0,un.m9)(t))||t instanceof Nc?bA(this._dataReader,"Transaction.update",l._key,t,r,o):wA(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=th(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=th(e,this._firestore),r=new $f(this._firestore);return super.get(e).then(o=>new Fc(this._firestore,r,t._key,o._document,new jf(!1,!1),t.converter))}}!function(n,e=!0){Ud=Eu.SDK_VERSION,(0,Eu._registerComponent)(new Lp.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new Sr(o,new mD(t.getProvider("auth-internal")),new Vb(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Eu.registerVersion)(pD,"3.4.10",n),(0,Eu.registerVersion)(pD,"3.4.10","esm2017")}();var Ik={includeMetadataChanges:!1};function Ok(n,e){return void 0===e&&(e={}),function Mk(n){return function AA(n,e){return void 0===e&&(e=Ik),new b.y(function(t){return{unsubscribe:DA(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(n,{includeMetadataChanges:!0}).pipe((0,ht.U)(function(e){return e.docs}))}(n).pipe((0,ht.U)(function(t){return t.map(function(r){return function hM(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class o_{constructor(e){return e}}const mM="firestore",MA=new u.OlP("angularfire2.firestore-instances");function kk(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new o_(r)}}const Nk={provide:class Rk{constructor(){return(0,hn.vb)(mM)}},deps:[[new u.FiY,MA]]},Fk={provide:o_,useFactory:function Pk(n,e){const t=(0,hn.JM)(mM,n,e);return t&&new o_(t)},deps:[[new u.FiY,MA],dd]};let Lk=(()=>{class n{constructor(){(0,Cu.KN)("angularfire",hn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Fk,Nk]}),n})();function Vk(n,...e){return{ngModule:Lk,providers:[{provide:MA,useFactory:kk(n),multi:!0,deps:[u.R0b,u.zs3,hn.HU,dy,[new u.FiY,Wp],[new u.FiY,vl],...e]}]}}const yM=(0,hn.u3)(Ok,!0),vM=(0,hn.u3)(cM,!0),AE=(0,hn.u3)(yA,!0),Uk=(0,hn.u3)(lM,!0),Bk=(0,hn.u3)(t_,!0),jk=(0,hn.u3)(kP,!0),$k={email:"",rol:3};let SE=(()=>{class n{constructor(t){this.router=t,this.rol$=new tr($k)}get selectedRol$(){return this.rol$.asObservable()}setRol(t){this.rol$.next(t),this.router.navigate(["../home"])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ir))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xE=(()=>{class n{constructor(t,r,o,l){this.firestore=t,this.afauth=r,this.router=o,this.servicio=l}addRegistro(t){const r=AE(this.firestore,"usuarios");return vM(r,t)}getRoles(){const t=AE(this.firestore,"usuarios");return yM(t,{idField:"id"})}getUserLog(){return this.afauth.authState}sendCode(t,r){return this.afauth.signInWithPhoneNumber(t,r).then(o=>{window.confirmationResult=o,bn().close()}).catch(o=>{bn().close(),window.alert(o)})}verifyCode(t){return this.servicio.selectedRol$.subscribe(r=>this.info=r),window.confirmationResult.confirm(t).then(r=>{let o=ml.P.credential(window.confirmationResult.verificationId,t);this.afauth.signInWithCredential(o),this.info.rol=2,this.info.email="PhoneUser@gmail.com",console.log(this.info),this.servicio.setRol(this.info),this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(o_),u.LFG(Qp),u.LFG(ir),u.LFG(SE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hk=(()=>{class n{transform(t,r){return null!=r&&"espa\xf1ol"==r?"Correo":null!=r&&"espa\xf1ol2"==r?"Contrase\xf1a":void 0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"random",type:n,pure:!0}),n})(),Zk=(()=>{class n{constructor(t,r,o,l,d){this.userService=t,this.router=r,this.rolesService=o,this.servicio=l,this.ngZone=d,this.email="Email",this.contra="Password",this.aux=!1,this.formLogin=new vu({email:new vr,password:new vr})}ngOnInit(){this.createCaptcha(),this.servicio.selectedRol$.subscribe(t=>this.info=t),bn().fire({allowOutsideClick:!0,title:"Cargando..",text:"Un momento!"}).then(t=>{}),bn().showLoading(),bn().close()}createCaptcha(){this.recaptchaVerifier=new ml.R("recaptcha-container",{size:"visible"},ml.n()),this.recaptchaVerifier.render()}sendCode(t){bn().fire({allowOutsideClick:!1,title:"Cargando..",text:"Un momento!"}).then(r=>{}),bn().showLoading(),this.rolesService.sendCode(t,this.recaptchaVerifier)}cargar(){bn().fire({allowOutsideClick:!0,title:"Cargando..",text:"Un momento!"}).then(t=>{}),bn().showLoading(),this.userService.login(this.formLogin.value).then(t=>{this.rolesService.getRoles().subscribe(r=>{var o,l,d;console.log("registro"+r);for(let g in r)"1"==r[g].rol&&(null===(o=this.formLogin.get("email"))||void 0===o?void 0:o.value)==r[g].email&&(console.log("ADMINISTRADOR"),this.aux=!0,this.info.email=null===(l=this.formLogin.get("email"))||void 0===l?void 0:l.value,this.info.rol=1,this.servicio.setRol(this.info),bn().close());0==this.aux&&(this.info.email=null===(d=this.formLogin.get("email"))||void 0===d?void 0:d.value,this.info.rol=2,this.servicio.setRol(this.info),this.router.navigate(["/home"]),bn().close())})}).catch(t=>{bn().close(),bn().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal.. Revisa tus datos! ",confirmButtonText:"Entendido"}),this.router.navigate(["/login"])})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Yh),u.Y36(ir),u.Y36(xE),u.Y36(SE),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:34,vars:9,consts:[[1,"iniciar"],[1,"login"],[3,"formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","button","value","Enviar",1,"btn","btn-outline-danger",3,"click"],[1,"container"],[1,"form-group","mt-5"],["type","text","required","",1,"form-control"],["Phone",""],["id","recaptcha-container",1,"form-group"],[1,"form-group"],["type","button",1,"btn","btn-outline-danger","m-3",3,"click"],["Code",""]],template:function(t,r){if(1&t){const o=u.EpF();u.TgZ(0,"div",0)(1,"div",1)(2,"h2"),u._uU(3,"Login de usuario"),u.qZA(),u.TgZ(4,"form",2)(5,"div",3)(6,"label",4),u._uU(7),u.ALo(8,"random"),u.qZA(),u._UZ(9,"input",5),u.qZA(),u.TgZ(10,"div",3)(11,"label",4),u._uU(12),u.ALo(13,"random"),u.qZA(),u._UZ(14,"input",6),u.qZA(),u.TgZ(15,"input",7),u.NdJ("click",function(){return r.cargar()}),u.qZA()(),u.TgZ(16,"div",8)(17,"div",9)(18,"h2"),u._uU(19,"Ingresar por n\xfamero telef\xf3nico"),u.qZA(),u._UZ(20,"input",10,11),u.qZA(),u._UZ(22,"div",12),u.TgZ(23,"div",13)(24,"button",14),u.NdJ("click",function(){u.CHM(o);const d=u.MAs(21);return r.sendCode(d.value)}),u._uU(25,"ENVIAR MENSAJE"),u.qZA()(),u.TgZ(26,"div",13)(27,"label",4),u._uU(28,"C\xd3DIGO"),u.qZA(),u._UZ(29,"input",10,15),u.qZA(),u.TgZ(31,"div",13)(32,"button",14),u.NdJ("click",function(){u.CHM(o);const d=u.MAs(30);return r.rolesService.verifyCode(d.value)}),u._uU(33,"Iniciar Sesi\xf3n"),u.qZA()()()()()}2&t&&(u.xp6(4),u.Q6J("formGroup",r.formLogin),u.xp6(3),u.Oqu(u.xi3(8,3,r.email,"espa\xf1ol")),u.xp6(5),u.Oqu(u.xi3(13,6,r.contra,"espa\xf1ol2")))},directives:[Fh,xh,_u,ic,Ip,gl],pipes:[Hk],styles:[".iniciar[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff;min-height:73.5vh}.login[_ngcontent-%COMP%]{width:40%;text-align:center;margin-top:2%}.mb-3[_ngcontent-%COMP%]{text-align:left}.form-control[_ngcontent-%COMP%]{background-color:#106f7e33;border:1px solid #0b4d57}"]}),n})();const Gk=n=>{const e=n.get("password1"),t=n.get("password2");return(null==e?void 0:e.value)===(null==t?void 0:t.value)?null:{noSonIguales:!0}};function zk(n,e){1&n&&(u.TgZ(0,"div",20),u._uU(1,"Las contrase\xf1as no coinciden "),u.qZA())}let qk=(()=>{class n{constructor(t,r,o,l,d){this.fb=t,this.userService=r,this.router=o,this.rolesService=l,this.accesoService=d,this.usuario={nombre:"",apellido:"",direccion:"",telefono:"",email:"xxxxx@gmail.com",edad:18,rol:"3"},this.aux={email:"xxxxx@gmail.com",password1:""},this.formReg=new vu({nombre:new vr,apellido:new vr,direccion:new vr,telefono:new vr,edad:new vr}),this.rea=this.fb.group({email:new vr,password1:["",vp.required],password2:["",vp.required]},{validators:Gk})}ngOnInit(){this.accesoService.selectedRol$.subscribe(t=>this.inf=t),bn().fire({allowOutsideClick:!1,title:"Cargando..",text:"Un momento!"}).then(t=>{}),bn().showLoading(),bn().close()}onSubmit(){var t=this;return(0,Re.Z)(function*(){var r,o,l,d,g,v,D,P;bn().fire({allowOutsideClick:!1,title:"Cargando..",text:"Un momento!"}),bn().showLoading(),t.usuario.email=null===(r=t.rea.get("email"))||void 0===r?void 0:r.value,t.usuario.nombre=null===(o=t.formReg.get("nombre"))||void 0===o?void 0:o.value,t.usuario.apellido=null===(l=t.formReg.get("apellido"))||void 0===l?void 0:l.value,t.usuario.direccion=null===(d=t.formReg.get("direccion"))||void 0===d?void 0:d.value,t.usuario.telefono=null===(g=t.formReg.get("telefono"))||void 0===g?void 0:g.value,t.usuario.edad=null===(v=t.formReg.get("edad"))||void 0===v?void 0:v.value,t.usuario.rol="2",t.aux.email=null===(D=t.rea.get("email"))||void 0===D?void 0:D.value,t.aux.password1=null===(P=t.rea.get("password1"))||void 0===P?void 0:P.value;const{email:V,password1:te}=t.rea.value;console.log(t.rea.value),t.userService.registrar(V,te).then(ie=>{var Ce;t.inf.rol=2,t.inf.email=null===(Ce=t.rea.get("email"))||void 0===Ce?void 0:Ce.value,console.log("registrado exitosamente"),t.rolesService.addRegistro(t.usuario),console.log(t.inf),t.accesoService.setRol(t.inf),t.router.navigate(["/home"])})})()}get f(){return this.formReg.controls}get g(){return this.rea.controls}checarSiSonIguales(){return this.checarSiSonTamano(),this.rea.hasError("noSonIguales")}checarSiSonTamano(){return this.rea.hasError("noSonTamano")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(I0),u.Y36(Yh),u.Y36(ir),u.Y36(xE),u.Y36(SE))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registrar"]],decls:33,vars:11,consts:[["action","",3,"formGroup","ngSubmit"],[1,"signup-form"],[1,"hint-text"],[1,"form-group"],[1,"row"],[1,"col",3,"formGroup"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control"],[1,"form-group",3,"formGroup"],["type","email","formControlName","email","placeholder","Correo",1,"form-control"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control"],["type","text","formControlName","direccion","placeholder","Direccion",1,"form-control"],["type","number","formControlName","telefono","placeholder","Telefono",1,"form-control"],["id","pass1","type","password","formControlName","password1","placeholder","Contrase\xf1a"],["id","pass2","type","password","formControlName","password2","placeholder","Vuelve a escribir la Contrase\xf1a"],["style","color: red;",4,"ngIf"],[1,"buti"],["mat-raised-button","",3,"disabled"],[1,"text-center"],["href","./login"],[2,"color","red"]],template:function(t,r){1&t&&(u.TgZ(0,"form",0),u.NdJ("ngSubmit",function(){return r.onSubmit()}),u.TgZ(1,"body")(2,"div",1)(3,"h2"),u._uU(4,"Registro"),u.qZA(),u.TgZ(5,"p",2),u._uU(6,"Crea tu cuenta. S\xf3lo te tomar\xe1 un minuto para tomar tus llaves"),u.qZA(),u.TgZ(7,"div",3)(8,"div",4)(9,"div",5),u._UZ(10,"input",6),u.qZA(),u.TgZ(11,"div",5),u._UZ(12,"input",7),u.qZA()()(),u.TgZ(13,"div",8),u._UZ(14,"input",9),u.qZA(),u.TgZ(15,"div",8),u._UZ(16,"input",10),u.qZA(),u.TgZ(17,"div",8),u._UZ(18,"input",11),u.qZA(),u.TgZ(19,"div",8),u._UZ(20,"input",12),u.qZA(),u.TgZ(21,"div",8),u._UZ(22,"input",13),u.qZA(),u.TgZ(23,"div",8),u._UZ(24,"input",14),u.YNc(25,zk,2,0,"div",15),u.qZA(),u.TgZ(26,"div",16)(27,"button",17),u._uU(28,"Enviar"),u.qZA()(),u.TgZ(29,"div",18),u._uU(30,"Ya tienes cuenta? "),u.TgZ(31,"a",19),u._uU(32,"Inicia Sesi\xf3n"),u.qZA()()()()()),2&t&&(u.Q6J("formGroup",r.formReg),u.xp6(9),u.Q6J("formGroup",r.formReg),u.xp6(2),u.Q6J("formGroup",r.formReg),u.xp6(2),u.Q6J("formGroup",r.rea),u.xp6(2),u.Q6J("formGroup",r.formReg),u.xp6(2),u.Q6J("formGroup",r.formReg),u.xp6(2),u.Q6J("formGroup",r.formReg),u.xp6(2),u.Q6J("formGroup",r.rea),u.xp6(2),u.Q6J("formGroup",r.rea),u.xp6(2),u.Q6J("ngIf",1==r.checarSiSonIguales()),u.xp6(2),u.Q6J("disabled",!r.rea.valid))},directives:[Fh,xh,_u,ic,Ip,gl,Lh,br],styles:['body[_ngcontent-%COMP%]{color:red;background:#72638a;font-family:Roboto,sans-serif}.form-control[_ngcontent-%COMP%]{height:40px;box-shadow:none;color:#009ef4}.form-control[_ngcontent-%COMP%]:focus{border-color:#5cb85c}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{border-radius:3px}.signup-form[_ngcontent-%COMP%]{width:450px;margin:0 auto;padding:30px 0;font-size:15px}.signup-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#636363;margin:0 0 15px;position:relative;text-align:center}.signup-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before, .signup-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";height:2px;width:30%;background:#532a2a;position:absolute;top:50%;z-index:2}.signup-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{left:0}.signup-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{right:0}.signup-form[_ngcontent-%COMP%]   .hint-text[_ngcontent-%COMP%]{color:#999;margin-bottom:30px;text-align:center}form[_ngcontent-%COMP%]   .signup-form[_ngcontent-%COMP%]{color:#999;border-radius:3px;margin-bottom:15px;background:#f2f3f7;box-shadow:0 2px 2px #0000004d;padding:30px}.buti[_ngcontent-%COMP%]{margin-bottom:20px;text-align:right}.signup-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.signup-form[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-top:3px}.signup-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:16px;font-weight:700;min-width:140px;outline:none!important}.signup-form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{padding-right:10px}.signup-form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{padding-left:10px}.signup-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#170101;text-decoration:underline}.signup-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.signup-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#5cb85c;text-decoration:none}.signup-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']}),n})();var Wk=M(9635);const OA=(0,ht.U)(n=>!!n);let Kk=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(o,l)=>{const d=o.data.authGuardPipe||(()=>OA);return w1(this.auth).pipe((0,Ls.q)(1),d(o,l),(0,ht.U)(g=>"boolean"==typeof g?g:Array.isArray(g)?this.router.createUrlTree(g):this.router.parseUrl(g)))}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ir),u.LFG(qh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const mo=n=>({canActivate:[Kk],data:{authGuardPipe:n}}),yo=n=>(0,Wk.z)(OA,(0,ht.U)(e=>e||n));let Qk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:2,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"navbar works!"),u.qZA())},styles:[""]}),n})(),Jk=(()=>{class n{constructor(t,r){this.userService=t,this.router=r}ngOnInit(){}logOut(){this.userService.logout().then(()=>{this.router.navigate(["/registro"])}).catch(t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Yh),u.Y36(ir))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar-miembro"]],decls:4,vars:0,consts:[[3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"navbar-miembro works!"),u.qZA(),u.TgZ(2,"button",0),u.NdJ("click",function(){return r.logOut()}),u._uU(3,"LOG OUT"),u.qZA())},styles:[""]}),n})();var Xk=M(4986);function RA(){return(0,jr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Gn.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function tN(n,e){return n===e}M(5881);var nN=M(3942);function PA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function _M(){if("undefined"==typeof Uint8Array)throw new qe("unimplemented","Uint8Arrays are not available in this environment.")}function wM(){if(!function DD(){return"undefined"!=typeof atob}())throw new qe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class a_{constructor(e){this._delegate=e}static fromBase64String(e){return wM(),new a_(Rl.fromBase64String(e))}static fromUint8Array(e){return _M(),new a_(Rl.fromUint8Array(e))}toBase64(){return wM(),this._delegate.toBase64()}toUint8Array(){return _M(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kA(n){return function sN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class oN{enableIndexedDbPersistence(e,t){return function NP(n,e){Hx(n=An(n,Sr));const t=yi(n),r=n._freezeSettings(),o=new aA;return $x(t,o,new Dx(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function FP(n){Hx(n=An(n,Sr));const e=yi(n),t=n._freezeSettings(),r=new aA;return $x(e,r,new mP(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function LP(n){if(n._initialized&&!n._terminated)throw new qe(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ei;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{yield(t=(0,Re.Z)(function*(r){if(!Ba.V())return Promise.resolve();const o=r+"main";yield Ba.delete(o)}),function(r){return t.apply(this,arguments)})(tT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class bM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ja||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Sc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function xP(n,e,t,r={}){var o;const l=(n=An(n,e_))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Sc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=Xr.MOCK_USER;else{d=(0,un.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new qe(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Xr(v)}n._authCredentials=new Nb(new kb(d,g))}}(this._delegate,e,t,r)}enableNetwork(){return function UP(n){return function bP(n){return n.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield xx(n),t=yield Mx(n);return e.setNetworkEnabled(!0),function(r){const o=ut(r);return o.lu.delete(0),Jv(o)}(t)}))}(yi(n=An(n,Sr)))}(this._delegate)}disableNetwork(){return function BP(n){return function EP(n){return n.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield xx(n),t=yield Mx(n);return e.setNetworkEnabled(!1),(r=(0,Re.Z)(function*(o){const l=ut(o);l.lu.add(0),yield nm(l),l._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(yi(n=An(n,Sr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,kx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function VP(n){return function(e){const t=new ei;return e.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function iP(n,e){return GT.apply(this,arguments)}(yield pA(e),t)})),t.promise}(yi(n=An(n,Sr)))}(this._delegate)}onSnapshotsInSync(e){return function mk(n,e){return function DP(n,e){const t=new yE(e);return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return r=yield lm(n),o=t,ut(r).Tu.add(o),void o.next();var r,o})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return r=yield lm(n),o=t,void ut(r).Tu.delete(o);var r,o}))}}(yi(n=An(n,Sr)),vA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new qe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new dm(this,yA(this._delegate,e))}catch(t){throw Hs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ga(this,t_(this._delegate,e))}catch(t){throw Hs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zs(this,function MP(n,e){if(n=An(n,e_),mA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qe(xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new As(n,null,(t=e,new Ha(Tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Hs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function vk(n,e,t){n=An(n,Sr);const r=Object.assign(Object.assign({},uk),t);return function(o){if(o.maxAttempts<1)throw new qe(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function TP(n,e,t){const r=new ei;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){const o=yield(l=n,vE(l).then(d=>d.datastore));var l;new _P(n.asyncQueue,o,t,e,r).run()})),r.promise}(yi(n),o=>e(new yk(n,o)),r)}(this._delegate,t=>e(new EM(this,t)))}batch(){return yi(this._delegate),new CM(new oM(this._delegate,e=>cm(this._delegate,e)))}loadBundle(e){return function jP(n,e){const t=yi(n=An(n,Sr)),r=new RP;return function AP(n,e,t,r){const o=function(l,d){let g;return g="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,D){if(v instanceof Uint8Array)return Tx(v,D);if(v instanceof ArrayBuffer)return Tx(new Uint8Array(v),D);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new yP(v,d);var v}(t,Qv(e));n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){!function gP(n,e,t){const r=ut(n);var o;(o=(0,Re.Z)(function*(l,d,g){try{const v=yield d.getMetadata();if(yield function(te,ie){const Ce=ut(te),We=$i(ie.createTime);return Ce.persistence.runTransaction("hasNewerBundle","readonly",ot=>Ce.Ds.getBundleMetadata(ot,ie.id)).then(ot=>!!ot&&ot.createTime.compareTo(We)>=0)}(l.localStore,v))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(te=v).totalDocuments,bytesLoaded:te.totalBytes,totalDocuments:te.totalDocuments,totalBytes:te.totalBytes}),Promise.resolve(new Set);g._updateProgress(gx(v));const D=new WR(v,l.localStore,d.wt);let P=yield d.fc();for(;P;){const te=yield D.Nu(P);te&&g._updateProgress(te),P=yield d.fc()}const V=yield D.complete();return yield kc(l,V.Mu,void 0),yield function(te,ie){const Ce=ut(te);return Ce.persistence.runTransaction("Save bundle","readwrite",We=>Ce.Ds.saveBundleMetadata(We,ie))}(l.localStore,v),g._completeWith(V.progress),Promise.resolve(V.Ou)}catch(v){return Sc("SyncEngine",`Loading bundle failed with ${v}`),g._failWith(v),Promise.resolve(new Set)}var te}),function(l,d,g){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield pA(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function $P(n,e){return function SP(n,e){return n.asyncQueue.enqueue((0,Re.Z)(function*(){return function(t,r){const o=ut(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ds.getNamedQuery(l,r))}(yield fA(n),e)}))}(yi(n=An(n,Sr)),e).then(t=>t?new As(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Zs(this,t):null)}}class ME extends IA{constructor(e){super(),this.firestore=e}convertBytes(e){return new a_(new Rl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ga.forKey(t,this.firestore,null)}}class EM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ME(e)}get(e){const t=Zf(e);return this._delegate.get(t).then(r=>new u_(this._firestore,new Fc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Zf(e);return r?(PA("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Zf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}}class CM{constructor(e){this._delegate=e}set(e,t,r){const o=Zf(e);return r?(PA("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Zf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new i_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new l_(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Hf.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Hf(e,new ME(e),t),o.set(t,l)),l}}Hf.INSTANCES=new WeakMap;class Ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ME(e)}static forPath(e,t,r){if(e.length%2!=0)throw new qe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ga(t,new wr(t._delegate,r,new nt(e)))}static forKey(e,t,r){return new Ga(t,new wr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new dm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new dm(this.firestore,yA(this._delegate,e))}catch(t){throw Hs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,un.m9)(e))instanceof wr&&Ux(this._delegate,e)}set(e,t){t=PA("DocumentReference.set",t);try{return t?aM(this._delegate,e,t):aM(this._delegate,e)}catch(r){throw Hs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?uM(this._delegate,e):uM(this._delegate,e,t,...r)}catch(o){throw Hs(o,"updateDoc()","DocumentReference.update()")}}delete(){return lM(this._delegate)}onSnapshot(...e){const t=IM(e),r=DM(e,o=>new u_(this.firestore,new Fc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return DA(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function dk(n){n=An(n,wr);const e=An(n.firestore,Sr),t=yi(e),r=new $f(e);return function CP(n,e){const t=new ei;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(r=(0,Re.Z)(function*(o,l,d){try{const g=yield function(v,D){const P=ut(v);return P.persistence.runTransaction("read document","readonly",V=>P.localDocuments.getDocument(V,D))}(o,l);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new qe(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const v=sm(g,`Failed to get document '${l} from cache`);d.reject(v)}}),function(o,l,d){return r.apply(this,arguments)})(yield fA(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Fc(e,r,n._key,o,new jf(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function hk(n){n=An(n,wr);const e=An(n.firestore,Sr);return Ox(yi(e),n._key,{source:"server"}).then(t=>TA(e,n,t))}(this._delegate):function ck(n){n=An(n,wr);const e=An(n.firestore,Sr);return Ox(yi(e),n._key).then(t=>TA(e,n,t))}(this._delegate),t.then(r=>new u_(this.firestore,new Fc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ga(this.firestore,this._delegate.withConverter(e?Hf.getInstance(this.firestore,e):null))}}function Hs(n,e,t){return n.message=n.message.replace(e,t),n}function IM(n){for(const e of n)if("object"==typeof e&&!kA(e))return e;return{}}function DM(n,e){var t,r;let o;return o=kA(n[0])?n[0]:kA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class u_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qx(this._delegate,e._delegate)}}class l_ extends u_{data(e){const t=this._delegate.data(e);return function Pb(n,e){n||vt()}(void 0!==t),t}}class Zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ME(e)}where(e,t,r){try{return new Zs(this.firestore,eh(this._delegate,function XP(n,e,t){const r=e,o=DE("where",n);return new JP(o,r,t)}(e,t,r)))}catch(o){throw Hs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Zs(this.firestore,eh(this._delegate,function tk(n,e="asc"){const t=e,r=DE("orderBy",n);return new ek(r,t)}(e,t)))}catch(r){throw Hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zs(this.firestore,eh(this._delegate,function nk(n){return Lx("limit",n),new Xx("limit",n,"F")}(e)))}catch(t){throw Hs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Zs(this.firestore,eh(this._delegate,function rk(n){return Lx("limitToLast",n),new Xx("limitToLast",n,"L")}(e)))}catch(t){throw Hs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zs(this.firestore,eh(this._delegate,function ik(...n){return new eM("startAt",n,!0)}(...e)))}catch(t){throw Hs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zs(this.firestore,eh(this._delegate,function sk(...n){return new eM("startAfter",n,!1)}(...e)))}catch(t){throw Hs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zs(this.firestore,eh(this._delegate,function ok(...n){return new tM("endBefore",n,!1)}(...e)))}catch(t){throw Hs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zs(this.firestore,eh(this._delegate,function ak(...n){return new tM("endAt",n,!0)}(...e)))}catch(t){throw Hs(t,"endAt()","Query.endAt()")}}isEqual(e){return Bx(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function pk(n){n=An(n,As);const e=An(n.firestore,Sr),t=yi(e),r=new $f(e);return function IP(n,e){const t=new ei;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(r=(0,Re.Z)(function*(o,l,d){try{const g=yield dE(o,l,!0),v=new vx(l,g.ji),D=v.Ku(g.documents),P=v.applyChanges(D,!1);d.resolve(P.snapshot)}catch(g){const v=sm(g,`Failed to execute query '${l} against cache`);d.reject(v)}}),function(o,l,d){return r.apply(this,arguments)})(yield fA(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Xd(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function gk(n){n=An(n,As);const e=An(n.firestore,Sr),t=yi(e),r=new $f(e);return Rx(t,n._query,{source:"server"}).then(o=>new Xd(e,r,n,o))}(this._delegate):function fk(n){n=An(n,As);const e=An(n.firestore,Sr),t=yi(e),r=new $f(e);return Jx(n._query),Rx(t,n._query).then(o=>new Xd(e,r,n,o))}(this._delegate),t.then(r=>new NA(this.firestore,new Xd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=IM(e),r=DM(e,o=>new NA(this.firestore,new Xd(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return DA(this._delegate,t,r)}withConverter(e){return new Zs(this.firestore,this._delegate.withConverter(e?Hf.getInstance(this.firestore,e):null))}}class uN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new l_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new l_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new uN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new l_(this._firestore,r))})}isEqual(e){return Qx(this._delegate,e._delegate)}}class dm extends Zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ga(this.firestore,e):null}doc(e){try{return new Ga(this.firestore,void 0===e?t_(this._delegate):t_(this._delegate,e))}catch(t){throw Hs(t,"doc()","CollectionReference.doc()")}}add(e){return cM(this._delegate,e).then(t=>new Ga(this.firestore,t))}isEqual(e){return Ux(this._delegate,e._delegate)}withConverter(e){return new dm(this.firestore,this._delegate.withConverter(e?Hf.getInstance(this.firestore,e):null))}}function Zf(n){return An(n,wr)}class FA{constructor(...e){this._delegate=new Nc(...e)}static documentId(){return new FA(Gr.keyField().canonicalString())}isEqual(e){return(e=(0,un.m9)(e))instanceof Nc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function wk(){return new _A("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gf(e)}static delete(){const e=function _k(){return new n_("deleteField")}();return e._methodName="FieldValue.delete",new Gf(e)}static arrayUnion(...e){const t=function bk(...n){return new zP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Gf(t)}static arrayRemove(...e){const t=function Ek(...n){return new qP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Gf(t)}static increment(e){const t=function Ck(n){return new WP("increment",n)}(e);return t._methodName="FieldValue.increment",new Gf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const lN={Firestore:bM,GeoPoint:wE,Timestamp:_r,Blob:a_,Transaction:EM,WriteBatch:CM,DocumentReference:Ga,DocumentSnapshot:u_,Query:Zs,QueryDocumentSnapshot:l_,QuerySnapshot:NA,CollectionReference:dm,FieldPath:FA,FieldValue:Gf,setLogLevel:function aN(n){!function Ob(n){ku.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function TM(n,e){return function hN(n,e=Xk.z){return new b.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function LA(n,e){return TM(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function OE(n,e){return LA(n,e).pipe(ys(void 0),RA(),(0,ht.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const v=o.find(P=>P.doc.ref.isEqual(d.ref)),D=null==t?void 0:t.payload.docs.find(P=>P.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&D&&JSON.stringify(D.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),l}))}function AM(n,e,t){return OE(n,t).pipe(vs((r,o)=>function pN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function gN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return VA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return VA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return VA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function eN(n,e=cr.y){return n=null!=n?n:tN,(0,jr.e)((t,r)=>{let o,l=!0;t.subscribe((0,Gn.x)(r,d=>{const g=e(d);(l||!n(o,g))&&(l=!1,o=g,r.next(d))}))})}(),(0,ht.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function VA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function SM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function dN(n){(function cN(n,e){n.INTERNAL.registerComponent(new Lp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},lN)))})(n,(e,t)=>new bM(e,t,new oN)),n.registerVersion("@firebase/firestore-compat","0.1.19")}(nN.Z);class xM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=OE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(ys(void 0),RA(),$r(([r,o])=>o.length>0||!r),(0,ht.U)(([r,o])=>o),hn.iC)}auditTrail(e){return this.stateChanges(e).pipe(vs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=SM(e);return AM(this.query,t,this.afs.schedulers.outsideAngular).pipe(hn.iC)}valueChanges(e={}){return LA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),hn.iC)}get(e){return(0,Zn.D)(this.query.get(e)).pipe(hn.iC)}add(e){return this.ref.add(e)}doc(e){return new MM(this.ref.doc(e),this.afs)}}class MM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=OM(r,t);return new xM(o,l,this.afs)}snapshotChanges(){return function fN(n,e){return TM(n,e).pipe(ys(void 0),RA(),(0,ht.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Zn.D)(this.ref.get(e)).pipe(hn.iC)}}class mN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?OE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),$r(t=>t.length>0),hn.iC):OE(this.query,this.afs.schedulers.outsideAngular).pipe(hn.iC)}auditTrail(e){return this.stateChanges(e).pipe(vs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=SM(e);return AM(this.query,t,this.afs.schedulers.outsideAngular).pipe(hn.iC)}valueChanges(e={}){return LA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),hn.iC)}get(e){return(0,Zn.D)(this.query.get(e)).pipe(hn.iC)}}const yN=new u.OlP("angularfire2.enableFirestorePersistence"),vN=new u.OlP("angularfire2.firestore.persistenceSettings"),_N=new u.OlP("angularfire2.firestore.settings"),wN=new u.OlP("angularfire2.firestore.use-emulator");function OM(n,e=(t=>t)){return{query:e(n),ref:n}}let bN=(()=>{class n{constructor(t,r,o,l,d,g,v,D,P,V,te,ie,Ce,We,ot,Tt,Yt){this.schedulers=v;const fn=(0,ra.on)(t,g,r),tn=P;V&&Tw(fn,g,te,Ce,We,ot,ie,Tt),[this.firestore,this.persistenceEnabled$]=(0,ra.cc)(`${fn.name}.firestore`,"AngularFirestore",fn.name,()=>{const mn=g.runOutsideAngular(()=>fn.firestore());if(l&&mn.settings(l),tn&&mn.useEmulator(...tn),o&&!Yn(d)){const Ln=()=>{try{return(0,Zn.D)(mn.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Ss){return"undefined"!=typeof console&&console.warn(Ss),ft(!1)}};return[mn,g.runOutsideAngular(Ln)]}return[mn,ft(!1)]},[l,tn,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=OM(o,r),g=this.schedulers.ngZone.run(()=>l);return new xM(g,d,this)}collectionGroup(t,r){const o=r||(d=>d),l=this.firestore.collectionGroup(t);return new mN(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new MM(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ra.Dh),u.LFG(ra.xv,8),u.LFG(yN,8),u.LFG(_N,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(hn.HU),u.LFG(vN,8),u.LFG(wN,8),u.LFG(Qp,8),u.LFG(ww,8),u.LFG(bw,8),u.LFG(Ew,8),u.LFG(Cw,8),u.LFG(Iw,8),u.LFG(Dw,8),u.LFG(vl,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zf=(()=>{class n{constructor(t,r,o){this.firestore=t,this.afs=r,this.router=o,this.hola=this.afs.collection("Concentrado"),this.itemscoll=r.collection("Concentrado"),this.items=this.itemscoll.snapshotChanges().pipe((0,ht.U)(l=>l.map(d=>{const g=d.payload.doc.data();return Object.assign({id:d.payload.doc.id},g)})))}addPrincipal(t){const r=AE(this.firestore,"Concentrado");return vM(r,t)}editarInfo(t){this.afs.collection("Concentrado").doc(t.id).update(t)}getVehiculosSucursal(t){return this.afs.collection("Concentrado").doc(t).get().subscribe(r=>console.log(r)),this.afs.collection("Concentrado").doc(t).valueChanges()}getAutos(){const t=AE(this.firestore,"Concentrado");return yM(t,{idField:"id"})}retorna(){return this.items}eliminar(t){const r=Bk(this.firestore,`Concentrado/${t.id}`);return Uk(r)}editar(t){this.itemDoc=this.afs.doc("Concentrado/"+t.id),this.itemDoc.update(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(o_),u.LFG(bN),u.LFG(ir))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RM=(()=>{class n{constructor(t,r){this.principalService=t,this.router=r,this.info={sucursal:"",nombre_coche:"",marca:"",anio:"",tipo:"",transmision:"",color:"",url:"",mantenimiento:"",disponibilidad:"",imagen:""},this.formAlta=new vu({sucursal:new vr,nombre_coche:new vr,marca:new vr,anio:new vr,url:new vr,color:new vr,tipo:new vr,imagen:new vr,mantenimiento:new vr,disponibilidad:new vr,transmision:new vr})}ngOnInit(){}onSubmit(){var t=this;return(0,Re.Z)(function*(){yield t.principalService.addPrincipal(t.formAlta.value),bn().fire("Registro Exitoso").then(o=>{t.router.navigate(["/home"])})})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zf),u.Y36(ir))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-agregar-vehiculo"]],decls:48,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"signup-form"],[1,"mb-3"],[1,"form-label"],["formControlName","sucursal"],["value","Bosques"],["value","Centro"],["value","San Gerardo"],["type","text","formControlName","nombre_coche","placeholder","Nombre del veh\xedculo",1,"form-control"],["type","text","formControlName","marca","placeholder","Marca del veh\xedculo",1,"form-control"],["type","string","formControlName","anio","placeholder","A\xf1o",1,"form-control"],["type","text","formControlName","tipo","placeholder","Tipo de carrocer\xeda(Ejemplo; Hatchback, Sed\xe1n, etc)",1,"form-control"],["type","text","formControlName","transmision","placeholder","Transmisi\xf3n",1,"form-control"],["type","text","formControlName","color","placeholder","Color",1,"form-control"],["type","text","formControlName","url","placeholder","URL rese\xf1a",1,"form-control"],["type","text","formControlName","imagen","placeholder","URL imagen",1,"form-control"],["formControlName","mantenimiento"],["value","true"],["value","false"],["formControlName","disponibilidad"],["type","submit","value","Enviar"]],template:function(t,r){1&t&&(u.TgZ(0,"form",0),u.NdJ("ngSubmit",function(){return r.onSubmit()}),u.TgZ(1,"body")(2,"div",1)(3,"h2"),u._uU(4,"Alta Carro"),u.qZA(),u.TgZ(5,"div",2)(6,"label",3),u._uU(7,"Sucursal "),u.qZA(),u.TgZ(8,"select",4)(9,"option",5),u._uU(10,"Bosques"),u.qZA(),u.TgZ(11,"option",6),u._uU(12,"Centro"),u.qZA(),u.TgZ(13,"option",7),u._uU(14,"San Gerardo"),u.qZA()()(),u.TgZ(15,"div",2),u._UZ(16,"input",8),u.qZA(),u.TgZ(17,"div",2),u._UZ(18,"input",9),u.qZA(),u.TgZ(19,"div",2),u._UZ(20,"input",10),u.qZA(),u.TgZ(21,"div",2),u._UZ(22,"input",11),u.qZA(),u.TgZ(23,"div",2),u._UZ(24,"input",12),u.qZA(),u.TgZ(25,"div",2),u._UZ(26,"input",13),u.qZA(),u.TgZ(27,"div",2),u._UZ(28,"input",14),u.qZA(),u.TgZ(29,"div",2),u._UZ(30,"input",15),u.qZA(),u.TgZ(31,"div",2)(32,"label",3),u._uU(33,"Necedidad Mantenimiento"),u.qZA(),u.TgZ(34,"select",16)(35,"option",17),u._uU(36,"S\xcd"),u.qZA(),u.TgZ(37,"option",18),u._uU(38,"NO"),u.qZA()()(),u.TgZ(39,"div",2)(40,"label",3),u._uU(41,"Disponibilidad"),u.qZA(),u.TgZ(42,"select",19)(43,"option",17),u._uU(44,"Disponible"),u.qZA(),u.TgZ(45,"option",18),u._uU(46,"No Disponible"),u.qZA()()(),u._UZ(47,"input",20),u.qZA()()()),2&t&&u.Q6J("formGroup",r.formAlta)},directives:[Fh,xh,_u,Bh,Ip,gl,ny,p0,ic],styles:['body[_ngcontent-%COMP%]{color:red;background:#72638a;font-family:Roboto,sans-serif}.form-control[_ngcontent-%COMP%]{height:40px;box-shadow:none;color:#009ef4}.form-control[_ngcontent-%COMP%]:focus{border-color:#5cb85c}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{border-radius:3px}.signup-form[_ngcontent-%COMP%]{width:450px;margin:0 auto;padding:30px 0;font-size:15px}.signup-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#636363;margin:0 0 15px;position:relative;text-align:center}.signup-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before, .signup-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";height:2px;width:30%;background:#532a2a;position:absolute;top:50%;z-index:2}.signup-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{left:0}.signup-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{right:0}.signup-form[_ngcontent-%COMP%]   .hint-text[_ngcontent-%COMP%]{color:#999;margin-bottom:30px;text-align:center}form[_ngcontent-%COMP%]   .signup-form[_ngcontent-%COMP%]{color:#999;border-radius:3px;margin-bottom:15px;background:#f2f3f7;box-shadow:0 2px 2px #0000004d;padding:30px}.buti[_ngcontent-%COMP%]{margin-bottom:20px;text-align:right}.signup-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.signup-form[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-top:3px}.signup-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:16px;font-weight:700;min-width:140px;outline:none!important}.signup-form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{padding-right:10px}.signup-form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{padding-left:10px}.signup-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#170101;text-decoration:underline}.signup-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.signup-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#5cb85c;text-decoration:none}.signup-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']}),n})();class PM{}class kM{}class Lc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),l=o.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Lc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Lc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Lc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const l=e.value;if(l){let d=this.headers.get(t);if(!d)return;d=d.filter(g=>-1===l.indexOf(g)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class EN{encodeKey(e){return NM(e)}encodeValue(e){return NM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const IN=/%(\d[a-f0-9])/gi,DN={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function NM(n){return encodeURIComponent(n).replace(IN,(e,t)=>{var r;return null!==(r=DN[t])&&void 0!==r?r:e})}function FM(n){return`${n}`}class nh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new EN,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function CN(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[d,g]=-1==l?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,l)),e.decodeValue(o.slice(l+1))],v=t.get(d)||[];v.push(g),t.set(d,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new nh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(FM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(FM(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class TN{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function LM(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function VM(n){return"undefined"!=typeof Blob&&n instanceof Blob}function UM(n){return"undefined"!=typeof FormData&&n instanceof FormData}class c_{constructor(e,t,r,o){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function AN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,l=o):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Lc),this.context||(this.context=new TN),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+d}}else this.params=new nh,this.urlWithParams=t}serializeBody(){return null===this.body?null:LM(this.body)||VM(this.body)||UM(this.body)||function SN(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||UM(this.body)?null:VM(this.body)?this.body.type||null:LM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,l=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,g=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,v=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let D=e.headers||this.headers,P=e.params||this.params;const V=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(D=Object.keys(e.setHeaders).reduce((te,ie)=>te.set(ie,e.setHeaders[ie]),D)),e.setParams&&(P=Object.keys(e.setParams).reduce((te,ie)=>te.set(ie,e.setParams[ie]),P)),new c_(r,o,d,{params:P,headers:D,context:V,reportProgress:v,responseType:l,withCredentials:g})}}var vi=(()=>((vi=vi||{})[vi.Sent=0]="Sent",vi[vi.UploadProgress=1]="UploadProgress",vi[vi.ResponseHeader=2]="ResponseHeader",vi[vi.DownloadProgress=3]="DownloadProgress",vi[vi.Response=4]="Response",vi[vi.User=5]="User",vi))();class UA{constructor(e,t=200,r="OK"){this.headers=e.headers||new Lc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class BA extends UA{constructor(e={}){super(e),this.type=vi.ResponseHeader}clone(e={}){return new BA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class RE extends UA{constructor(e={}){super(e),this.type=vi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new RE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class BM extends UA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function jA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let jM=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let l;if(t instanceof c_)l=t;else{let v,D;v=o.headers instanceof Lc?o.headers:new Lc(o.headers),o.params&&(D=o.params instanceof nh?o.params:new nh({fromObject:o.params})),l=new c_(t,r,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:D,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=ft(l).pipe(Bo(v=>this.handler.handle(v)));if(t instanceof c_||"events"===o.observe)return d;const g=d.pipe($r(v=>v instanceof RE));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return g.pipe((0,ht.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,ht.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,ht.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return g.pipe((0,ht.U)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new nh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,jA(o,r))}post(t,r,o={}){return this.request("POST",t,jA(o,r))}put(t,r,o={}){return this.request("PUT",t,jA(o,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(PM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class $M{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const HM=new u.OlP("HTTP_INTERCEPTORS");let xN=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const MN=/^\)\]\}',?\n/;let ZM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new b.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((ie,Ce)=>o.setRequestHeader(ie,Ce.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ie=t.detectContentTypeHeader();null!==ie&&o.setRequestHeader("Content-Type",ie)}if(t.responseType){const ie=t.responseType.toLowerCase();o.responseType="json"!==ie?ie:"text"}const l=t.serializeBody();let d=null;const g=()=>{if(null!==d)return d;const ie=o.statusText||"OK",Ce=new Lc(o.getAllResponseHeaders()),We=function ON(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return d=new BA({headers:Ce,status:o.status,statusText:ie,url:We}),d},v=()=>{let{headers:ie,status:Ce,statusText:We,url:ot}=g(),Tt=null;204!==Ce&&(Tt=void 0===o.response?o.responseText:o.response),0===Ce&&(Ce=Tt?200:0);let Yt=Ce>=200&&Ce<300;if("json"===t.responseType&&"string"==typeof Tt){const fn=Tt;Tt=Tt.replace(MN,"");try{Tt=""!==Tt?JSON.parse(Tt):null}catch(tn){Tt=fn,Yt&&(Yt=!1,Tt={error:tn,text:Tt})}}Yt?(r.next(new RE({body:Tt,headers:ie,status:Ce,statusText:We,url:ot||void 0})),r.complete()):r.error(new BM({error:Tt,headers:ie,status:Ce,statusText:We,url:ot||void 0}))},D=ie=>{const{url:Ce}=g(),We=new BM({error:ie,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Ce||void 0});r.error(We)};let P=!1;const V=ie=>{P||(r.next(g()),P=!0);let Ce={type:vi.DownloadProgress,loaded:ie.loaded};ie.lengthComputable&&(Ce.total=ie.total),"text"===t.responseType&&!!o.responseText&&(Ce.partialText=o.responseText),r.next(Ce)},te=ie=>{let Ce={type:vi.UploadProgress,loaded:ie.loaded};ie.lengthComputable&&(Ce.total=ie.total),r.next(Ce)};return o.addEventListener("load",v),o.addEventListener("error",D),o.addEventListener("timeout",D),o.addEventListener("abort",D),t.reportProgress&&(o.addEventListener("progress",V),null!==l&&o.upload&&o.upload.addEventListener("progress",te)),o.send(l),r.next({type:vi.Sent}),()=>{o.removeEventListener("error",D),o.removeEventListener("abort",D),o.removeEventListener("load",v),o.removeEventListener("timeout",D),t.reportProgress&&(o.removeEventListener("progress",V),null!==l&&o.upload&&o.upload.removeEventListener("progress",te)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Cn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const $A=new u.OlP("XSRF_COOKIE_NAME"),HA=new u.OlP("XSRF_HEADER_NAME");class GM{}let RN=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=xs(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W),u.LFG(u.Lbi),u.LFG($A))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ZA=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(GM),u.LFG(HA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),PN=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(HM,[]);this.chain=r.reduceRight((o,l)=>new $M(o,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(kM),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),kN=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:ZA,useClass:xN}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:$A,useValue:t.cookieName}:[],t.headerName?{provide:HA,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ZA,{provide:HM,useExisting:ZA,multi:!0},{provide:GM,useClass:RN},{provide:$A,useValue:"XSRF-TOKEN"},{provide:HA,useValue:"X-XSRF-TOKEN"}]}),n})(),NN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[jM,{provide:PM,useClass:PN},ZM,{provide:kM,useExisting:ZM}],imports:[[kN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),zM=(()=>{class n{constructor(t,r){this.httpclien=t,this.router=r,this.title="correo",this.datos=new vu({asunto:new vr("",vp.required),msj:new vr("",vp.required)})}ngOnInit(){bn().fire({allowOutsideClick:!1,title:"Cargando..",text:"Un momento!"}).then(t=>{}),bn().showLoading(),bn().close()}envio(){bn().fire({allowOutsideClick:!1,title:"Cargando..",text:"Un momento!"}).then(r=>{}),bn().showLoading();let t={asunto:this.datos.value.asunto,mensaje:this.datos.value.msj};console.log(t),this.httpclien.post("https://zibory.herokuapp.com:/envio",t).subscribe(r=>{console.log(r),this.router.navigate(["/home"])}),this.router.navigate(["/home"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jM),u.Y36(ir))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contacto"]],decls:12,vars:1,consts:[[1,"contacto"],[3,"formGroup"],[1,"row","justify-content-center"],[1,"col-lg-4","fondo"],[1,"text-center","p-2"],["type","text","placeholder","Asunto","formControlName","asunto",1,"form-control"],["placeholder","Mensaje","cols","40","rows","10","formControlName","msj",1,"form-control"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),u._uU(5,"Contacta al Administrador"),u.qZA(),u._UZ(6,"input",5)(7,"br")(8,"textarea",6),u.TgZ(9,"div",4)(10,"button",7),u.NdJ("click",function(){return r.envio()}),u._uU(11,"Enviar"),u.qZA()()()()()()),2&t&&(u.xp6(1),u.Q6J("formGroup",r.datos))},directives:[Fh,xh,_u,ic,Ip,gl],styles:[".contacto[_ngcontent-%COMP%]{background-color:#fff;padding:2%;min-height:73.5vh}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background-color:#106f7e33;border:1px solid #0b4d57}button[_ngcontent-%COMP%]{margin-top:1%}"]}),n})(),FN=(()=>{class n{constructor(){}ngOnInit(){bn().fire({allowOutsideClick:!1,title:"Cargando..",text:"Un momento!"}).then(t=>{}),bn().showLoading(),bn().close()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-faq"]],decls:40,vars:0,consts:[[1,"text-center","mb-4","pb-2","fw-bold"],[1,"row"],[1,"col-md-6","col-lg-4","mb-4","text-center"],[1,"mb-3"],[1,"far","fa-paper-plane","text-primary","pe-2"],[1,"fas","fa-pen-alt","text-primary","pe-2"],[1,"fas","fa-user","text-primary","pe-2"],[1,"fas","fa-rocket","text-primary","pe-2"],[1,"fas","fa-home","text-primary","pe-2"],[1,"fas","fa-book-open","text-primary","pe-2"]],template:function(t,r){1&t&&(u.TgZ(0,"section")(1,"h3",0),u._uU(2,"Preguntas Frecuentes"),u.qZA(),u.TgZ(3,"div",1)(4,"div",2)(5,"h6",3),u._UZ(6,"i",4),u._uU(7,"\xbfPuedo recoger el auto en una ciudad y entregarlo en otra?"),u.qZA(),u.TgZ(8,"p"),u._uU(9," S\xed es posible recoger el auto en una ciudad y entregarlo en otra, siempre y cuando exista una oficina de Zibory M\xe9xico en las dos ciudades. Debes tener en cuenta que esto puede aplicar cargos extras en tu alquiler. "),u.qZA()(),u.TgZ(10,"div",2)(11,"h6",3),u._UZ(12,"i",5),u._uU(13," \xbfCu\xe1l es el tiempo m\xednimo de renta?"),u.qZA(),u.TgZ(14,"p"),u._uU(15," El tiempo m\xednimo de renta en Zibory M\xe9xico es de 24 horas. "),u.qZA()(),u.TgZ(16,"div",2)(17,"h6",3),u._UZ(18,"i",6),u._uU(19," \xbfExiste alg\xfan l\xedmite de edad para rentar un autom\xf3vil? "),u.qZA(),u.TgZ(20,"p"),u._uU(21," El Titular del contrato de arrendamiento del auto debe ser mayor de 25 a\xf1os. En caso de tener entre 18 y 24 a\xf1os se aplican cargos adicionales. "),u.qZA()(),u.TgZ(22,"div",2)(23,"h6",3),u._UZ(24,"i",7),u._uU(25," \xbfNecesito dejar algo c\xf3mo garant\xeda para rentar un auto? "),u.qZA(),u.TgZ(26,"p"),u._uU(27," Se hace una retenci\xf3n de dinero en su Tarjeta de Cr\xe9dito que ser\xe1 liberado una vez que el auto sea entregado sin inconvenientes. El monto de la retenci\xf3n depender\xe1 de el veh\xedculo que contrates y de las coberturas que adquieras con \xe9l. "),u.qZA()(),u.TgZ(28,"div",2)(29,"h6",3),u._UZ(30,"i",8),u._uU(31," \xbfCu\xe1nto me van a retener en mi Tarjeta de Cr\xe9dito? "),u.qZA(),u.TgZ(32,"p"),u._uU(33,"El monto de la retenci\xf3n depende del veh\xedculo que contrates y de las coberturas que adquieras en el alquiler."),u.qZA()(),u.TgZ(34,"div",2)(35,"h6",3),u._UZ(36,"i",9),u._uU(37," \xbfPuedo sacar el auto de este estado y llevarlo a otro?"),u.qZA(),u.TgZ(38,"p"),u._uU(39," Nuestras unidades pueden circular sin restricciones por todo el pa\xeds. Si necesitas entrar desde el interior a la CDMX d\xe9janos saber para asegurar que tengas la verificaci\xf3n o pase tur\xedstico. "),u.qZA()()()())},styles:["section[_ngcontent-%COMP%]{min-height:73.5vh;background-color:#fff;padding:2%}h6[_ngcontent-%COMP%]{color:#106f7e}h3[_ngcontent-%COMP%]{color:#0b4d57}"]}),n})(),LN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-grafica"]],decls:2,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"ESTO ES LO DE LA GRAFICA"),u.qZA())},styles:[""]}),n})();function VN(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"No hay productos por el momento"),u.qZA())}function UN(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td")(8,"button",6),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw(2).borrar(l)}),u._uU(9,"Borrar"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.nombre_coche),u.xp6(2),u.Oqu(t.marca),u.xp6(2),u.Oqu(t.sucursal)}}function BN(n,e){if(1&n&&(u.TgZ(0,"table",3)(1,"thead",4)(2,"tr")(3,"td"),u._uU(4,"Nombre"),u.qZA(),u.TgZ(5,"td"),u._uU(6,"Marca"),u.qZA(),u.TgZ(7,"td"),u._uU(8,"Sucursal"),u.qZA(),u.TgZ(9,"td"),u._uU(10,"Accion"),u.qZA()()(),u.TgZ(11,"tbody"),u.YNc(12,UN,10,3,"tr",5),u.qZA()()),2&n){const t=u.oxw();u.xp6(12),u.Q6J("ngForOf",t.principal)}}let qM=(()=>{class n{constructor(t,r){this.principalService=t,this.router=r,this.principal=[]}ngOnInit(){this.principalService.getAutos().subscribe(t=>{console.log(t),this.principal=t})}borrar(t){var r=this;return(0,Re.Z)(function*(){yield r.principalService.eliminar(t),bn().fire("Baja Exitosa").then(l=>{r.router.navigate(["/home"])})})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zf),u.Y36(ir))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-baja-vehiculo"]],decls:5,vars:2,consts:[[1,"container"],[4,"ngIf"],["class","table table-light table-striped text-center rounded-3",4,"ngIf"],[1,"table","table-light","table-striped","text-center","rounded-3"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h2"),u._uU(2,"Autos"),u.qZA(),u.YNc(3,VN,2,0,"div",1),u.YNc(4,BN,13,1,"table",2),u.qZA()),2&t&&(u.xp6(3),u.Q6J("ngIf",!r.principal.length),u.xp6(1),u.Q6J("ngIf",r.principal.length))},directives:[br,Mn],styles:["h2[_ngcontent-%COMP%]{color:#fff}"]}),n})();function jN(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._UZ(16,"img",4),u.qZA(),u.TgZ(17,"td")(18,"button",5),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw().editar(l)}),u._uU(19,"Rentar"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.sucursal),u.xp6(2),u.Oqu(t.nombre_coche),u.xp6(2),u.Oqu(t.marca),u.xp6(2),u.Oqu(t.anio),u.xp6(2),u.Oqu(t.tipo),u.xp6(2),u.Oqu(t.transmision),u.xp6(2),u.Oqu(t.color),u.xp6(2),u.s9C("src",t.imagen,u.LSH)}}let $N=(()=>{class n{constructor(t,r){this.servicio=t,this.route=r,this.principal=[],this.array=[],this.servicio.getAutos().subscribe(o=>{this.principal=o;for(let l of this.principal)"true"==l.disponibilidad&&this.array.push(l)})}editar(t){t.disponibilidad="false",this.servicio.editarInfo(t),bn().fire("Modificacion Realizada").then(r=>{this.route.navigate(["/home"])})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zf),u.Y36(ir))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-renta-vehiculo"]],decls:24,vars:1,consts:[[1,"container"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["height","150","width","150",3,"src"],["type","button",1,"btn","btn-success",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h3"),u._uU(2,"Renta de Autos"),u.qZA(),u.TgZ(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),u._uU(7,"Sucursal"),u.qZA(),u.TgZ(8,"th",2),u._uU(9,"Nombre De Coche"),u.qZA(),u.TgZ(10,"th",2),u._uU(11,"Marca"),u.qZA(),u.TgZ(12,"th",2),u._uU(13,"A\xf1o"),u.qZA(),u.TgZ(14,"th",2),u._uU(15,"Tipo"),u.qZA(),u.TgZ(16,"th",2),u._uU(17,"Transmision"),u.qZA(),u.TgZ(18,"th",2),u._uU(19,"Color"),u.qZA(),u.TgZ(20,"th",2),u._uU(21,"Imagen"),u.qZA()()(),u.TgZ(22,"tbody"),u.YNc(23,jN,20,8,"tr",3),u.qZA()()()),2&t&&(u.xp6(23),u.Q6J("ngForOf",r.array))},directives:[Mn],styles:["table[_ngcontent-%COMP%]{vertical-align:middle;font-size:18px;background-color:#84caca}h3[_ngcontent-%COMP%]{color:#fff}"]}),n})();function za(n,e,t,r){var d,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(n,e,t,r);else for(var g=n.length-1;g>=0;g--)(d=n[g])&&(l=(o<3?d(l):o>3?d(e,t,l):d(e,t))||l);return o>3&&l&&Object.defineProperty(e,t,l),l}var YM=M(3259);const ZN=["qrcElement"];var qf=(()=>(function(n){n.URL="url",n.IMG="img",n.CANVAS="canvas"}(qf||(qf={})),qf))(),hm=(()=>(function(n){n.LOW="L",n.MEDIUM="M",n.QUARTILE="Q",n.HIGH="H"}(hm||(hm={})),hm))();const Pl={elementType:qf.URL,cssClass:"qrcode",value:"https://www.techiediaries.com",version:"",errorCorrectionLevel:hm.MEDIUM,margin:4,scale:4,width:10,colorDark:"#000",colorLight:"#FFF"};let GN=(()=>{let n=class{constructor(t){this.renderer=t,this.elementType=Pl.elementType,this.cssClass=Pl.cssClass,this.value=Pl.value,this.version=Pl.version,this.errorCorrectionLevel=Pl.errorCorrectionLevel,this.margin=Pl.margin,this.scale=Pl.scale,this.width=Pl.width,this.colorDark=Pl.colorDark,this.colorLight=Pl.colorLight}ngOnChanges(){this.createQRCode()}createQRCode(){if(!this.value)return;let t;this.elementType===qf.CANVAS?(t=this.renderer.createElement("canvas"),this.toCanvas(t).then(()=>{this.renderElement(t)}).catch(r=>{this.removeElementChildren(),console.error(r)})):(t=this.renderer.createElement("img"),this.toDataURL().then(r=>{t.setAttribute("src",r),this.alt&&t.setAttribute("alt",this.alt),this.renderElement(t)}).catch(r=>{this.removeElementChildren(),console.error(r)}))}toDataURL(){return YM.toDataURL(this.value,{version:this.version,errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,width:this.width,color:{dark:this.colorDark,light:this.colorLight}})}toCanvas(t){return YM.toCanvas(t,this.value,{version:this.version,errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,width:this.width,color:{dark:this.colorDark,light:this.colorLight}})}renderElement(t){this.removeElementChildren(),this.renderer.appendChild(this.qrcElement.nativeElement,t)}removeElementChildren(){for(const t of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,t)}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngx-qrcode"]],viewQuery:function(t,r){if(1&t&&u.Gf(ZN,5),2&t){let o;u.iGM(o=u.CRH())&&(r.qrcElement=o.first)}},inputs:{elementType:"elementType",cssClass:"cssClass",value:"value",version:"version",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",scale:"scale",width:"width",colorDark:"colorDark",colorLight:"colorLight",alt:"alt"},features:[u.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(t,r){1&t&&u._UZ(0,"div",null,0),2&t&&u.Tol(r.cssClass)},encapsulation:2,changeDetection:0}),za([(0,u.IIB)()],n.prototype,"elementType",void 0),za([(0,u.IIB)()],n.prototype,"cssClass",void 0),za([(0,u.IIB)()],n.prototype,"alt",void 0),za([(0,u.IIB)()],n.prototype,"value",void 0),za([(0,u.IIB)()],n.prototype,"version",void 0),za([(0,u.IIB)()],n.prototype,"errorCorrectionLevel",void 0),za([(0,u.IIB)()],n.prototype,"margin",void 0),za([(0,u.IIB)()],n.prototype,"scale",void 0),za([(0,u.IIB)()],n.prototype,"width",void 0),za([(0,u.IIB)()],n.prototype,"colorDark",void 0),za([(0,u.IIB)()],n.prototype,"colorLight",void 0),za([(0,u.i9L)("qrcElement")],n.prototype,"qrcElement",void 0),n})(),zN=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function qN(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",3)(1,"div",4),u._UZ(2,"img",5),u.TgZ(3,"div",6)(4,"h3",7),u._uU(5),u.ALo(6,"uppercase"),u.ALo(7,"uppercase"),u.qZA(),u._UZ(8,"ngx-qrcode",8),u.TgZ(9,"button",9),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw().funcion(l)}),u._uU(10,"Informacion"),u.qZA()()()()}if(2&n){const t=e.$implicit,r=u.oxw();u.xp6(2),u.s9C("src",t.imagen,u.LSH),u.xp6(3),u.AsE("",u.lcZ(6,6,t.marca)," ",u.lcZ(7,8,t.nombre_coche)," "),u.xp6(3),u.s9C("value",t.url),u.Q6J("elementType",r.elementType)("errorCorrectionLevel",r.correctionLevel)}}let WN=(()=>{class n{constructor(t){this.servicio=t,this.principal=[],this.array=[],this.elementType=qf.URL,this.correctionLevel=hm.HIGH,this.value=""}funcion(t){this.elementType=qf.URL,this.correctionLevel=hm.HIGH;const r=t.anio,o=t.color;this.value=t.url;const l=t.sucursal,d=t.tipo,g=t.transmision;console.log("<div class='col'><ngx-qrcode [elementType]='"+this.elementType+"' [errorCorrectionLevel]='"+this.correctionLevel+"' [value]='"+this.value+"'cssClass='bshadow'></ngx-qrcode>"),bn().fire({title:"<strong><u>Detalles</u></strong>",html:"<div ><h3>Sucursal: "+l+"</h3><h3>A\xf1o: "+r+"</h3><h3>Color: "+o+"</h3><h3>Transmision: "+g+"</h3><h3>Tipo: "+d+"</h3></div>",showCloseButton:!0,showCancelButton:!1,focusConfirm:!1,confirmButtonText:'<i class="fa fa-thumbs-up"></i> OK',confirmButtonAriaLabel:"Thumbs up, great!"})}ngOnInit(){this.servicio.getAutos().subscribe(t=>{console.log(t),this.principal=t;for(let r of this.principal)"true"==r.disponibilidad&&this.array.push(r)}),console.log(this.array)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zf))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-renta-miembro"]],decls:3,vars:1,consts:[[1,"container"],[1,"row","g-3"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4"],[1,"card"],["alt","",1,"card-img-top",3,"src"],[1,"card-body","text-center"],[1,"card-title","text-center"],["cssClass","bshadow",1,"text-center",3,"elementType","errorCorrectionLevel","value"],["type","button",1,"btn","btn-success",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,qN,11,10,"div",2),u.qZA()()),2&t&&(u.xp6(2),u.Q6J("ngForOf",r.array))},directives:[Mn,GN],pipes:[Ya],styles:[".container[_ngcontent-%COMP%]{margin-top:2%}"]}),n})(),QM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-mantenimiento-vehiculo"]],decls:2,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"mantenimiento-vehiculo works!"),u.qZA())},styles:["table[_ngcontent-%COMP%]{vertical-align:middle;font-size:18px;background-color:#84caca}"]}),n})(),KN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-disponibilidad"]],decls:2,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"disponibilidad works!"),u.qZA())},styles:[""]}),n})();function YN(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._UZ(16,"img",4),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.sucursal),u.xp6(2),u.Oqu(t.nombre_coche),u.xp6(2),u.Oqu(t.marca),u.xp6(2),u.Oqu(t.anio),u.xp6(2),u.Oqu(t.tipo),u.xp6(2),u.Oqu(t.transmision),u.xp6(2),u.Oqu(t.color),u.xp6(2),u.s9C("src",t.imagen,u.LSH)}}let QN=(()=>{class n{constructor(t){this.servicio=t,this.principal=[],this.array=[],this.servicio.getAutos().subscribe(r=>{console.log(r),this.principal=r;for(let o of this.principal)"true"==o.mantenimiento&&this.array.push(o)})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zf))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-consultaman"]],decls:22,vars:1,consts:[[1,"container"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["height","150","width","150",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),u._uU(5,"Sucursal"),u.qZA(),u.TgZ(6,"th",2),u._uU(7,"Nombre De Coche"),u.qZA(),u.TgZ(8,"th",2),u._uU(9,"Marca"),u.qZA(),u.TgZ(10,"th",2),u._uU(11,"A\xf1o"),u.qZA(),u.TgZ(12,"th",2),u._uU(13,"Tipo"),u.qZA(),u.TgZ(14,"th",2),u._uU(15,"Transmision"),u.qZA(),u.TgZ(16,"th",2),u._uU(17,"Color"),u.qZA(),u.TgZ(18,"th",2),u._uU(19,"Imagen"),u.qZA()()(),u.TgZ(20,"tbody"),u.YNc(21,YN,17,8,"tr",3),u.qZA()()()),2&t&&(u.xp6(21),u.Q6J("ngForOf",r.array))},directives:[Mn],styles:["table[_ngcontent-%COMP%]{vertical-align:middle;font-size:18px;background-color:#84caca}"]}),n})();function JN(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.nombre),u.xp6(2),u.Oqu(t.apellido),u.xp6(2),u.Oqu(t.direccion),u.xp6(2),u.Oqu(t.telefono),u.xp6(2),u.Oqu(t.edad),u.xp6(2),u.Oqu(t.email)}}let XN=(()=>{class n{constructor(t){this.rolesService=t,this.array=[],this.array2=[]}ngOnInit(){this.rolesService.getRoles().subscribe(t=>{this.array2=t,console.log("jala"+t);for(let r of this.array2)console.log("i es "+r.rol),"2"===r.rol&&(console.log("entro"),this.array.push(r));console.log("aux"+this.array)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xE))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-listam"]],decls:20,vars:1,consts:[[1,"container"],[1,"table","rounded"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h3"),u._uU(2,"MIEMBROS ACTIVOS"),u.qZA(),u.TgZ(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),u._uU(7,"Nombre"),u.qZA(),u.TgZ(8,"th",2),u._uU(9,"Apellido"),u.qZA(),u.TgZ(10,"th",2),u._uU(11,"Direccion"),u.qZA(),u.TgZ(12,"th",2),u._uU(13,"Telefono"),u.qZA(),u.TgZ(14,"th",2),u._uU(15,"Edad"),u.qZA(),u.TgZ(16,"th",2),u._uU(17,"Email"),u.qZA()()(),u.TgZ(18,"tbody"),u.YNc(19,JN,13,6,"tr",3),u.qZA()()()),2&t&&(u.xp6(19),u.Q6J("ngForOf",r.array))},directives:[Mn],styles:["table[_ngcontent-%COMP%]{vertical-align:middle;font-size:18px;background-color:#84caca}h3[_ngcontent-%COMP%]{color:#fff}"]}),n})();function e2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._UZ(16,"img",4),u.qZA(),u.TgZ(17,"td")(18,"button",5),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw().buscar(l)}),u._uU(19,"Rentar"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.sucursal),u.xp6(2),u.Oqu(t.nombre_coche),u.xp6(2),u.Oqu(t.marca),u.xp6(2),u.Oqu(t.anio),u.xp6(2),u.Oqu(t.tipo),u.xp6(2),u.Oqu(t.transmision),u.xp6(2),u.Oqu(t.color),u.xp6(2),u.s9C("src",t.imagen,u.LSH)}}let t2=(()=>{class n{constructor(t){this.servicio=t,this.principal=[],this.array=[],this.aux=" d",this.servicio.getAutos().subscribe(r=>{console.log(r),this.principal=r})}ngOnInit(){}buscar(t){this.servicio.getVehiculosSucursal(t.id).subscribe(r=>{console.log("esto traigo"+(null==r?void 0:r.anio))})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zf))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-detalle-vehiculo"]],decls:22,vars:1,consts:[[1,"container"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["height","150","width","150",3,"src"],["type","button",1,"btn","btn-success",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),u._uU(5,"Sucursal"),u.qZA(),u.TgZ(6,"th",2),u._uU(7,"Nombre De Coche"),u.qZA(),u.TgZ(8,"th",2),u._uU(9,"Marca"),u.qZA(),u.TgZ(10,"th",2),u._uU(11,"A\xf1o"),u.qZA(),u.TgZ(12,"th",2),u._uU(13,"Tipo"),u.qZA(),u.TgZ(14,"th",2),u._uU(15,"Transmision"),u.qZA(),u.TgZ(16,"th",2),u._uU(17,"Color"),u.qZA(),u.TgZ(18,"th",2),u._uU(19,"Imagen"),u.qZA()()(),u.TgZ(20,"tbody"),u.YNc(21,e2,20,8,"tr",3),u.qZA()()()),2&t&&(u.xp6(21),u.Q6J("ngForOf",r.principal))},directives:[Mn],styles:["table[_ngcontent-%COMP%]{vertical-align:middle;font-size:18px;background-color:#84caca}"]}),n})();function n2(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._UZ(16,"img",4),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.sucursal),u.xp6(2),u.Oqu(t.nombre_coche),u.xp6(2),u.Oqu(t.marca),u.xp6(2),u.Oqu(t.anio),u.xp6(2),u.Oqu(t.tipo),u.xp6(2),u.Oqu(t.transmision),u.xp6(2),u.Oqu(t.color),u.xp6(2),u.s9C("src",t.imagen,u.LSH)}}let r2=(()=>{class n{constructor(t){this.servicio=t,this.principal=[],this.array=[]}ngOnInit(){this.servicio.getAutos().subscribe(t=>{console.log(t),this.principal=t;for(let r of this.principal)"true"==r.disponibilidad&&this.array.push(r)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zf))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-autos-disponibles"]],decls:22,vars:1,consts:[[1,"container"],[1,"table","table-striped","text-center"],["scope","col"],[4,"ngFor","ngForOf"],["height","150","width","150",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),u._uU(5,"Sucursal"),u.qZA(),u.TgZ(6,"th",2),u._uU(7,"Nombre De Coche"),u.qZA(),u.TgZ(8,"th",2),u._uU(9,"Marca"),u.qZA(),u.TgZ(10,"th",2),u._uU(11,"A\xf1o"),u.qZA(),u.TgZ(12,"th",2),u._uU(13,"Tipo"),u.qZA(),u.TgZ(14,"th",2),u._uU(15,"Transmision"),u.qZA(),u.TgZ(16,"th",2),u._uU(17,"Color"),u.qZA(),u.TgZ(18,"th",2),u._uU(19,"Imagen"),u.qZA()()(),u.TgZ(20,"tbody"),u.YNc(21,n2,17,8,"tr",3),u.qZA()()()),2&t&&(u.xp6(21),u.Q6J("ngForOf",r.array))},directives:[Mn],styles:["table[_ngcontent-%COMP%]{vertical-align:middle;font-size:18px;background-color:#84caca}"]}),n})();const i2=[{path:"",pathMatch:"full",redirectTo:"/home"},Object.assign({path:"admin",component:Qk},mo(()=>yo(["/home"]))),{path:"home",component:hC},{path:"registro",component:qk},{path:"login",component:Zk},{path:"contacto",component:zM},{path:"faq",component:FN},{path:"miembro",component:Jk},Object.assign({path:"alta",component:RM},mo(()=>yo(["/home"]))),Object.assign({path:"grafica",component:LN},mo(()=>yo(["/home"]))),Object.assign({path:"baja",component:qM},mo(()=>yo(["/home"]))),Object.assign({path:"dispaut",component:r2},mo(()=>yo(["/home"]))),{path:"contacto",component:zM},Object.assign({path:"renta",component:WN},mo(()=>yo(["/home"]))),Object.assign({path:"alta",component:RM},mo(()=>yo(["/home"]))),Object.assign({path:"baja",component:qM},mo(()=>yo(["/home"]))),Object.assign({path:"rentadmin",component:$N},mo(()=>yo(["/home"]))),{path:"mantenimiento",component:QM},Object.assign({path:"disponibilidad",component:KN},mo(()=>yo(["/home"]))),Object.assign({path:"consultaman",component:QN},mo(()=>yo(["/home"]))),Object.assign({path:"lista",component:XN},mo(()=>yo(["/home"]))),Object.assign({path:"mantenimiento",component:QM},mo(()=>yo(["/home"]))),Object.assign({path:"detalle",component:t2},mo(()=>yo(["/home"])))];let s2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Dh.forRoot(i2)],Dh]}),n})();function o2(n,e){1&n&&(u.TgZ(0,"div")(1,"li",22)(2,"a",23),u._uU(3," Gestionar "),u.qZA(),u.TgZ(4,"ul",24)(5,"li")(6,"a",25),u._uU(7,"A\xf1adir Vehiculo"),u.qZA()(),u.TgZ(8,"li")(9,"a",26),u._uU(10,"Dar Vehiculo de baja"),u.qZA()(),u.TgZ(11,"li")(12,"a",27),u._uU(13,"Rentar Vehiculo"),u.qZA()()()()())}function a2(n,e){1&n&&(u.TgZ(0,"div")(1,"li",22)(2,"a",28),u._uU(3," Consultas "),u.qZA(),u.TgZ(4,"ul",24)(5,"li")(6,"a",29),u._uU(7,"Autos Disponibles"),u.qZA()(),u.TgZ(8,"li")(9,"a",30),u._uU(10,"Miembros Activos"),u.qZA()(),u.TgZ(11,"li")(12,"a",31),u._uU(13,"Vehiculos en Mantenimiento"),u.qZA()()()()())}const u2=function(){return["/renta"]};function l2(n,e){1&n&&(u.TgZ(0,"div")(1,"li",8)(2,"a",32),u._uU(3,"Rentar"),u.qZA()()()),2&n&&(u.xp6(2),u.Q6J("routerLink",u.DdM(1,u2)))}function c2(n,e){if(1&n&&(u.TgZ(0,"span",33),u._uU(1),u.ALo(2,"async"),u.qZA()),2&n){const t=u.oxw();let r;u.xp6(1),u.hij("",null==(r=u.lcZ(2,1,t.selectedRol$))?null:r.email," ")}}function d2(n,e){1&n&&(u.TgZ(0,"div")(1,"div",34)(2,"button",35),u.O4$(),u.TgZ(3,"svg",36),u._UZ(4,"path",37)(5,"path",38),u.qZA(),u._uU(6," Iniciar Sesion "),u.qZA()()())}function h2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"div",34)(2,"button",39),u.NdJ("click",function(){return u.CHM(t),u.oxw().salir()}),u.O4$(),u.TgZ(3,"svg",40),u._UZ(4,"path",41)(5,"path",42),u.qZA(),u._uU(6," Cerrar Sesion "),u.qZA()()()}}function f2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"div",34)(2,"button",39),u.NdJ("click",function(){return u.CHM(t),u.oxw().salir()}),u.O4$(),u.TgZ(3,"svg",40),u._UZ(4,"path",41)(5,"path",42),u.qZA(),u._uU(6," Cerrar Sesion "),u.qZA()()()}}const p2=function(){return["home"]},g2=function(){return["/home"]},m2=function(){return["/contacto"]},y2=function(){return["/faq"]};let v2=(()=>{class n{constructor(t,r,o,l){this.servicio=t,this.router=r,this.rolesService=o,this.userService=l,this.userLogged=this.rolesService.getUserLog(),this.auxiliar4=1,this.renovar={email:"texto",rol:3},this.admin=!0,this.selectedRol$=this.servicio.selectedRol$,this.voices=[],this.selectedVoice=null}ngOnInit(){this.voices=speechSynthesis.getVoices(),this.selectedVoice=this.voices[0]||null,this.voices.length||speechSynthesis.addEventListener("voiceschanged",()=>{this.voices=speechSynthesis.getVoices(),this.selectedVoice=this.voices[0]||null})}funcion3(){this.auxiliar4=2,console.log("si entreee"+this,this.auxiliar4)}speak(){var t,r,o;let v=(null===(t=document.getElementById("a1"))||void 0===t?void 0:t.innerHTML)+";"+(null===(r=document.getElementById("a2"))||void 0===r?void 0:r.innerHTML)+";"+(null===(o=document.getElementById("a3"))||void 0===o?void 0:o.innerHTML);!this.selectedVoice||!v||(this.stop(),console.log(this.selectedVoice),this.synthesizeSpeechFromText(this.selectedVoice,1,v))}stop(){speechSynthesis.speaking&&speechSynthesis.cancel()}synthesizeSpeechFromText(t,r,o){var l=new SpeechSynthesisUtterance(o);l.voice=this.selectedVoice,l.rate=1,speechSynthesis.speak(l)}salir(){this.renovar.email="string",this.renovar.rol=3,console.log(this.renovar),this.servicio.setRol(this.renovar),this.userService.logout().then(()=>{window.location.reload(),this.auxiliar4=1}).catch(t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(SE),u.Y36(ir),u.Y36(xE),u.Y36(Yh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:40,vars:29,consts:[["id","navbar",1,"navbar","navbar-expand-lg","navbar-dark"],["id","opciones",1,"container"],["href","#",1,"navbar-brand",3,"routerLink"],["src","../../../assets/img/logo-500.png","width","100","height","50","alt",""],["type","button","id","b1","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["id","a1","aria-current","page","href","#",1,"nav-link","active",3,"routerLink"],["id","a2","aria-current","page","href","#",1,"nav-link","active",3,"routerLink"],["id","a3","aria-current","page","href","#",1,"nav-link","active",3,"routerLink"],[4,"ngIf"],["id","nomusu",1,"container"],["id","a4",4,"ngIf"],["id","c2",1,"container-fluid"],[1,"form-actions"],["type","button","id","b1",1,"btn","btn-dark",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eyeglasses"],["d","M4 6a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm2.625.547a3 3 0 0 0-5.584.953H.5a.5.5 0 0 0 0 1h.541A3 3 0 0 0 7 8a1 1 0 0 1 2 0 3 3 0 0 0 5.959.5h.541a.5.5 0 0 0 0-1h-.541a3 3 0 0 0-5.584-.953A1.993 1.993 0 0 0 8 6c-.532 0-1.016.208-1.375.547zM14 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-stop-fill"],["d","M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5z"],[1,"nav-item","dropdown"],["id","a5","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["routerLink","/alta",1,"dropdown-item"],["routerLink","/baja",1,"dropdown-item"],["routerLink","/rentadmin",1,"dropdown-item"],["id","a6","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["routerLink","/dispaut",1,"dropdown-item"],["routerLink","/lista",1,"dropdown-item"],["routerLink","/consultaman",1,"dropdown-item"],["id","a7","aria-current","page","href","#",1,"nav-link","active",3,"routerLink"],["id","a4"],[1,"miembro"],["routerLink","/login","type","button","id","bmiembro",1,"btn","btn-outline-light"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-circle"],["d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"],["type","button","id","bmiembro",1,"btn","btn-outline-light",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-left"],["fill-rule","evenodd","d","M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"],["fill-rule","evenodd","d","M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"]],template:function(t,r){if(1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"button",4),u._UZ(5,"span",5),u.qZA(),u.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),u._uU(10,"Home "),u.qZA()(),u.TgZ(11,"li",8)(12,"a",10),u._uU(13,"Contacto"),u.qZA()(),u.TgZ(14,"li",8)(15,"a",11),u._uU(16,"FAQ's"),u.qZA()(),u.YNc(17,o2,14,0,"div",12),u.ALo(18,"async"),u.YNc(19,a2,14,0,"div",12),u.ALo(20,"async"),u.YNc(21,l2,4,2,"div",12),u.ALo(22,"async"),u.qZA()(),u.TgZ(23,"div",13),u.YNc(24,c2,3,3,"span",14),u.ALo(25,"async"),u.qZA()(),u.TgZ(26,"div",15),u.YNc(27,d2,7,0,"div",12),u.ALo(28,"async"),u.YNc(29,h2,7,0,"div",12),u.ALo(30,"async"),u.YNc(31,f2,7,0,"div",12),u.ALo(32,"async"),u.TgZ(33,"div",16)(34,"button",17),u.NdJ("click",function(){return r.speak()}),u.O4$(),u.TgZ(35,"svg",18),u._UZ(36,"path",19),u.qZA()(),u.kcU(),u.TgZ(37,"button",17),u.NdJ("click",function(){return r.stop()}),u.O4$(),u.TgZ(38,"svg",20),u._UZ(39,"path",21),u.qZA()()()()()),2&t){let o,l,d,g,v,D;u.xp6(2),u.Q6J("routerLink",u.DdM(25,p2)),u.xp6(7),u.Q6J("routerLink",u.DdM(26,g2)),u.xp6(3),u.Q6J("routerLink",u.DdM(27,m2)),u.xp6(3),u.Q6J("routerLink",u.DdM(28,y2)),u.xp6(2),u.Q6J("ngIf",1==(null==(o=u.lcZ(18,11,r.selectedRol$))?null:o.rol)),u.xp6(2),u.Q6J("ngIf",1==(null==(l=u.lcZ(20,13,r.selectedRol$))?null:l.rol)),u.xp6(2),u.Q6J("ngIf",2==(null==(d=u.lcZ(22,15,r.selectedRol$))?null:d.rol)),u.xp6(3),u.Q6J("ngIf",u.lcZ(25,17,r.userLogged)),u.xp6(3),u.Q6J("ngIf",3==(null==(g=u.lcZ(28,19,r.selectedRol$))?null:g.rol)),u.xp6(2),u.Q6J("ngIf",1==(null==(v=u.lcZ(30,21,r.selectedRol$))?null:v.rol)),u.xp6(2),u.Q6J("ngIf",2==(null==(D=u.lcZ(32,23,r.selectedRol$))?null:D.rol))}},directives:[pp,br,Ih],pipes:[Ka],styles:["#a1[_ngcontent-%COMP%], #a2[_ngcontent-%COMP%], #a3[_ngcontent-%COMP%], #a5[_ngcontent-%COMP%], #a6[_ngcontent-%COMP%], #a7[_ngcontent-%COMP%]{color:#0b4d57;font-size:20px}#a1[_ngcontent-%COMP%]:hover, #a2[_ngcontent-%COMP%]:hover, #a3[_ngcontent-%COMP%]:hover, #a5[_ngcontent-%COMP%]:hover, #a6[_ngcontent-%COMP%]:hover, #a7[_ngcontent-%COMP%]:hover{color:#fff}.dropdown-menu[_ngcontent-%COMP%]{background-color:#106f7e}img[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}#b1[_ngcontent-%COMP%]{margin:2px;border-radius:25px;background-color:#0b4d57}#b1[_ngcontent-%COMP%]:hover{color:#106f7e}#bmiembro[_ngcontent-%COMP%]:hover{color:#0b4d57}#c2[_ngcontent-%COMP%]{width:31%}@media (max-width: 991px){li[_ngcontent-%COMP%]{text-align:center}#c2[_ngcontent-%COMP%]{width:100%}#nomusu[_ngcontent-%COMP%]{margin-bottom:5%;text-align:left}#opciones[_ngcontent-%COMP%]{text-align:center}}#navbar[_ngcontent-%COMP%]{background-color:#17a2b8}#nomusu[_ngcontent-%COMP%]{text-align:center;margin:0;padding:0}#a4[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle}"]}),n})(),_2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:18,vars:0,consts:[[1,"foot"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","py-3","my-4"],["id","copy",1,"col-md-4","d-flex","align-items-center"],[1,"text"],["id","redes",1,"nav","col-md-4","justify-content-end","list-unstyled","d-flex"],[1,"ms-3"],["href","#",1,"text"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","white","viewBox","0 0 16 16",1,"bi","bi-twitter"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","white","viewBox","0 0 16 16",1,"bi","bi-instagram"],["d","M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","white","viewBox","0 0 16 16",1,"bi","bi-facebook"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"footer",1)(2,"div",2)(3,"span",3),u._uU(4,"\xa9 2022 Zivory, Inc"),u.qZA()(),u.TgZ(5,"ul",4)(6,"li",5)(7,"a",6),u.O4$(),u.TgZ(8,"svg",7),u._UZ(9,"path",8),u.qZA()()(),u.kcU(),u.TgZ(10,"li",5)(11,"a",6),u.O4$(),u.TgZ(12,"svg",9),u._UZ(13,"path",10),u.qZA()()(),u.kcU(),u.TgZ(14,"li",5)(15,"a",6),u.O4$(),u.TgZ(16,"svg",11),u._UZ(17,"path",12),u.qZA()()()()()())},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}footer[_ngcontent-%COMP%]{background-color:#0b4d57;border-top:1px solid gray;color:#fff;width:190vh}.foot[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})(),w2=(()=>{class n{constructor(){this.title="FinalV2"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&u._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},directives:[v2,Jl,_2],styles:[""]}),n})();const zA_firebase={projectId:"proyectofinal-d8123",appId:"1:1031447488147:web:c6fadc5fbcc6b328c7cf66",storageBucket:"proyectofinal-d8123.appspot.com",locationId:"us-central",apiKey:"AIzaSyBn0WGrx2Z7K6_-xwmsvlsA_CcayyYGp-A",authDomain:"proyectofinal-d8123.firebaseapp.com",messagingSenderId:"1031447488147"};let b2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[w2]}),n.\u0275inj=u.cJS({providers:[],imports:[[su,s2,Xo,Fp,NN,zN,ra.hO.initializeApp(zA_firebase),ea(()=>A0(zA_firebase)),cw(()=>dw()),Vk(()=>jk())]]}),n})();(0,u.G48)(),iu().bootstrapModule(b2).catch(n=>console.error(n))},4901:Ze=>{"use strict";var H={single_source_shortest_paths:function(M,u,R){var A={},L={};L[u]=0;var Z,W,G,le,z,X,B=H.PriorityQueue.make();for(B.push(u,0);!B.empty();)for(G in le=(Z=B.pop()).cost,z=M[W=Z.value]||{})z.hasOwnProperty(G)&&(X=le+z[G],(void 0===L[G]||L[G]>X)&&(L[G]=X,B.push(G,X),A[G]=W));if(void 0!==R&&void 0===L[R]){var Ae=["Could not find a path from ",u," to ",R,"."].join("");throw new Error(Ae)}return A},extract_shortest_path_from_predecessor_list:function(M,u){for(var R=[],A=u;A;)R.push(A),A=M[A];return R.reverse(),R},find_path:function(M,u,R){var A=H.single_source_shortest_paths(M,u,R);return H.extract_shortest_path_from_predecessor_list(A,R)},PriorityQueue:{make:function(M){var A,u=H.PriorityQueue,R={};for(A in M=M||{},u)u.hasOwnProperty(A)&&(R[A]=u[A]);return R.queue=[],R.sorter=M.sorter||u.default_sorter,R},default_sorter:function(M,u){return M.cost-u.cost},push:function(M,u){this.queue.push({value:M,cost:u}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};Ze.exports=H},8419:Ze=>{"use strict";Ze.exports=function(M){for(var u=[],R=M.length,A=0;A<R;A++){var L=M.charCodeAt(A);if(L>=55296&&L<=56319&&R>A+1){var B=M.charCodeAt(A+1);B>=56320&&B<=57343&&(L=1024*(L-55296)+B-56320+65536,A+=1)}L<128?u.push(L):L<2048?(u.push(L>>6|192),u.push(63&L|128)):L<55296||L>=57344&&L<65536?(u.push(L>>12|224),u.push(L>>6&63|128),u.push(63&L|128)):L>=65536&&L<=1114111?(u.push(L>>18|240),u.push(L>>12&63|128),u.push(L>>6&63|128),u.push(63&L|128)):u.push(239,191,189)}return new Uint8Array(u).buffer}},5867:(Ze,H,M)=>{"use strict";M.d(H,{Mq:()=>u.getApp,C6:()=>u.getApps,ZF:()=>u.initializeApp,KN:()=>u.registerVersion});var u=M(9681);(0,u.registerVersion)("firebase","9.8.3","app")},127:(Ze,H,M)=>{"use strict";M.d(H,{Z:()=>u.Z});var u=M(3942);u.Z.registerVersion("firebase","9.8.3","app-compat")},5881:(Ze,H,M)=>{"use strict";M.r(H);var u=M(5861),R=M(3942),A=M(2309),L=M(2090),W=(M(9681),M(1877),M(4859));function G(){return window}function K(){return(K=(0,u.Z)(function*(Ie,he,ae){var Be;const{BuildInfo:tt}=G();(0,A.aq)(he.sessionId,"AuthEvent did not contain a session ID");const yt=yield Ee(he.sessionId),kt={};return(0,A.ar)()?kt.ibi=tt.packageName:(0,A.as)()?kt.apn=tt.packageName:(0,A.at)(Ie,"operation-not-supported-in-this-environment"),tt.displayName&&(kt.appDisplayName=tt.displayName),kt.sessionId=yt,(0,A.au)(Ie,ae,he.type,void 0,null!==(Be=he.eventId)&&void 0!==Be?Be:void 0,kt)})).apply(this,arguments)}function Se(){return(Se=(0,u.Z)(function*(Ie){const{BuildInfo:he}=G(),ae={};(0,A.ar)()?ae.iosBundleId=he.packageName:(0,A.as)()?ae.androidPackageName=he.packageName:(0,A.at)(Ie,"operation-not-supported-in-this-environment"),yield(0,A.av)(Ie,ae)})).apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(Ie,he,ae){const{cordova:Be}=G();let tt=()=>{};try{yield new Promise((yt,kt)=>{let nn=null;function Kt(){var Ht;yt();const Pr=null===(Ht=Be.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof Pr&&Pr(),"function"==typeof(null==ae?void 0:ae.close)&&ae.close()}function Wn(){nn||(nn=window.setTimeout(()=>{kt((0,A.aw)(Ie,"redirect-cancelled-by-user"))},2e3))}function qr(){"visible"===(null==document?void 0:document.visibilityState)&&Wn()}he.addPassiveListener(Kt),document.addEventListener("resume",Wn,!1),(0,A.as)()&&document.addEventListener("visibilitychange",qr,!1),tt=()=>{he.removePassiveListener(Kt),document.removeEventListener("resume",Wn,!1),document.removeEventListener("visibilitychange",qr,!1),nn&&window.clearTimeout(nn)}})}finally{tt()}})).apply(this,arguments)}function Ee(Ie){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,u.Z)(function*(Ie){const he=Ve(Ie),ae=yield crypto.subtle.digest("SHA-256",he);return Array.from(new Uint8Array(ae)).map(tt=>tt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ve(Ie){if((0,A.aq)(/[0-9a-zA-Z]+/.test(Ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Ie);const he=new ArrayBuffer(Ie.length),ae=new Uint8Array(he);for(let Be=0;Be<Ie.length;Be++)ae[Be]=Ie.charCodeAt(Be);return ae}class Fe extends A.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(he=>{this.resolveInialized=he})}addPassiveListener(he){this.passiveListeners.add(he)}removePassiveListener(he){this.passiveListeners.delete(he)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(he){return this.resolveInialized(),this.passiveListeners.forEach(ae=>ae(he)),super.onEvent(he)}initialized(){var he=this;return(0,u.Z)(function*(){yield he.initPromise})()}}function se(Ie){return U.apply(this,arguments)}function U(){return(U=(0,u.Z)(function*(Ie){const he=yield ne()._get(ue(Ie));return he&&(yield ne()._remove(ue(Ie))),he})).apply(this,arguments)}function J(){const Ie=[],he="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ae=0;ae<20;ae++){const Be=Math.floor(Math.random()*he.length);Ie.push(he.charAt(Be))}return Ie.join("")}function ne(){return(0,A.ay)(A.b)}function ue(Ie){return(0,A.az)("authEvent",Ie.config.apiKey,Ie.name)}function ze(Ie){if(!(null==Ie?void 0:Ie.includes("?")))return{};const[he,...ae]=Ie.split("?");return(0,L.zd)(ae.join("?"))}function Xe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,A.aw)("no-auth-event")}}function xt(){var Ie;return(null===(Ie=null==self?void 0:self.location)||void 0===Ie?void 0:Ie.protocol)||null}function sn(Ie=(0,L.z$)()){return!("file:"!==xt()&&"ionic:"!==xt()&&"capacitor:"!==xt()||!Ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vr(){try{const Ie=self.localStorage,he=A.aI();if(Ie)return Ie.setItem(he,"1"),Ie.removeItem(he),!function ri(Ie=(0,L.z$)()){return function Pn(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function En(Ie=(0,L.z$)()){return/Edge\/\d+/.test(Ie)}(Ie)}()||(0,L.hl)()}catch(Ie){return Ur()&&(0,L.hl)()}return!1}function Ur(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function qn(){return(function Gt(){return"http:"===xt()||"https:"===xt()}()||(0,L.ru)()||sn())&&!function Nn(){return(0,L.b$)()||(0,L.UG)()}()&&Vr()&&!Ur()}function xr(){return sn()&&"undefined"!=typeof document}function Vn(){return(Vn=(0,u.Z)(function*(){return!!xr()&&new Promise(Ie=>{const he=setTimeout(()=>{Ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(he),Ie(!0)})})})).apply(this,arguments)}const Ft={LOCAL:"local",NONE:"none",SESSION:"session"},fr=A.ax,or="persistence";function _t(Ie){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(Ie){yield Ie._initializationPromise;const he=Ut(),ae=A.az(or,Ie.config.apiKey,Ie.name);he&&he.setItem(ae,Ie._getPersistence())})).apply(this,arguments)}function Ut(){var Ie;try{return(null===(Ie=function On(){return"undefined"!=typeof window?window:null}())||void 0===Ie?void 0:Ie.sessionStorage)||null}catch(he){return null}}const it=A.ax;class et{constructor(){this.browserResolver=A.ay(A.k),this.cordovaResolver=A.ay(class Qt{constructor(){this._redirectPersistence=A.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=A.aB,this._overrideRedirectResult=A.aC}_initialize(he){var ae=this;return(0,u.Z)(function*(){const Be=he._key();let tt=ae.eventManagers.get(Be);return tt||(tt=new Fe(he),ae.eventManagers.set(Be,tt),ae.attachCallbackListeners(he,tt)),tt})()}_openPopup(he){(0,A.at)(he,"operation-not-supported-in-this-environment")}_openRedirect(he,ae,Be,tt){var yt=this;return(0,u.Z)(function*(){!function _e(Ie){var he,ae,Be,tt,yt,kt,nn,Kt,Wn,qr;const Ht=G();(0,A.ax)("function"==typeof(null===(he=null==Ht?void 0:Ht.universalLinks)||void 0===he?void 0:he.subscribe),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,A.ax)(void 0!==(null===(ae=null==Ht?void 0:Ht.BuildInfo)||void 0===ae?void 0:ae.packageName),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,A.ax)("function"==typeof(null===(yt=null===(tt=null===(Be=null==Ht?void 0:Ht.cordova)||void 0===Be?void 0:Be.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===yt?void 0:yt.openUrl),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.ax)("function"==typeof(null===(Kt=null===(nn=null===(kt=null==Ht?void 0:Ht.cordova)||void 0===kt?void 0:kt.plugins)||void 0===nn?void 0:nn.browsertab)||void 0===Kt?void 0:Kt.isAvailable),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.ax)("function"==typeof(null===(qr=null===(Wn=null==Ht?void 0:Ht.cordova)||void 0===Wn?void 0:Wn.InAppBrowser)||void 0===qr?void 0:qr.open),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(he);const kt=yield yt._initialize(he);yield kt.initialized(),kt.resetRedirect(),(0,A.aD)(),yield yt._originValidation(he);const nn=function ge(Ie,he,ae=null){return{type:he,eventId:ae,urlResponse:null,sessionId:J(),postBody:null,tenantId:Ie.tenantId,error:(0,A.aw)(Ie,"no-auth-event")}}(he,Be,tt);yield function Ne(Ie,he){return ne()._set(ue(Ie),he)}(he,nn);const Kt=yield function z(Ie,he,ae){return K.apply(this,arguments)}(he,nn,ae),Wn=yield function De(Ie){const{cordova:he}=G();return new Promise(ae=>{he.plugins.browsertab.isAvailable(Be=>{let tt=null;Be?he.plugins.browsertab.openUrl(Ie):tt=he.InAppBrowser.open(Ie,(0,A.ap)()?"_blank":"_system","location=yes"),ae(tt)})})}(Kt);return function Ae(Ie,he,ae){return Je.apply(this,arguments)}(he,kt,Wn)})()}_isIframeWebStorageSupported(he,ae){throw new Error("Method not implemented.")}_originValidation(he){const ae=he._key();return this.originValidationPromises[ae]||(this.originValidationPromises[ae]=function X(Ie){return Se.apply(this,arguments)}(he)),this.originValidationPromises[ae]}attachCallbackListeners(he,ae){const{universalLinks:Be,handleOpenURL:tt,BuildInfo:yt}=G(),kt=setTimeout((0,u.Z)(function*(){yield se(he),ae.onEvent(Xe())}),500),nn=function(){var qr=(0,u.Z)(function*(Ht){clearTimeout(kt);const Pr=yield se(he);let Pi=null;Pr&&(null==Ht?void 0:Ht.url)&&(Pi=function ve(Ie,he){var ae,Be;const tt=function be(Ie){const he=ze(Ie),ae=he.link?decodeURIComponent(he.link):void 0,Be=ze(ae).link,tt=he.deep_link_id?decodeURIComponent(he.deep_link_id):void 0;return ze(tt).link||tt||Be||ae||Ie}(he);if(tt.includes("/__/auth/callback")){const yt=ze(tt),kt=yt.firebaseError?function de(Ie){try{return JSON.parse(Ie)}catch(he){return null}}(decodeURIComponent(yt.firebaseError)):null,nn=null===(Be=null===(ae=null==kt?void 0:kt.code)||void 0===ae?void 0:ae.split("auth/"))||void 0===Be?void 0:Be[1],Kt=nn?(0,A.aw)(nn):null;return Kt?{type:Ie.type,eventId:Ie.eventId,tenantId:Ie.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:Ie.type,eventId:Ie.eventId,tenantId:Ie.tenantId,sessionId:Ie.sessionId,urlResponse:tt,postBody:null}}return null}(Pr,Ht.url)),ae.onEvent(Pi||Xe())});return function(Pr){return qr.apply(this,arguments)}}();void 0!==Be&&"function"==typeof Be.subscribe&&Be.subscribe(null,nn);const Kt=tt,Wn=`${yt.packageName.toLowerCase()}://`;G().handleOpenURL=function(){var qr=(0,u.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(Wn)&&nn({url:Ht}),"function"==typeof Kt)try{Kt(Ht)}catch(Pr){console.error(Pr)}});return function(Ht){return qr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=A.a,this._completeRedirectFn=A.aB,this._overrideRedirectResult=A.aC}_initialize(he){var ae=this;return(0,u.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._initialize(he)})()}_openPopup(he,ae,Be,tt){var yt=this;return(0,u.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openPopup(he,ae,Be,tt)})()}_openRedirect(he,ae,Be,tt){var yt=this;return(0,u.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openRedirect(he,ae,Be,tt)})()}_isIframeWebStorageSupported(he,ae){this.assertedUnderlyingResolver._isIframeWebStorageSupported(he,ae)}_originValidation(he){return this.assertedUnderlyingResolver._originValidation(he)}get _shouldInitProactively(){return xr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return it(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var he=this;return(0,u.Z)(function*(){if(he.underlyingResolver)return;const ae=yield function ct(){return Vn.apply(this,arguments)}();he.underlyingResolver=ae?he.cordovaResolver:he.browserResolver})()}}function zr(Ie){return Ie.unwrap()}function St(Ie){return Un(Ie)}function Un(Ie){const{_tokenResponse:he}=Ie instanceof L.ZR?Ie.customData:Ie;if(!he)return null;if(!(Ie instanceof L.ZR)&&"temporaryProof"in he&&"phoneNumber"in he)return A.P.credentialFromResult(Ie);const ae=he.providerId;if(!ae||ae===A.o.PASSWORD)return null;let Be;switch(ae){case A.o.GOOGLE:Be=A.Q;break;case A.o.FACEBOOK:Be=A.N;break;case A.o.GITHUB:Be=A.T;break;case A.o.TWITTER:Be=A.W;break;default:const{oauthIdToken:tt,oauthAccessToken:yt,oauthTokenSecret:kt,pendingToken:nn,nonce:Kt}=he;return yt||kt||tt||nn?nn?ae.startsWith("saml.")?A.aL._create(ae,nn):A.J._fromParams({providerId:ae,signInMethod:ae,pendingToken:nn,idToken:tt,accessToken:yt}):new A.U(ae).credential({idToken:tt,accessToken:yt,rawNonce:Kt}):null}return Ie instanceof L.ZR?Be.credentialFromError(Ie):Be.credentialFromResult(Ie)}function yn(Ie,he){return he.catch(ae=>{throw ae instanceof L.ZR&&function Ri(Ie,he){var ae;const Be=null===(ae=he.customData)||void 0===ae?void 0:ae._tokenResponse;if("auth/multi-factor-auth-required"===he.code)he.resolver=new ce(Ie,A.an(Ie,he));else if(Be){const tt=Un(he),yt=he;tt&&(yt.credential=tt,yt.tenantId=Be.tenantId||void 0,yt.email=Be.email||void 0,yt.phoneNumber=Be.phoneNumber||void 0)}}(Ie,ae),ae}).then(ae=>{const tt=ae.user;return{operationType:ae.operationType,credential:St(ae),additionalUserInfo:A.al(ae),user:Oe.getOrCreate(tt)}})}function ee(Ie,he){return oe.apply(this,arguments)}function oe(){return(oe=(0,u.Z)(function*(Ie,he){const ae=yield he;return{verificationId:ae.verificationId,confirm:Be=>yn(Ie,ae.confirm(Be))}})).apply(this,arguments)}class ce{constructor(he,ae){this.resolver=ae,this.auth=function Rr(Ie){return Ie.wrapped()}(he)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(he){return yn(zr(this.auth),this.resolver.resolveSignIn(he))}}class Oe{constructor(he){this._delegate=he,this.multiFactor=A.ao(he)}static getOrCreate(he){return Oe.USER_MAP.has(he)||Oe.USER_MAP.set(he,new Oe(he)),Oe.USER_MAP.get(he)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(he){return this._delegate.getIdTokenResult(he)}getIdToken(he){return this._delegate.getIdToken(he)}linkAndRetrieveDataWithCredential(he){return this.linkWithCredential(he)}linkWithCredential(he){var ae=this;return(0,u.Z)(function*(){return yn(ae.auth,A.Z(ae._delegate,he))})()}linkWithPhoneNumber(he,ae){var Be=this;return(0,u.Z)(function*(){return ee(Be.auth,A.l(Be._delegate,he,ae))})()}linkWithPopup(he){var ae=this;return(0,u.Z)(function*(){return yn(ae.auth,A.d(ae._delegate,he,et))})()}linkWithRedirect(he){var ae=this;return(0,u.Z)(function*(){return yield _t(A.aE(ae.auth)),A.g(ae._delegate,he,et)})()}reauthenticateAndRetrieveDataWithCredential(he){return this.reauthenticateWithCredential(he)}reauthenticateWithCredential(he){var ae=this;return(0,u.Z)(function*(){return yn(ae.auth,A._(ae._delegate,he))})()}reauthenticateWithPhoneNumber(he,ae){return ee(this.auth,A.r(this._delegate,he,ae))}reauthenticateWithPopup(he){return yn(this.auth,A.e(this._delegate,he,et))}reauthenticateWithRedirect(he){var ae=this;return(0,u.Z)(function*(){return yield _t(A.aE(ae.auth)),A.h(ae._delegate,he,et)})()}sendEmailVerification(he){return A.ab(this._delegate,he)}unlink(he){var ae=this;return(0,u.Z)(function*(){return yield A.ak(ae._delegate,he),ae})()}updateEmail(he){return A.ag(this._delegate,he)}updatePassword(he){return A.ah(this._delegate,he)}updatePhoneNumber(he){return A.u(this._delegate,he)}updateProfile(he){return A.af(this._delegate,he)}verifyBeforeUpdateEmail(he,ae){return A.ac(this._delegate,he,ae)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Oe.USER_MAP=new WeakMap;const Y=A.ax;let me=(()=>{class Ie{constructor(ae,Be){if(this.app=ae,Be.isInitialized())return this._delegate=Be.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:tt}=ae.options;Y(tt,"invalid-api-key",{appName:ae.name}),Y(tt,"invalid-api-key",{appName:ae.name});const yt="undefined"!=typeof window?et:void 0;this._delegate=Be.initialize({options:{persistence:st(tt,ae.name),popupRedirectResolver:yt}}),this._delegate._updateErrorMap(A.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Oe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ae){this._delegate.languageCode=ae}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ae){this._delegate.tenantId=ae}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ae,Be){A.G(this._delegate,ae,Be)}applyActionCode(ae){return A.a2(this._delegate,ae)}checkActionCode(ae){return A.a3(this._delegate,ae)}confirmPasswordReset(ae,Be){return A.a1(this._delegate,ae,Be)}createUserWithEmailAndPassword(ae,Be){var tt=this;return(0,u.Z)(function*(){return yn(tt._delegate,A.a5(tt._delegate,ae,Be))})()}fetchProvidersForEmail(ae){return this.fetchSignInMethodsForEmail(ae)}fetchSignInMethodsForEmail(ae){return A.aa(this._delegate,ae)}isSignInWithEmailLink(ae){return A.a8(this._delegate,ae)}getRedirectResult(){var ae=this;return(0,u.Z)(function*(){Y(qn(),ae._delegate,"operation-not-supported-in-this-environment");const Be=yield A.j(ae._delegate,et);return Be?yn(ae._delegate,Promise.resolve(Be)):{credential:null,user:null}})()}addFrameworkForLogging(ae){!function Nt(Ie,he){(0,A.aE)(Ie)._logFramework(he)}(this._delegate,ae)}onAuthStateChanged(ae,Be,tt){const{next:yt,error:kt,complete:nn}=He(ae,Be,tt);return this._delegate.onAuthStateChanged(yt,kt,nn)}onIdTokenChanged(ae,Be,tt){const{next:yt,error:kt,complete:nn}=He(ae,Be,tt);return this._delegate.onIdTokenChanged(yt,kt,nn)}sendSignInLinkToEmail(ae,Be){return A.a7(this._delegate,ae,Be)}sendPasswordResetEmail(ae,Be){return A.a0(this._delegate,ae,Be||void 0)}setPersistence(ae){var Be=this;return(0,u.Z)(function*(){let tt;switch(function Mr(Ie,he){fr(Object.values(Ft).includes(he),Ie,"invalid-persistence-type"),(0,L.b$)()?fr(he!==Ft.SESSION,Ie,"unsupported-persistence-type"):(0,L.UG)()?fr(he===Ft.NONE,Ie,"unsupported-persistence-type"):Ur()?fr(he===Ft.NONE||he===Ft.LOCAL&&(0,L.hl)(),Ie,"unsupported-persistence-type"):fr(he===Ft.NONE||Vr(),Ie,"unsupported-persistence-type")}(Be._delegate,ae),ae){case Ft.SESSION:tt=A.a;break;case Ft.LOCAL:tt=(yield A.ay(A.i)._isAvailable())?A.i:A.b;break;case Ft.NONE:tt=A.L;break;default:return A.at("argument-error",{appName:Be._delegate.name})}return Be._delegate.setPersistence(tt)})()}signInAndRetrieveDataWithCredential(ae){return this.signInWithCredential(ae)}signInAnonymously(){return yn(this._delegate,A.X(this._delegate))}signInWithCredential(ae){return yn(this._delegate,A.Y(this._delegate,ae))}signInWithCustomToken(ae){return yn(this._delegate,A.$(this._delegate,ae))}signInWithEmailAndPassword(ae,Be){return yn(this._delegate,A.a6(this._delegate,ae,Be))}signInWithEmailLink(ae,Be){return yn(this._delegate,A.a9(this._delegate,ae,Be))}signInWithPhoneNumber(ae,Be){return ee(this._delegate,A.s(this._delegate,ae,Be))}signInWithPopup(ae){var Be=this;return(0,u.Z)(function*(){return Y(qn(),Be._delegate,"operation-not-supported-in-this-environment"),yn(Be._delegate,A.c(Be._delegate,ae,et))})()}signInWithRedirect(ae){var Be=this;return(0,u.Z)(function*(){return Y(qn(),Be._delegate,"operation-not-supported-in-this-environment"),yield _t(Be._delegate),A.f(Be._delegate,ae,et)})()}updateCurrentUser(ae){return this._delegate.updateCurrentUser(ae)}verifyPasswordResetCode(ae){return A.a4(this._delegate,ae)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ie.Persistence=Ft,Ie})();function He(Ie,he,ae){let Be=Ie;"function"!=typeof Ie&&({next:Be,error:he,complete:ae}=Ie);const tt=Be;return{next:kt=>tt(kt&&Oe.getOrCreate(kt)),error:he,complete:ae}}function st(Ie,he){const ae=function Or(Ie,he){const ae=Ut();if(!ae)return[];const Be=A.az(or,Ie,he);switch(ae.getItem(Be)){case Ft.NONE:return[A.L];case Ft.LOCAL:return[A.i,A.a];case Ft.SESSION:return[A.a];default:return[]}}(Ie,he);if("undefined"!=typeof self&&!ae.includes(A.i)&&ae.push(A.i),"undefined"!=typeof window)for(const Be of[A.b,A.a])ae.includes(Be)||ae.push(Be);return ae.includes(A.L)||ae.push(A.L),ae}class wt{constructor(){this.providerId="phone",this._delegate=new A.P(zr(R.Z.auth()))}static credential(he,ae){return A.P.credential(he,ae)}verifyPhoneNumber(he,ae){return this._delegate.verifyPhoneNumber(he,ae)}unwrap(){return this._delegate}}wt.PHONE_SIGN_IN_METHOD=A.P.PHONE_SIGN_IN_METHOD,wt.PROVIDER_ID=A.P.PROVIDER_ID;const Mt=A.ax;class vn{constructor(he,ae,Be=R.Z.app()){var tt;Mt(null===(tt=Be.options)||void 0===tt?void 0:tt.apiKey,"invalid-api-key",{appName:Be.name}),this._delegate=new A.R(he,ae,Be.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Xn(Ie){Ie.INTERNAL.registerComponent(new W.wA("auth-compat",he=>{const ae=he.getProvider("app-compat").getImmediate(),Be=he.getProvider("auth");return new me(ae,Be)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:A.A.EMAIL_SIGNIN,PASSWORD_RESET:A.A.PASSWORD_RESET,RECOVER_EMAIL:A.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:A.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:A.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:A.A.VERIFY_EMAIL}},EmailAuthProvider:A.M,FacebookAuthProvider:A.N,GithubAuthProvider:A.T,GoogleAuthProvider:A.Q,OAuthProvider:A.U,SAMLAuthProvider:A.V,PhoneAuthProvider:wt,PhoneMultiFactorGenerator:A.m,RecaptchaVerifier:vn,TwitterAuthProvider:A.W,Auth:me,AuthCredential:A.H,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ie.registerVersion("@firebase/auth-compat","0.2.16")}(R.Z)},3259:(Ze,H,M)=>{const u=M(8695),R=M(1465),A=M(3210),L=M(2334);function B(Z,W,G,le,z){const K=[].slice.call(arguments,1),X=K.length,Se="function"==typeof K[X-1];if(!Se&&!u())throw new Error("Callback required as last argument");if(!Se){if(X<1)throw new Error("Too few arguments provided");return 1===X?(G=W,W=le=void 0):2===X&&!W.getContext&&(le=G,G=W,W=void 0),new Promise(function(De,Ae){try{const Je=R.create(G,le);De(Z(Je,W,le))}catch(Je){Ae(Je)}})}if(X<2)throw new Error("Too few arguments provided");2===X?(z=G,G=W,W=le=void 0):3===X&&(W.getContext&&void 0===z?(z=le,le=void 0):(z=le,le=G,G=W,W=void 0));try{const De=R.create(G,le);z(null,Z(De,W,le))}catch(De){z(De)}}H.create=R.create,H.toCanvas=B.bind(null,A.render),H.toDataURL=B.bind(null,A.renderToDataURL),H.toString=B.bind(null,function(Z,W,G){return L.render(Z,G)})},8695:Ze=>{Ze.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(Ze,H,M)=>{const u=M(4792).getSymbolSize;H.getRowColCoords=function(A){if(1===A)return[];const L=Math.floor(A/7)+2,B=u(A),Z=145===B?26:2*Math.ceil((B-13)/(2*L-2)),W=[B-7];for(let G=1;G<L-1;G++)W[G]=W[G-1]-Z;return W.push(6),W.reverse()},H.getPositions=function(A){const L=[],B=H.getRowColCoords(A),Z=B.length;for(let W=0;W<Z;W++)for(let G=0;G<Z;G++)0===W&&0===G||0===W&&G===Z-1||W===Z-1&&0===G||L.push([B[W],B[G]]);return L}},2424:(Ze,H,M)=>{const u=M(4016),R=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function A(L){this.mode=u.ALPHANUMERIC,this.data=L}A.getBitsLength=function(B){return 11*Math.floor(B/2)+B%2*6},A.prototype.getLength=function(){return this.data.length},A.prototype.getBitsLength=function(){return A.getBitsLength(this.data.length)},A.prototype.write=function(B){let Z;for(Z=0;Z+2<=this.data.length;Z+=2){let W=45*R.indexOf(this.data[Z]);W+=R.indexOf(this.data[Z+1]),B.put(W,11)}this.data.length%2&&B.put(R.indexOf(this.data[Z]),6)},Ze.exports=A},2118:Ze=>{function H(){this.buffer=[],this.length=0}H.prototype={get:function(M){const u=Math.floor(M/8);return 1==(this.buffer[u]>>>7-M%8&1)},put:function(M,u){for(let R=0;R<u;R++)this.putBit(1==(M>>>u-R-1&1))},getLengthInBits:function(){return this.length},putBit:function(M){const u=Math.floor(this.length/8);this.buffer.length<=u&&this.buffer.push(0),M&&(this.buffer[u]|=128>>>this.length%8),this.length++}},Ze.exports=H},4425:Ze=>{function H(M){if(!M||M<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=M,this.data=new Uint8Array(M*M),this.reservedBit=new Uint8Array(M*M)}H.prototype.set=function(M,u,R,A){const L=M*this.size+u;this.data[L]=R,A&&(this.reservedBit[L]=!0)},H.prototype.get=function(M,u){return this.data[M*this.size+u]},H.prototype.xor=function(M,u,R){this.data[M*this.size+u]^=R},H.prototype.isReserved=function(M,u){return this.reservedBit[M*this.size+u]},Ze.exports=H},5663:(Ze,H,M)=>{const u=M(8419),R=M(4016);function A(L){this.mode=R.BYTE,this.data=new Uint8Array(u(L))}A.getBitsLength=function(B){return 8*B},A.prototype.getLength=function(){return this.data.length},A.prototype.getBitsLength=function(){return A.getBitsLength(this.data.length)},A.prototype.write=function(L){for(let B=0,Z=this.data.length;B<Z;B++)L.put(this.data[B],8)},Ze.exports=A},4655:(Ze,H,M)=>{const u=M(2259),R=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],A=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];H.getBlocksCount=function(B,Z){switch(Z){case u.L:return R[4*(B-1)+0];case u.M:return R[4*(B-1)+1];case u.Q:return R[4*(B-1)+2];case u.H:return R[4*(B-1)+3];default:return}},H.getTotalCodewordsCount=function(B,Z){switch(Z){case u.L:return A[4*(B-1)+0];case u.M:return A[4*(B-1)+1];case u.Q:return A[4*(B-1)+2];case u.H:return A[4*(B-1)+3];default:return}}},2259:(Ze,H)=>{H.L={bit:1},H.M={bit:0},H.Q={bit:3},H.H={bit:2},H.isValid=function(R){return R&&void 0!==R.bit&&R.bit>=0&&R.bit<4},H.from=function(R,A){if(H.isValid(R))return R;try{return function M(u){if("string"!=typeof u)throw new Error("Param is not a string");switch(u.toLowerCase()){case"l":case"low":return H.L;case"m":case"medium":return H.M;case"q":case"quartile":return H.Q;case"h":case"high":return H.H;default:throw new Error("Unknown EC Level: "+u)}}(R)}catch(L){return A}}},3114:(Ze,H,M)=>{const u=M(4792).getSymbolSize;H.getPositions=function(L){const B=u(L);return[[0,0],[B-7,0],[0,B-7]]}},7078:(Ze,H,M)=>{const u=M(4792),L=u.getBCHDigit(1335);H.getEncodedBits=function(Z,W){const G=Z.bit<<3|W;let le=G<<10;for(;u.getBCHDigit(le)-L>=0;)le^=1335<<u.getBCHDigit(le)-L;return 21522^(G<<10|le)}},5339:(Ze,H)=>{const M=new Uint8Array(512),u=new Uint8Array(256);(function(){let A=1;for(let L=0;L<255;L++)M[L]=A,u[A]=L,A<<=1,256&A&&(A^=285);for(let L=255;L<512;L++)M[L]=M[L-255]})(),H.log=function(A){if(A<1)throw new Error("log("+A+")");return u[A]},H.exp=function(A){return M[A]},H.mul=function(A,L){return 0===A||0===L?0:M[u[A]+u[L]]}},449:(Ze,H,M)=>{const u=M(4016),R=M(4792);function A(L){this.mode=u.KANJI,this.data=L}A.getBitsLength=function(B){return 13*B},A.prototype.getLength=function(){return this.data.length},A.prototype.getBitsLength=function(){return A.getBitsLength(this.data.length)},A.prototype.write=function(L){let B;for(B=0;B<this.data.length;B++){let Z=R.toSJIS(this.data[B]);if(Z>=33088&&Z<=40956)Z-=33088;else{if(!(Z>=57408&&Z<=60351))throw new Error("Invalid SJIS character: "+this.data[B]+"\nMake sure your charset is UTF-8");Z-=49472}Z=192*(Z>>>8&255)+(255&Z),L.put(Z,13)}},Ze.exports=A},3667:(Ze,H)=>{H.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function u(R,A,L){switch(R){case H.Patterns.PATTERN000:return(A+L)%2==0;case H.Patterns.PATTERN001:return A%2==0;case H.Patterns.PATTERN010:return L%3==0;case H.Patterns.PATTERN011:return(A+L)%3==0;case H.Patterns.PATTERN100:return(Math.floor(A/2)+Math.floor(L/3))%2==0;case H.Patterns.PATTERN101:return A*L%2+A*L%3==0;case H.Patterns.PATTERN110:return(A*L%2+A*L%3)%2==0;case H.Patterns.PATTERN111:return(A*L%3+(A+L)%2)%2==0;default:throw new Error("bad maskPattern:"+R)}}H.isValid=function(A){return null!=A&&""!==A&&!isNaN(A)&&A>=0&&A<=7},H.from=function(A){return H.isValid(A)?parseInt(A,10):void 0},H.getPenaltyN1=function(A){const L=A.size;let B=0,Z=0,W=0,G=null,le=null;for(let z=0;z<L;z++){Z=W=0,G=le=null;for(let K=0;K<L;K++){let X=A.get(z,K);X===G?Z++:(Z>=5&&(B+=Z-5+3),G=X,Z=1),X=A.get(K,z),X===le?W++:(W>=5&&(B+=W-5+3),le=X,W=1)}Z>=5&&(B+=Z-5+3),W>=5&&(B+=W-5+3)}return B},H.getPenaltyN2=function(A){const L=A.size;let B=0;for(let Z=0;Z<L-1;Z++)for(let W=0;W<L-1;W++){const G=A.get(Z,W)+A.get(Z,W+1)+A.get(Z+1,W)+A.get(Z+1,W+1);(4===G||0===G)&&B++}return 3*B},H.getPenaltyN3=function(A){const L=A.size;let B=0,Z=0,W=0;for(let G=0;G<L;G++){Z=W=0;for(let le=0;le<L;le++)Z=Z<<1&2047|A.get(G,le),le>=10&&(1488===Z||93===Z)&&B++,W=W<<1&2047|A.get(le,G),le>=10&&(1488===W||93===W)&&B++}return 40*B},H.getPenaltyN4=function(A){let L=0;const B=A.data.length;for(let W=0;W<B;W++)L+=A.data[W];return 10*Math.abs(Math.ceil(100*L/B/5)-10)},H.applyMask=function(A,L){const B=L.size;for(let Z=0;Z<B;Z++)for(let W=0;W<B;W++)L.isReserved(W,Z)||L.xor(W,Z,u(A,W,Z))},H.getBestMask=function(A,L){const B=Object.keys(H.Patterns).length;let Z=0,W=1/0;for(let G=0;G<B;G++){L(G),H.applyMask(G,A);const le=H.getPenaltyN1(A)+H.getPenaltyN2(A)+H.getPenaltyN3(A)+H.getPenaltyN4(A);H.applyMask(G,A),le<W&&(W=le,Z=G)}return Z}},4016:(Ze,H,M)=>{const u=M(4406),R=M(2699);H.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},H.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},H.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},H.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},H.MIXED={bit:-1},H.getCharCountIndicator=function(B,Z){if(!B.ccBits)throw new Error("Invalid mode: "+B);if(!u.isValid(Z))throw new Error("Invalid version: "+Z);return Z>=1&&Z<10?B.ccBits[0]:Z<27?B.ccBits[1]:B.ccBits[2]},H.getBestModeForData=function(B){return R.testNumeric(B)?H.NUMERIC:R.testAlphanumeric(B)?H.ALPHANUMERIC:R.testKanji(B)?H.KANJI:H.BYTE},H.toString=function(B){if(B&&B.id)return B.id;throw new Error("Invalid mode")},H.isValid=function(B){return B&&B.bit&&B.ccBits},H.from=function(B,Z){if(H.isValid(B))return B;try{return function A(L){if("string"!=typeof L)throw new Error("Param is not a string");switch(L.toLowerCase()){case"numeric":return H.NUMERIC;case"alphanumeric":return H.ALPHANUMERIC;case"kanji":return H.KANJI;case"byte":return H.BYTE;default:throw new Error("Unknown mode: "+L)}}(B)}catch(W){return Z}}},7783:(Ze,H,M)=>{const u=M(4016);function R(A){this.mode=u.NUMERIC,this.data=A.toString()}R.getBitsLength=function(L){return 10*Math.floor(L/3)+(L%3?L%3*3+1:0)},R.prototype.getLength=function(){return this.data.length},R.prototype.getBitsLength=function(){return R.getBitsLength(this.data.length)},R.prototype.write=function(L){let B,Z,W;for(B=0;B+3<=this.data.length;B+=3)Z=this.data.substr(B,3),W=parseInt(Z,10),L.put(W,10);const G=this.data.length-B;G>0&&(Z=this.data.substr(B),W=parseInt(Z,10),L.put(W,3*G+1))},Ze.exports=R},1106:(Ze,H,M)=>{const u=M(5339);H.mul=function(A,L){const B=new Uint8Array(A.length+L.length-1);for(let Z=0;Z<A.length;Z++)for(let W=0;W<L.length;W++)B[Z+W]^=u.mul(A[Z],L[W]);return B},H.mod=function(A,L){let B=new Uint8Array(A);for(;B.length-L.length>=0;){const Z=B[0];for(let G=0;G<L.length;G++)B[G]^=u.mul(L[G],Z);let W=0;for(;W<B.length&&0===B[W];)W++;B=B.slice(W)}return B},H.generateECPolynomial=function(A){let L=new Uint8Array([1]);for(let B=0;B<A;B++)L=H.mul(L,new Uint8Array([1,u.exp(B)]));return L}},1465:(Ze,H,M)=>{const u=M(4792),R=M(2259),A=M(2118),L=M(4425),B=M(6221),Z=M(3114),W=M(3667),G=M(4655),le=M(2636),z=M(2088),K=M(7078),X=M(4016),Se=M(2033);function Ee(ge,Ne,se){const U=ge.size,ve=K.getEncodedBits(Ne,se);let J,ne;for(J=0;J<15;J++)ne=1==(ve>>J&1),ge.set(J<6?J:J<8?J+1:U-15+J,8,ne,!0),ge.set(8,J<8?U-J-1:J<9?15-J-1+1:15-J-1,ne,!0);ge.set(U-8,8,1,!0)}function Fe(ge,Ne,se,U){let ve;if(Array.isArray(ge))ve=Se.fromArray(ge);else{if("string"!=typeof ge)throw new Error("Invalid data");{let be=Ne;if(!be){const ze=Se.rawSplit(ge);be=z.getBestVersionForData(ze,se)}ve=Se.fromString(ge,be||40)}}const J=z.getBestVersionForData(ve,se);if(!J)throw new Error("The amount of data is too big to be stored in a QR Code");if(Ne){if(Ne<J)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+J+".\n")}else Ne=J;const ne=function Ve(ge,Ne,se){const U=new A;se.forEach(function(de){U.put(de.mode.bit,4),U.put(de.getLength(),X.getCharCountIndicator(de.mode,ge)),de.write(U)});const ne=8*(u.getSymbolTotalCodewords(ge)-G.getTotalCodewordsCount(ge,Ne));for(U.getLengthInBits()+4<=ne&&U.put(0,4);U.getLengthInBits()%8!=0;)U.putBit(0);const ue=(ne-U.getLengthInBits())/8;for(let de=0;de<ue;de++)U.put(de%2?17:236,8);return function ke(ge,Ne,se){const U=u.getSymbolTotalCodewords(Ne),J=U-G.getTotalCodewordsCount(Ne,se),ne=G.getBlocksCount(Ne,se),de=ne-U%ne,be=Math.floor(U/ne),ze=Math.floor(J/ne),mt=ze+1,Qt=be-ze,$t=new le(Qt);let Xe=0;const Nt=new Array(ne),cn=new Array(ne);let dn=0;const Wt=new Uint8Array(ge.buffer);for(let Pn=0;Pn<ne;Pn++){const En=Pn<de?ze:mt;Nt[Pn]=Wt.slice(Xe,Xe+En),cn[Pn]=$t.encode(Nt[Pn]),Xe+=En,dn=Math.max(dn,En)}const xt=new Uint8Array(U);let sn,Nn,Gt=0;for(sn=0;sn<dn;sn++)for(Nn=0;Nn<ne;Nn++)sn<Nt[Nn].length&&(xt[Gt++]=Nt[Nn][sn]);for(sn=0;sn<Qt;sn++)for(Nn=0;Nn<ne;Nn++)xt[Gt++]=cn[Nn][sn];return xt}(U,ge,Ne)}(Ne,se,ve),ue=u.getSymbolSize(Ne),de=new L(ue);return function De(ge,Ne){const se=ge.size,U=Z.getPositions(Ne);for(let ve=0;ve<U.length;ve++){const J=U[ve][0],ne=U[ve][1];for(let ue=-1;ue<=7;ue++)if(!(J+ue<=-1||se<=J+ue))for(let de=-1;de<=7;de++)ne+de<=-1||se<=ne+de||ge.set(J+ue,ne+de,ue>=0&&ue<=6&&(0===de||6===de)||de>=0&&de<=6&&(0===ue||6===ue)||ue>=2&&ue<=4&&de>=2&&de<=4,!0)}}(de,Ne),function Ae(ge){const Ne=ge.size;for(let se=8;se<Ne-8;se++){const U=se%2==0;ge.set(se,6,U,!0),ge.set(6,se,U,!0)}}(de),function Je(ge,Ne){const se=B.getPositions(Ne);for(let U=0;U<se.length;U++){const ve=se[U][0],J=se[U][1];for(let ne=-2;ne<=2;ne++)for(let ue=-2;ue<=2;ue++)ge.set(ve+ne,J+ue,-2===ne||2===ne||-2===ue||2===ue||0===ne&&0===ue,!0)}}(de,Ne),Ee(de,se,0),Ne>=7&&function _e(ge,Ne){const se=ge.size,U=z.getEncodedBits(Ne);let ve,J,ne;for(let ue=0;ue<18;ue++)ve=Math.floor(ue/3),J=ue%3+se-8-3,ne=1==(U>>ue&1),ge.set(ve,J,ne,!0),ge.set(J,ve,ne,!0)}(de,Ne),function Ue(ge,Ne){const se=ge.size;let U=-1,ve=se-1,J=7,ne=0;for(let ue=se-1;ue>0;ue-=2)for(6===ue&&ue--;;){for(let de=0;de<2;de++)if(!ge.isReserved(ve,ue-de)){let be=!1;ne<Ne.length&&(be=1==(Ne[ne]>>>J&1)),ge.set(ve,ue-de,be),J--,-1===J&&(ne++,J=7)}if(ve+=U,ve<0||se<=ve){ve-=U,U=-U;break}}}(de,ne),isNaN(U)&&(U=W.getBestMask(de,Ee.bind(null,de,se))),W.applyMask(U,de),Ee(de,se,U),{modules:de,version:Ne,errorCorrectionLevel:se,maskPattern:U,segments:ve}}H.create=function(Ne,se){if(void 0===Ne||""===Ne)throw new Error("No input text");let ve,J,U=R.M;return void 0!==se&&(U=R.from(se.errorCorrectionLevel,R.M),ve=z.from(se.version),J=W.from(se.maskPattern),se.toSJISFunc&&u.setToSJISFunction(se.toSJISFunc)),Fe(Ne,ve,U,J)}},2636:(Ze,H,M)=>{const u=M(1106);function R(A){this.genPoly=void 0,this.degree=A,this.degree&&this.initialize(this.degree)}R.prototype.initialize=function(L){this.degree=L,this.genPoly=u.generateECPolynomial(this.degree)},R.prototype.encode=function(L){if(!this.genPoly)throw new Error("Encoder not initialized");const B=new Uint8Array(L.length+this.degree);B.set(L);const Z=u.mod(B,this.genPoly),W=this.degree-Z.length;if(W>0){const G=new Uint8Array(this.degree);return G.set(Z,W),G}return Z},Ze.exports=R},2699:(Ze,H)=>{const M="[0-9]+";let R="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";R=R.replace(/u/g,"\\u");const A="(?:(?![A-Z0-9 $%*+\\-./:]|"+R+")(?:.|[\r\n]))+";H.KANJI=new RegExp(R,"g"),H.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),H.BYTE=new RegExp(A,"g"),H.NUMERIC=new RegExp(M,"g"),H.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const L=new RegExp("^"+R+"$"),B=new RegExp("^"+M+"$"),Z=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");H.testKanji=function(G){return L.test(G)},H.testNumeric=function(G){return B.test(G)},H.testAlphanumeric=function(G){return Z.test(G)}},2033:(Ze,H,M)=>{const u=M(4016),R=M(7783),A=M(2424),L=M(5663),B=M(449),Z=M(2699),W=M(4792),G=M(4901);function le(_e){return unescape(encodeURIComponent(_e)).length}function z(_e,Ee,Ue){const Ve=[];let ke;for(;null!==(ke=_e.exec(Ue));)Ve.push({data:ke[0],index:ke.index,mode:Ee,length:ke[0].length});return Ve}function K(_e){const Ee=z(Z.NUMERIC,u.NUMERIC,_e),Ue=z(Z.ALPHANUMERIC,u.ALPHANUMERIC,_e);let Ve,ke;return W.isKanjiModeEnabled()?(Ve=z(Z.BYTE,u.BYTE,_e),ke=z(Z.KANJI,u.KANJI,_e)):(Ve=z(Z.BYTE_KANJI,u.BYTE,_e),ke=[]),Ee.concat(Ue,Ve,ke).sort(function(ge,Ne){return ge.index-Ne.index}).map(function(ge){return{data:ge.data,mode:ge.mode,length:ge.length}})}function X(_e,Ee){switch(Ee){case u.NUMERIC:return R.getBitsLength(_e);case u.ALPHANUMERIC:return A.getBitsLength(_e);case u.KANJI:return B.getBitsLength(_e);case u.BYTE:return L.getBitsLength(_e)}}function Je(_e,Ee){let Ue;const Ve=u.getBestModeForData(_e);if(Ue=u.from(Ee,Ve),Ue!==u.BYTE&&Ue.bit<Ve.bit)throw new Error('"'+_e+'" cannot be encoded with mode '+u.toString(Ue)+".\n Suggested mode is: "+u.toString(Ve));switch(Ue===u.KANJI&&!W.isKanjiModeEnabled()&&(Ue=u.BYTE),Ue){case u.NUMERIC:return new R(_e);case u.ALPHANUMERIC:return new A(_e);case u.KANJI:return new B(_e);case u.BYTE:return new L(_e)}}H.fromArray=function(Ee){return Ee.reduce(function(Ue,Ve){return"string"==typeof Ve?Ue.push(Je(Ve,null)):Ve.data&&Ue.push(Je(Ve.data,Ve.mode)),Ue},[])},H.fromString=function(Ee,Ue){const ke=function De(_e){const Ee=[];for(let Ue=0;Ue<_e.length;Ue++){const Ve=_e[Ue];switch(Ve.mode){case u.NUMERIC:Ee.push([Ve,{data:Ve.data,mode:u.ALPHANUMERIC,length:Ve.length},{data:Ve.data,mode:u.BYTE,length:Ve.length}]);break;case u.ALPHANUMERIC:Ee.push([Ve,{data:Ve.data,mode:u.BYTE,length:Ve.length}]);break;case u.KANJI:Ee.push([Ve,{data:Ve.data,mode:u.BYTE,length:le(Ve.data)}]);break;case u.BYTE:Ee.push([{data:Ve.data,mode:u.BYTE,length:le(Ve.data)}])}}return Ee}(K(Ee,W.isKanjiModeEnabled())),Fe=function Ae(_e,Ee){const Ue={},Ve={start:{}};let ke=["start"];for(let Fe=0;Fe<_e.length;Fe++){const ge=_e[Fe],Ne=[];for(let se=0;se<ge.length;se++){const U=ge[se],ve=""+Fe+se;Ne.push(ve),Ue[ve]={node:U,lastCount:0},Ve[ve]={};for(let J=0;J<ke.length;J++){const ne=ke[J];Ue[ne]&&Ue[ne].node.mode===U.mode?(Ve[ne][ve]=X(Ue[ne].lastCount+U.length,U.mode)-X(Ue[ne].lastCount,U.mode),Ue[ne].lastCount+=U.length):(Ue[ne]&&(Ue[ne].lastCount=U.length),Ve[ne][ve]=X(U.length,U.mode)+4+u.getCharCountIndicator(U.mode,Ee))}}ke=Ne}for(let Fe=0;Fe<ke.length;Fe++)Ve[ke[Fe]].end=0;return{map:Ve,table:Ue}}(ke,Ue),ge=G.find_path(Fe.map,"start","end"),Ne=[];for(let se=1;se<ge.length-1;se++)Ne.push(Fe.table[ge[se]].node);return H.fromArray(function Se(_e){return _e.reduce(function(Ee,Ue){const Ve=Ee.length-1>=0?Ee[Ee.length-1]:null;return Ve&&Ve.mode===Ue.mode?(Ee[Ee.length-1].data+=Ue.data,Ee):(Ee.push(Ue),Ee)},[])}(Ne))},H.rawSplit=function(Ee){return H.fromArray(K(Ee,W.isKanjiModeEnabled()))}},4792:(Ze,H)=>{let M;const u=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];H.getSymbolSize=function(A){if(!A)throw new Error('"version" cannot be null or undefined');if(A<1||A>40)throw new Error('"version" should be in range from 1 to 40');return 4*A+17},H.getSymbolTotalCodewords=function(A){return u[A]},H.getBCHDigit=function(R){let A=0;for(;0!==R;)A++,R>>>=1;return A},H.setToSJISFunction=function(A){if("function"!=typeof A)throw new Error('"toSJISFunc" is not a valid function.');M=A},H.isKanjiModeEnabled=function(){return void 0!==M},H.toSJIS=function(A){return M(A)}},4406:(Ze,H)=>{H.isValid=function(u){return!isNaN(u)&&u>=1&&u<=40}},2088:(Ze,H,M)=>{const u=M(4792),R=M(4655),A=M(2259),L=M(4016),B=M(4406),W=u.getBCHDigit(7973);function le(X,Se){return L.getCharCountIndicator(X,Se)+4}function z(X,Se){let De=0;return X.forEach(function(Ae){De+=le(Ae.mode,Se)+Ae.getBitsLength()}),De}H.from=function(Se,De){return B.isValid(Se)?parseInt(Se,10):De},H.getCapacity=function(Se,De,Ae){if(!B.isValid(Se))throw new Error("Invalid QR Code version");void 0===Ae&&(Ae=L.BYTE);const Ee=8*(u.getSymbolTotalCodewords(Se)-R.getTotalCodewordsCount(Se,De));if(Ae===L.MIXED)return Ee;const Ue=Ee-le(Ae,Se);switch(Ae){case L.NUMERIC:return Math.floor(Ue/10*3);case L.ALPHANUMERIC:return Math.floor(Ue/11*2);case L.KANJI:return Math.floor(Ue/13);default:return Math.floor(Ue/8)}},H.getBestVersionForData=function(Se,De){let Ae;const Je=A.from(De,A.M);if(Array.isArray(Se)){if(Se.length>1)return function K(X,Se){for(let De=1;De<=40;De++)if(z(X,De)<=H.getCapacity(De,Se,L.MIXED))return De}(Se,Je);if(0===Se.length)return 1;Ae=Se[0]}else Ae=Se;return function G(X,Se,De){for(let Ae=1;Ae<=40;Ae++)if(Se<=H.getCapacity(Ae,De,X))return Ae}(Ae.mode,Ae.getLength(),Je)},H.getEncodedBits=function(Se){if(!B.isValid(Se)||Se<7)throw new Error("Invalid QR Code version");let De=Se<<12;for(;u.getBCHDigit(De)-W>=0;)De^=7973<<u.getBCHDigit(De)-W;return Se<<12|De}},3210:(Ze,H,M)=>{const u=M(6355);H.render=function(B,Z,W){let G=W,le=Z;void 0===G&&(!Z||!Z.getContext)&&(G=Z,Z=void 0),Z||(le=function A(){try{return document.createElement("canvas")}catch(L){throw new Error("You need to specify a canvas element")}}()),G=u.getOptions(G);const z=u.getImageWidth(B.modules.size,G),K=le.getContext("2d"),X=K.createImageData(z,z);return u.qrToImageData(X.data,B,G),function R(L,B,Z){L.clearRect(0,0,B.width,B.height),B.style||(B.style={}),B.height=Z,B.width=Z,B.style.height=Z+"px",B.style.width=Z+"px"}(K,le,z),K.putImageData(X,0,0),le},H.renderToDataURL=function(B,Z,W){let G=W;return void 0===G&&(!Z||!Z.getContext)&&(G=Z,Z=void 0),G||(G={}),H.render(B,Z,G).toDataURL(G.type||"image/png",(G.rendererOpts||{}).quality)}},2334:(Ze,H,M)=>{const u=M(6355);function R(B,Z){const W=B.a/255,G=Z+'="'+B.hex+'"';return W<1?G+" "+Z+'-opacity="'+W.toFixed(2).slice(1)+'"':G}function A(B,Z,W){let G=B+Z;return void 0!==W&&(G+=" "+W),G}H.render=function(Z,W,G){const le=u.getOptions(W),z=Z.modules.size,K=Z.modules.data,X=z+2*le.margin,Se=le.color.light.a?"<path "+R(le.color.light,"fill")+' d="M0 0h'+X+"v"+X+'H0z"/>':"",De="<path "+R(le.color.dark,"stroke")+' d="'+function L(B,Z,W){let G="",le=0,z=!1,K=0;for(let X=0;X<B.length;X++){const Se=Math.floor(X%Z),De=Math.floor(X/Z);!Se&&!z&&(z=!0),B[X]?(K++,X>0&&Se>0&&B[X-1]||(G+=z?A("M",Se+W,.5+De+W):A("m",le,0),le=0,z=!1),Se+1<Z&&B[X+1]||(G+=A("h",K),K=0)):le++}return G}(K,z,le.margin)+'"/>',_e='<svg xmlns="http://www.w3.org/2000/svg" '+(le.width?'width="'+le.width+'" height="'+le.width+'" ':"")+'viewBox="0 0 '+X+" "+X+'" shape-rendering="crispEdges">'+Se+De+"</svg>\n";return"function"==typeof G&&G(null,_e),_e}},6355:(Ze,H)=>{function M(u){if("number"==typeof u&&(u=u.toString()),"string"!=typeof u)throw new Error("Color should be defined as hex string");let R=u.slice().replace("#","").split("");if(R.length<3||5===R.length||R.length>8)throw new Error("Invalid hex color: "+u);(3===R.length||4===R.length)&&(R=Array.prototype.concat.apply([],R.map(function(L){return[L,L]}))),6===R.length&&R.push("F","F");const A=parseInt(R.join(""),16);return{r:A>>24&255,g:A>>16&255,b:A>>8&255,a:255&A,hex:"#"+R.slice(0,6).join("")}}H.getOptions=function(R){R||(R={}),R.color||(R.color={});const L=R.width&&R.width>=21?R.width:void 0;return{width:L,scale:L?4:R.scale||4,margin:null==R.margin||R.margin<0?4:R.margin,color:{dark:M(R.color.dark||"#000000ff"),light:M(R.color.light||"#ffffffff")},type:R.type,rendererOpts:R.rendererOpts||{}}},H.getScale=function(R,A){return A.width&&A.width>=R+2*A.margin?A.width/(R+2*A.margin):A.scale},H.getImageWidth=function(R,A){const L=H.getScale(R,A);return Math.floor((R+2*A.margin)*L)},H.qrToImageData=function(R,A,L){const B=A.modules.size,Z=A.modules.data,W=H.getScale(B,L),G=Math.floor((B+2*L.margin)*W),le=L.margin*W,z=[L.color.light,L.color.dark];for(let K=0;K<G;K++)for(let X=0;X<G;X++){let Se=4*(K*G+X),De=L.color.light;K>=le&&X>=le&&K<G-le&&X<G-le&&(De=z[Z[Math.floor((K-le)/W)*B+Math.floor((X-le)/W)]?1:0]),R[Se++]=De.r,R[Se++]=De.g,R[Se++]=De.b,R[Se]=De.a}}},9751:(Ze,H,M)=>{"use strict";M.d(H,{y:()=>G});var u=M(2961),R=M(727),A=M(8822),L=M(9635),B=M(2416),Z=M(576),W=M(2806);let G=(()=>{class X{constructor(De){De&&(this._subscribe=De)}lift(De){const Ae=new X;return Ae.source=this,Ae.operator=De,Ae}subscribe(De,Ae,Je){const _e=function K(X){return X&&X instanceof u.Lv||function z(X){return X&&(0,Z.m)(X.next)&&(0,Z.m)(X.error)&&(0,Z.m)(X.complete)}(X)&&(0,R.Nn)(X)}(De)?De:new u.Hp(De,Ae,Je);return(0,W.x)(()=>{const{operator:Ee,source:Ue}=this;_e.add(Ee?Ee.call(_e,Ue):Ue?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(De){try{return this._subscribe(De)}catch(Ae){De.error(Ae)}}forEach(De,Ae){return new(Ae=le(Ae))((Je,_e)=>{const Ee=new u.Hp({next:Ue=>{try{De(Ue)}catch(Ve){_e(Ve),Ee.unsubscribe()}},error:_e,complete:Je});this.subscribe(Ee)})}_subscribe(De){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(De)}[A.L](){return this}pipe(...De){return(0,L.U)(De)(this)}toPromise(De){return new(De=le(De))((Ae,Je)=>{let _e;this.subscribe(Ee=>_e=Ee,Ee=>Je(Ee),()=>Ae(_e))})}}return X.create=Se=>new X(Se),X})();function le(X){var Se;return null!==(Se=null!=X?X:B.v.Promise)&&void 0!==Se?Se:Promise}},7579:(Ze,H,M)=>{"use strict";M.d(H,{x:()=>W});var u=M(9751),R=M(727);const L=(0,M(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var B=M(8737),Z=M(2806);let W=(()=>{class le extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const X=new G(this,this);return X.operator=K,X}_throwIfClosed(){if(this.closed)throw new L}next(K){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(K)}})}error(K){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:X}=this;for(;X.length;)X.shift().error(K)}})}complete(){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:X,isStopped:Se,observers:De}=this;return X||Se?R.Lc:(this.currentObservers=null,De.push(K),new R.w0(()=>{this.currentObservers=null,(0,B.P)(De,K)}))}_checkFinalizedStatuses(K){const{hasError:X,thrownError:Se,isStopped:De}=this;X?K.error(Se):De&&K.complete()}asObservable(){const K=new u.y;return K.source=this,K}}return le.create=(z,K)=>new G(z,K),le})();class G extends W{constructor(z,K){super(),this.destination=z,this.source=K}next(z){var K,X;null===(X=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===X||X.call(K,z)}error(z){var K,X;null===(X=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===X||X.call(K,z)}complete(){var z,K;null===(K=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===K||K.call(z)}_subscribe(z){var K,X;return null!==(X=null===(K=this.source)||void 0===K?void 0:K.subscribe(z))&&void 0!==X?X:R.Lc}}},2961:(Ze,H,M)=>{"use strict";M.d(H,{Hp:()=>Je,Lv:()=>X});var u=M(576),R=M(727),A=M(2416),L=M(7849);function B(){}const Z=le("C",void 0,void 0);function le(ke,Fe,ge){return{kind:ke,value:Fe,error:ge}}var z=M(3410),K=M(2806);class X extends R.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,R.Nn)(Fe)&&Fe.add(this)):this.destination=Ve}static create(Fe,ge,Ne){return new Je(Fe,ge,Ne)}next(Fe){this.isStopped?Ue(function G(ke){return le("N",ke,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?Ue(function W(ke){return le("E",void 0,ke)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?Ue(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function De(ke,Fe){return Se.call(ke,Fe)}class Ae{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:ge}=this;if(ge.next)try{ge.next(Fe)}catch(Ne){_e(Ne)}}error(Fe){const{partialObserver:ge}=this;if(ge.error)try{ge.error(Fe)}catch(Ne){_e(Ne)}else _e(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(ge){_e(ge)}}}class Je extends X{constructor(Fe,ge,Ne){let se;if(super(),(0,u.m)(Fe)||!Fe)se={next:null!=Fe?Fe:void 0,error:null!=ge?ge:void 0,complete:null!=Ne?Ne:void 0};else{let U;this&&A.v.useDeprecatedNextContext?(U=Object.create(Fe),U.unsubscribe=()=>this.unsubscribe(),se={next:Fe.next&&De(Fe.next,U),error:Fe.error&&De(Fe.error,U),complete:Fe.complete&&De(Fe.complete,U)}):se=Fe}this.destination=new Ae(se)}}function _e(ke){A.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(ke):(0,L.h)(ke)}function Ue(ke,Fe){const{onStoppedNotification:ge}=A.v;ge&&z.z.setTimeout(()=>ge(ke,Fe))}const Ve={closed:!0,next:B,error:function Ee(ke){throw ke},complete:B}},727:(Ze,H,M)=>{"use strict";M.d(H,{Lc:()=>Z,w0:()=>B,Nn:()=>W});var u=M(576);const A=(0,M(3888).d)(le=>function(K){le(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((X,Se)=>`${Se+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var L=M(8737);class B{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const De of K)De.remove(this);else K.remove(this);const{initialTeardown:X}=this;if((0,u.m)(X))try{X()}catch(De){z=De instanceof A?De.errors:[De]}const{_finalizers:Se}=this;if(Se){this._finalizers=null;for(const De of Se)try{G(De)}catch(Ae){z=null!=z?z:[],Ae instanceof A?z=[...z,...Ae.errors]:z.push(Ae)}}if(z)throw new A(z)}}add(z){var K;if(z&&z!==this)if(this.closed)G(z);else{if(z instanceof B){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(z)}}_hasParent(z){const{_parentage:K}=this;return K===z||Array.isArray(K)&&K.includes(z)}_addParent(z){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(z),K):K?[K,z]:z}_removeParent(z){const{_parentage:K}=this;K===z?this._parentage=null:Array.isArray(K)&&(0,L.P)(K,z)}remove(z){const{_finalizers:K}=this;K&&(0,L.P)(K,z),z instanceof B&&z._removeParent(this)}}B.EMPTY=(()=>{const le=new B;return le.closed=!0,le})();const Z=B.EMPTY;function W(le){return le instanceof B||le&&"closed"in le&&(0,u.m)(le.remove)&&(0,u.m)(le.add)&&(0,u.m)(le.unsubscribe)}function G(le){(0,u.m)(le)?le():le.unsubscribe()}},2416:(Ze,H,M)=>{"use strict";M.d(H,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ze,H,M)=>{"use strict";M.d(H,{E:()=>R});const R=new(M(9751).y)(B=>B.complete())},8996:(Ze,H,M)=>{"use strict";M.d(H,{D:()=>Fe});var u=M(8421),R=M(5363),A=M(9468),Z=M(9751),G=M(2202),le=M(576),z=M(9672);function X(ge,Ne){if(!ge)throw new Error("Iterable cannot be null");return new Z.y(se=>{(0,z.f)(se,Ne,()=>{const U=ge[Symbol.asyncIterator]();(0,z.f)(se,Ne,()=>{U.next().then(ve=>{ve.done?se.complete():se.next(ve.value)})},0,!0)})})}var Se=M(3670),De=M(8239),Ae=M(1144),Je=M(6495),_e=M(2206),Ee=M(4532),Ue=M(3260);function Fe(ge,Ne){return Ne?function ke(ge,Ne){if(null!=ge){if((0,Se.c)(ge))return function L(ge,Ne){return(0,u.Xf)(ge).pipe((0,A.R)(Ne),(0,R.Q)(Ne))}(ge,Ne);if((0,Ae.z)(ge))return function W(ge,Ne){return new Z.y(se=>{let U=0;return Ne.schedule(function(){U===ge.length?se.complete():(se.next(ge[U++]),se.closed||this.schedule())})})}(ge,Ne);if((0,De.t)(ge))return function B(ge,Ne){return(0,u.Xf)(ge).pipe((0,A.R)(Ne),(0,R.Q)(Ne))}(ge,Ne);if((0,_e.D)(ge))return X(ge,Ne);if((0,Je.T)(ge))return function K(ge,Ne){return new Z.y(se=>{let U;return(0,z.f)(se,Ne,()=>{U=ge[G.h](),(0,z.f)(se,Ne,()=>{let ve,J;try{({value:ve,done:J}=U.next())}catch(ne){return void se.error(ne)}J?se.complete():se.next(ve)},0,!0)}),()=>(0,le.m)(null==U?void 0:U.return)&&U.return()})}(ge,Ne);if((0,Ue.L)(ge))return function Ve(ge,Ne){return X((0,Ue.Q)(ge),Ne)}(ge,Ne)}throw(0,Ee.z)(ge)}(ge,Ne):(0,u.Xf)(ge)}},8421:(Ze,H,M)=>{"use strict";M.d(H,{Xf:()=>Se});var u=M(655),R=M(1144),A=M(8239),L=M(9751),B=M(3670),Z=M(2206),W=M(4532),G=M(6495),le=M(3260),z=M(576),K=M(7849),X=M(8822);function Se(ke){if(ke instanceof L.y)return ke;if(null!=ke){if((0,B.c)(ke))return function De(ke){return new L.y(Fe=>{const ge=ke[X.L]();if((0,z.m)(ge.subscribe))return ge.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,R.z)(ke))return function Ae(ke){return new L.y(Fe=>{for(let ge=0;ge<ke.length&&!Fe.closed;ge++)Fe.next(ke[ge]);Fe.complete()})}(ke);if((0,A.t)(ke))return function Je(ke){return new L.y(Fe=>{ke.then(ge=>{Fe.closed||(Fe.next(ge),Fe.complete())},ge=>Fe.error(ge)).then(null,K.h)})}(ke);if((0,Z.D)(ke))return Ee(ke);if((0,G.T)(ke))return function _e(ke){return new L.y(Fe=>{for(const ge of ke)if(Fe.next(ge),Fe.closed)return;Fe.complete()})}(ke);if((0,le.L)(ke))return function Ue(ke){return Ee((0,le.Q)(ke))}(ke)}throw(0,W.z)(ke)}function Ee(ke){return new L.y(Fe=>{(function Ve(ke,Fe){var ge,Ne,se,U;return(0,u.mG)(this,void 0,void 0,function*(){try{for(ge=(0,u.KL)(ke);!(Ne=yield ge.next()).done;)if(Fe.next(Ne.value),Fe.closed)return}catch(ve){se={error:ve}}finally{try{Ne&&!Ne.done&&(U=ge.return)&&(yield U.call(ge))}finally{if(se)throw se.error}}Fe.complete()})})(ke,Fe).catch(ge=>Fe.error(ge))})}},6451:(Ze,H,M)=>{"use strict";M.d(H,{T:()=>Z});var u=M(8189),R=M(8421),A=M(515),L=M(7669),B=M(8996);function Z(...W){const G=(0,L.yG)(W),le=(0,L._6)(W,1/0),z=W;return z.length?1===z.length?(0,R.Xf)(z[0]):(0,u.J)(le)((0,B.D)(z,G)):A.E}},5403:(Ze,H,M)=>{"use strict";M.d(H,{x:()=>R});var u=M(2961);function R(L,B,Z,W,G){return new A(L,B,Z,W,G)}class A extends u.Lv{constructor(B,Z,W,G,le,z){super(B),this.onFinalize=le,this.shouldUnsubscribe=z,this._next=Z?function(K){try{Z(K)}catch(X){B.error(X)}}:super._next,this._error=G?function(K){try{G(K)}catch(X){B.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(K){B.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var B;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(B=this.onFinalize)||void 0===B||B.call(this))}}}},4004:(Ze,H,M)=>{"use strict";M.d(H,{U:()=>A});var u=M(4482),R=M(5403);function A(L,B){return(0,u.e)((Z,W)=>{let G=0;Z.subscribe((0,R.x)(W,le=>{W.next(L.call(B,le,G++))}))})}},8189:(Ze,H,M)=>{"use strict";M.d(H,{J:()=>A});var u=M(5577),R=M(4671);function A(L=1/0){return(0,u.z)(R.y,L)}},5577:(Ze,H,M)=>{"use strict";M.d(H,{z:()=>G});var u=M(4004),R=M(8421),A=M(4482),L=M(9672),B=M(5403),W=M(576);function G(le,z,K=1/0){return(0,W.m)(z)?G((X,Se)=>(0,u.U)((De,Ae)=>z(X,De,Se,Ae))((0,R.Xf)(le(X,Se))),K):("number"==typeof z&&(K=z),(0,A.e)((X,Se)=>function Z(le,z,K,X,Se,De,Ae,Je){const _e=[];let Ee=0,Ue=0,Ve=!1;const ke=()=>{Ve&&!_e.length&&!Ee&&z.complete()},Fe=Ne=>Ee<X?ge(Ne):_e.push(Ne),ge=Ne=>{De&&z.next(Ne),Ee++;let se=!1;(0,R.Xf)(K(Ne,Ue++)).subscribe((0,B.x)(z,U=>{null==Se||Se(U),De?Fe(U):z.next(U)},()=>{se=!0},void 0,()=>{if(se)try{for(Ee--;_e.length&&Ee<X;){const U=_e.shift();Ae?(0,L.f)(z,Ae,()=>ge(U)):ge(U)}ke()}catch(U){z.error(U)}}))};return le.subscribe((0,B.x)(z,Fe,()=>{Ve=!0,ke()})),()=>{null==Je||Je()}}(X,Se,le,K)))}},5363:(Ze,H,M)=>{"use strict";M.d(H,{Q:()=>L});var u=M(9672),R=M(4482),A=M(5403);function L(B,Z=0){return(0,R.e)((W,G)=>{W.subscribe((0,A.x)(G,le=>(0,u.f)(G,B,()=>G.next(le),Z),()=>(0,u.f)(G,B,()=>G.complete(),Z),le=>(0,u.f)(G,B,()=>G.error(le),Z)))})}},3099:(Ze,H,M)=>{"use strict";M.d(H,{B:()=>Z});var u=M(8996),R=M(5698),A=M(7579),L=M(2961),B=M(4482);function Z(G={}){const{connector:le=(()=>new A.x),resetOnError:z=!0,resetOnComplete:K=!0,resetOnRefCountZero:X=!0}=G;return Se=>{let De=null,Ae=null,Je=null,_e=0,Ee=!1,Ue=!1;const Ve=()=>{null==Ae||Ae.unsubscribe(),Ae=null},ke=()=>{Ve(),De=Je=null,Ee=Ue=!1},Fe=()=>{const ge=De;ke(),null==ge||ge.unsubscribe()};return(0,B.e)((ge,Ne)=>{_e++,!Ue&&!Ee&&Ve();const se=Je=null!=Je?Je:le();Ne.add(()=>{_e--,0===_e&&!Ue&&!Ee&&(Ae=W(Fe,X))}),se.subscribe(Ne),De||(De=new L.Hp({next:U=>se.next(U),error:U=>{Ue=!0,Ve(),Ae=W(ke,z,U),se.error(U)},complete:()=>{Ee=!0,Ve(),Ae=W(ke,K),se.complete()}}),(0,u.D)(ge).subscribe(De))})(Se)}}function W(G,le,...z){return!0===le?(G(),null):!1===le?null:le(...z).pipe((0,R.q)(1)).subscribe(()=>G())}},9468:(Ze,H,M)=>{"use strict";M.d(H,{R:()=>R});var u=M(4482);function R(A,L=0){return(0,u.e)((B,Z)=>{Z.add(A.schedule(()=>B.subscribe(Z),L))})}},5698:(Ze,H,M)=>{"use strict";M.d(H,{q:()=>L});var u=M(515),R=M(4482),A=M(5403);function L(B){return B<=0?()=>u.E:(0,R.e)((Z,W)=>{let G=0;Z.subscribe((0,A.x)(W,le=>{++G<=B&&(W.next(le),B<=G&&W.complete())}))})}},8505:(Ze,H,M)=>{"use strict";M.d(H,{b:()=>B});var u=M(576),R=M(4482),A=M(5403),L=M(4671);function B(Z,W,G){const le=(0,u.m)(Z)||W||G?{next:Z,error:W,complete:G}:Z;return le?(0,R.e)((z,K)=>{var X;null===(X=le.subscribe)||void 0===X||X.call(le);let Se=!0;z.subscribe((0,A.x)(K,De=>{var Ae;null===(Ae=le.next)||void 0===Ae||Ae.call(le,De),K.next(De)},()=>{var De;Se=!1,null===(De=le.complete)||void 0===De||De.call(le),K.complete()},De=>{var Ae;Se=!1,null===(Ae=le.error)||void 0===Ae||Ae.call(le,De),K.error(De)},()=>{var De,Ae;Se&&(null===(De=le.unsubscribe)||void 0===De||De.call(le)),null===(Ae=le.finalize)||void 0===Ae||Ae.call(le)}))}):L.y}},4408:(Ze,H,M)=>{"use strict";M.d(H,{o:()=>B});var u=M(727);class R extends u.w0{constructor(W,G){super()}schedule(W,G=0){return this}}const A={setInterval(Z,W,...G){const{delegate:le}=A;return(null==le?void 0:le.setInterval)?le.setInterval(Z,W,...G):setInterval(Z,W,...G)},clearInterval(Z){const{delegate:W}=A;return((null==W?void 0:W.clearInterval)||clearInterval)(Z)},delegate:void 0};var L=M(8737);class B extends R{constructor(W,G){super(W,G),this.scheduler=W,this.work=G,this.pending=!1}schedule(W,G=0){if(this.closed)return this;this.state=W;const le=this.id,z=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(z,le,G)),this.pending=!0,this.delay=G,this.id=this.id||this.requestAsyncId(z,this.id,G),this}requestAsyncId(W,G,le=0){return A.setInterval(W.flush.bind(W,this),le)}recycleAsyncId(W,G,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return G;A.clearInterval(G)}execute(W,G){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(W,G);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,G){let z,le=!1;try{this.work(W)}catch(K){le=!0,z=K||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:W,scheduler:G}=this,{actions:le}=G;this.work=this.state=this.scheduler=null,this.pending=!1,(0,L.P)(le,this),null!=W&&(this.id=this.recycleAsyncId(G,W,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ze,H,M)=>{"use strict";M.d(H,{v:()=>A});var u=M(6063);class R{constructor(B,Z=R.now){this.schedulerActionCtor=B,this.now=Z}schedule(B,Z=0,W){return new this.schedulerActionCtor(this,B).schedule(W,Z)}}R.now=u.l.now;class A extends R{constructor(B,Z=R.now){super(B,Z),this.actions=[],this._active=!1,this._scheduled=void 0}flush(B){const{actions:Z}=this;if(this._active)return void Z.push(B);let W;this._active=!0;do{if(W=B.execute(B.state,B.delay))break}while(B=Z.shift());if(this._active=!1,W){for(;B=Z.shift();)B.unsubscribe();throw W}}}},4986:(Ze,H,M)=>{"use strict";M.d(H,{z:()=>A});var u=M(4408);const A=new(M(7565).v)(u.o)},6063:(Ze,H,M)=>{"use strict";M.d(H,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Ze,H,M)=>{"use strict";M.d(H,{z:()=>u});const u={setTimeout(R,A,...L){const{delegate:B}=u;return(null==B?void 0:B.setTimeout)?B.setTimeout(R,A,...L):setTimeout(R,A,...L)},clearTimeout(R){const{delegate:A}=u;return((null==A?void 0:A.clearTimeout)||clearTimeout)(R)},delegate:void 0}},2202:(Ze,H,M)=>{"use strict";M.d(H,{h:()=>R});const R=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ze,H,M)=>{"use strict";M.d(H,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ze,H,M)=>{"use strict";M.d(H,{_6:()=>Z,jO:()=>L,yG:()=>B});var u=M(576);function A(W){return W[W.length-1]}function L(W){return(0,u.m)(A(W))?W.pop():void 0}function B(W){return function R(W){return W&&(0,u.m)(W.schedule)}(A(W))?W.pop():void 0}function Z(W,G){return"number"==typeof A(W)?W.pop():G}},8737:(Ze,H,M)=>{"use strict";function u(R,A){if(R){const L=R.indexOf(A);0<=L&&R.splice(L,1)}}M.d(H,{P:()=>u})},3888:(Ze,H,M)=>{"use strict";function u(R){const L=R(B=>{Error.call(B),B.stack=(new Error).stack});return L.prototype=Object.create(Error.prototype),L.prototype.constructor=L,L}M.d(H,{d:()=>u})},2806:(Ze,H,M)=>{"use strict";M.d(H,{x:()=>A,O:()=>L});var u=M(2416);let R=null;function A(B){if(u.v.useDeprecatedSynchronousErrorHandling){const Z=!R;if(Z&&(R={errorThrown:!1,error:null}),B(),Z){const{errorThrown:W,error:G}=R;if(R=null,W)throw G}}else B()}function L(B){u.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=B)}},9672:(Ze,H,M)=>{"use strict";function u(R,A,L,B=0,Z=!1){const W=A.schedule(function(){L(),Z?R.add(this.schedule(null,B)):this.unsubscribe()},B);if(R.add(W),!Z)return W}M.d(H,{f:()=>u})},4671:(Ze,H,M)=>{"use strict";function u(R){return R}M.d(H,{y:()=>u})},1144:(Ze,H,M)=>{"use strict";M.d(H,{z:()=>u});const u=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(Ze,H,M)=>{"use strict";M.d(H,{D:()=>R});var u=M(576);function R(A){return Symbol.asyncIterator&&(0,u.m)(null==A?void 0:A[Symbol.asyncIterator])}},576:(Ze,H,M)=>{"use strict";function u(R){return"function"==typeof R}M.d(H,{m:()=>u})},3670:(Ze,H,M)=>{"use strict";M.d(H,{c:()=>A});var u=M(8822),R=M(576);function A(L){return(0,R.m)(L[u.L])}},6495:(Ze,H,M)=>{"use strict";M.d(H,{T:()=>A});var u=M(2202),R=M(576);function A(L){return(0,R.m)(null==L?void 0:L[u.h])}},8239:(Ze,H,M)=>{"use strict";M.d(H,{t:()=>R});var u=M(576);function R(A){return(0,u.m)(null==A?void 0:A.then)}},3260:(Ze,H,M)=>{"use strict";M.d(H,{Q:()=>A,L:()=>L});var u=M(655),R=M(576);function A(B){return(0,u.FC)(this,arguments,function*(){const W=B.getReader();try{for(;;){const{value:G,done:le}=yield(0,u.qq)(W.read());if(le)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(G)}}finally{W.releaseLock()}})}function L(B){return(0,R.m)(null==B?void 0:B.getReader)}},4482:(Ze,H,M)=>{"use strict";M.d(H,{A:()=>R,e:()=>A});var u=M(576);function R(L){return(0,u.m)(null==L?void 0:L.lift)}function A(L){return B=>{if(R(B))return B.lift(function(Z){try{return L(Z,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Ze,H,M)=>{"use strict";M.d(H,{z:()=>R,U:()=>A});var u=M(4671);function R(...L){return A(L)}function A(L){return 0===L.length?u.y:1===L.length?L[0]:function(Z){return L.reduce((W,G)=>G(W),Z)}}},7849:(Ze,H,M)=>{"use strict";M.d(H,{h:()=>A});var u=M(2416),R=M(3410);function A(L){R.z.setTimeout(()=>{const{onUnhandledError:B}=u.v;if(!B)throw L;B(L)})}},4532:(Ze,H,M)=>{"use strict";function u(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(H,{z:()=>u})},5226:function(Ze){Ze.exports=function(){"use strict";const H="SweetAlert2:",u=b=>b.charAt(0).toUpperCase()+b.slice(1),R=b=>Array.prototype.slice.call(b),A=b=>{console.warn("".concat(H," ").concat("object"==typeof b?b.join(" "):b))},L=b=>{console.error("".concat(H," ").concat(b))},B=[],W=(b,C)=>{(b=>{B.includes(b)||(B.push(b),A(b))})('"'.concat(b,'" is deprecated and will be removed in the next major release. Please use "').concat(C,'" instead.'))},G=b=>"function"==typeof b?b():b,le=b=>b&&"function"==typeof b.toPromise,z=b=>le(b)?b.toPromise():Promise.resolve(b),K=b=>b&&Promise.resolve(b)===b,Se={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},De=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ae={},Je=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],_e=b=>Object.prototype.hasOwnProperty.call(Se,b),Ee=b=>-1!==De.indexOf(b),Ue=b=>Ae[b],Ve=b=>{_e(b)||A('Unknown parameter "'.concat(b,'"'))},ke=b=>{Je.includes(b)&&A('The parameter "'.concat(b,'" is incompatible with toasts'))},Fe=b=>{Ue(b)&&W(b,Ue(b))},se=b=>{const C={};for(const O in b)C[b[O]]="swal2-"+b[O];return C},U=se(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),ve=se(["success","warning","info","question","error"]),J=()=>document.body.querySelector(".".concat(U.container)),ne=b=>{const C=J();return C?C.querySelector(b):null},ue=b=>ne(".".concat(b)),de=()=>ue(U.popup),be=()=>ue(U.icon),ze=()=>ue(U.title),mt=()=>ue(U["html-container"]),Qt=()=>ue(U.image),$t=()=>ue(U["progress-steps"]),Xe=()=>ue(U["validation-message"]),Nt=()=>ne(".".concat(U.actions," .").concat(U.confirm)),cn=()=>ne(".".concat(U.actions," .").concat(U.deny)),Wt=()=>ne(".".concat(U.loader)),xt=()=>ne(".".concat(U.actions," .").concat(U.cancel)),Gt=()=>ue(U.actions),sn=()=>ue(U.footer),Nn=()=>ue(U["timer-progress-bar"]),Pn=()=>ue(U.close),ri=()=>{const b=R(de().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((O,Q)=>{const Me=parseInt(O.getAttribute("tabindex")),dt=parseInt(Q.getAttribute("tabindex"));return Me>dt?1:Me<dt?-1:0}),C=R(de().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(O=>"-1"!==O.getAttribute("tabindex"));return(b=>{const C=[];for(let O=0;O<b.length;O++)-1===C.indexOf(b[O])&&C.push(b[O]);return C})(b.concat(C)).filter(O=>St(O))},Vr=()=>Vn(document.body,U.shown)&&!Vn(document.body,U["toast-shown"])&&!Vn(document.body,U["no-backdrop"]),Ur=()=>de()&&Vn(de(),U.toast),xr={previousBodyPadding:null},ct=(b,C)=>{if(b.textContent="",C){const Q=(new DOMParser).parseFromString(C,"text/html");R(Q.querySelector("head").childNodes).forEach(Me=>{b.appendChild(Me)}),R(Q.querySelector("body").childNodes).forEach(Me=>{b.appendChild(Me)})}},Vn=(b,C)=>{if(!C)return!1;const O=C.split(/\s+/);for(let Q=0;Q<O.length;Q++)if(!b.classList.contains(O[Q]))return!1;return!0},Ft=(b,C,O)=>{if(((b,C)=>{R(b.classList).forEach(O=>{!Object.values(U).includes(O)&&!Object.values(ve).includes(O)&&!Object.values(C.showClass).includes(O)&&b.classList.remove(O)})})(b,C),C.customClass&&C.customClass[O]){if("string"!=typeof C.customClass[O]&&!C.customClass[O].forEach)return A("Invalid type of customClass.".concat(O,'! Expected string or iterable object, got "').concat(typeof C.customClass[O],'"'));_t(b,C.customClass[O])}},fr=(b,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return b.querySelector(".".concat(U.popup," > .").concat(U[C]));case"checkbox":return b.querySelector(".".concat(U.popup," > .").concat(U.checkbox," input"));case"radio":return b.querySelector(".".concat(U.popup," > .").concat(U.radio," input:checked"))||b.querySelector(".".concat(U.popup," > .").concat(U.radio," input:first-child"));case"range":return b.querySelector(".".concat(U.popup," > .").concat(U.range," input"));default:return b.querySelector(".".concat(U.popup," > .").concat(U.input))}},or=b=>{if(b.focus(),"file"!==b.type){const C=b.value;b.value="",b.value=C}},Mr=(b,C,O)=>{!b||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(Q=>{Array.isArray(b)?b.forEach(Me=>{O?Me.classList.add(Q):Me.classList.remove(Q)}):O?b.classList.add(Q):b.classList.remove(Q)}))},_t=(b,C)=>{Mr(b,C,!0)},Sn=(b,C)=>{Mr(b,C,!1)},Or=(b,C)=>{const O=R(b.childNodes);for(let Q=0;Q<O.length;Q++)if(Vn(O[Q],C))return O[Q]},Ut=(b,C,O)=>{O==="".concat(parseInt(O))&&(O=parseInt(O)),O||0===parseInt(O)?b.style[C]="number"==typeof O?"".concat(O,"px"):O:b.style.removeProperty(C)},it=function(b){b.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},et=b=>{b.style.display="none"},zr=(b,C,O,Q)=>{const Me=b.querySelector(C);Me&&(Me.style[O]=Q)},Rr=function(b,C){C?it(b,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):et(b)},St=b=>!(!b||!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)),Un=b=>b.scrollHeight>b.clientHeight,yn=b=>{const C=window.getComputedStyle(b),O=parseFloat(C.getPropertyValue("animation-duration")||"0"),Q=parseFloat(C.getPropertyValue("transition-duration")||"0");return O>0||Q>0},ee=function(b){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const O=Nn();St(O)&&(C&&(O.style.transition="none",O.style.width="100%"),setTimeout(()=>{O.style.transition="width ".concat(b/1e3,"s linear"),O.style.width="0%"},10))},ce=()=>"undefined"==typeof window||"undefined"==typeof document,Y={},He=b=>new Promise(C=>{if(!b)return C();const O=window.scrollX,Q=window.scrollY;Y.restoreFocusTimeout=setTimeout(()=>{Y.previousActiveElement instanceof HTMLElement?(Y.previousActiveElement.focus(),Y.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(O,Q)}),st='\n <div aria-labelledby="'.concat(U.title,'" aria-describedby="').concat(U["html-container"],'" class="').concat(U.popup,'" tabindex="-1">\n   <button type="button" class="').concat(U.close,'"></button>\n   <ul class="').concat(U["progress-steps"],'"></ul>\n   <div class="').concat(U.icon,'"></div>\n   <img class="').concat(U.image,'" />\n   <h2 class="').concat(U.title,'" id="').concat(U.title,'"></h2>\n   <div class="').concat(U["html-container"],'" id="').concat(U["html-container"],'"></div>\n   <input class="').concat(U.input,'" />\n   <input type="file" class="').concat(U.file,'" />\n   <div class="').concat(U.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(U.select,'"></select>\n   <div class="').concat(U.radio,'"></div>\n   <label for="').concat(U.checkbox,'" class="').concat(U.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(U.label,'"></span>\n   </label>\n   <textarea class="').concat(U.textarea,'"></textarea>\n   <div class="').concat(U["validation-message"],'" id="').concat(U["validation-message"],'"></div>\n   <div class="').concat(U.actions,'">\n     <div class="').concat(U.loader,'"></div>\n     <button type="button" class="').concat(U.confirm,'"></button>\n     <button type="button" class="').concat(U.deny,'"></button>\n     <button type="button" class="').concat(U.cancel,'"></button>\n   </div>\n   <div class="').concat(U.footer,'"></div>\n   <div class="').concat(U["timer-progress-bar-container"],'">\n     <div class="').concat(U["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Mt=()=>{Y.currentInstance.resetValidationMessage()},he=b=>{const C=(()=>{const b=J();return!!b&&(b.remove(),Sn([document.documentElement,document.body],[U["no-backdrop"],U["toast-shown"],U["has-column"]]),!0)})();if(ce())return void L("SweetAlert2 requires document to initialize");const O=document.createElement("div");O.className=U.container,C&&_t(O,U["no-transition"]),ct(O,st);const Q=(b=>"string"==typeof b?document.querySelector(b):b)(b.target);Q.appendChild(O),(b=>{const C=de();C.setAttribute("role",b.toast?"alert":"dialog"),C.setAttribute("aria-live",b.toast?"polite":"assertive"),b.toast||C.setAttribute("aria-modal","true")})(b),(b=>{"rtl"===window.getComputedStyle(b).direction&&_t(J(),U.rtl)})(Q),(()=>{const b=de(),C=Or(b,U.input),O=Or(b,U.file),Q=b.querySelector(".".concat(U.range," input")),Me=b.querySelector(".".concat(U.range," output")),dt=Or(b,U.select),In=b.querySelector(".".concat(U.checkbox," input")),cr=Or(b,U.textarea);C.oninput=Mt,O.onchange=Mt,dt.onchange=Mt,In.onchange=Mt,cr.oninput=Mt,Q.oninput=()=>{Mt(),Me.value=Q.value},Q.onchange=()=>{Mt(),Me.value=Q.value}})(),ae(O,b)},ae=(b,C)=>{if(C.toast)return;const O=(b=>b[Math.floor(Math.random()*b.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"},{text:"\u042e\u0420\u0418\u0419 \u041f\u041e\u0414\u041e\u041b\u042f\u041a\u0410 \u0447\u0435\u0441\u0442\u043d\u043e <br> \u043e \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u0430\u0445 \u0420\u0423\u0421\u0421\u041a\u041e\u0419 \u0410\u0420\u041c\u0418\u0418",youtubeId:"w4-_8BJKfpk"},{text:"\u041f\u043e\u043b\u043a\u043e\u0432\u043d\u0438\u043a \u0424\u0421\u0411 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u043e\u0431 \u0443\u0441\u043f\u0435\u0445\u0430\u0445 \u0420\u041e\u0421\u0421\u0418\u0418 \u0432 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"saK5UTKroDA"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const Q=document.createElement("div");Q.className=U["no-war"],ct(Q,'<a href="https://www.youtube.com/watch?v='.concat(O.youtubeId,'" target="_blank">').concat(O.text,"</a>")),b.appendChild(Q),b.style.paddingTop="4em"}},Be=(b,C)=>{b instanceof HTMLElement?C.appendChild(b):"object"==typeof b?tt(b,C):b&&ct(C,b)},tt=(b,C)=>{b.jquery?yt(C,b):ct(C,b.toString())},yt=(b,C)=>{if(b.textContent="",0 in C)for(let O=0;O in C;O++)b.appendChild(C[O].cloneNode(!0));else b.appendChild(C.cloneNode(!0))},kt=(()=>{if(ce())return!1;const b=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const O in C)if(Object.prototype.hasOwnProperty.call(C,O)&&void 0!==b.style[O])return C[O];return!1})(),Kt=(b,C)=>{const O=Gt(),Q=Wt();C.showConfirmButton||C.showDenyButton||C.showCancelButton?it(O):et(O),Ft(O,C,"actions"),function Wn(b,C,O){const Q=Nt(),Me=cn(),dt=xt();Ht(Q,"confirm",O),Ht(Me,"deny",O),Ht(dt,"cancel",O),function qr(b,C,O,Q){if(!Q.buttonsStyling)return Sn([b,C,O],U.styled);_t([b,C,O],U.styled),Q.confirmButtonColor&&(b.style.backgroundColor=Q.confirmButtonColor,_t(b,U["default-outline"])),Q.denyButtonColor&&(C.style.backgroundColor=Q.denyButtonColor,_t(C,U["default-outline"])),Q.cancelButtonColor&&(O.style.backgroundColor=Q.cancelButtonColor,_t(O,U["default-outline"]))}(Q,Me,dt,O),O.reverseButtons&&(O.toast?(b.insertBefore(dt,Q),b.insertBefore(Me,Q)):(b.insertBefore(dt,C),b.insertBefore(Me,C),b.insertBefore(Q,C)))}(O,Q,C),ct(Q,C.loaderHtml),Ft(Q,C,"loader")};function Ht(b,C,O){Rr(b,O["show".concat(u(C),"Button")],"inline-block"),ct(b,O["".concat(C,"ButtonText")]),b.setAttribute("aria-label",O["".concat(C,"ButtonAriaLabel")]),b.className=U[C],Ft(b,O,"".concat(C,"Button")),_t(b,O["".concat(C,"ButtonClass")])}const Pr=(b,C)=>{const O=J();!O||(function Pi(b,C){"string"==typeof C?b.style.background=C:C||_t([document.documentElement,document.body],U["no-backdrop"])}(O,C.backdrop),function pr(b,C){C in U?_t(b,U[C]):(A('The "position" parameter is not valid, defaulting to "center"'),_t(b,U.center))}(O,C.position),function vo(b,C){if(C&&"string"==typeof C){const O="grow-".concat(C);O in U&&_t(b,U[O])}}(O,C.grow),Ft(O,C,"container"))};var It={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Qe=["input","file","range","select","radio","checkbox","textarea"],xn=b=>{if(!Et[b.input])return L('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(b.input,'"'));const C=os(b.input),O=Et[b.input](C,b);it(C),setTimeout(()=>{or(O)})},Gi=(b,C)=>{const O=fr(de(),b);if(O){(b=>{for(let C=0;C<b.attributes.length;C++){const O=b.attributes[C].name;["type","value","style"].includes(O)||b.removeAttribute(O)}})(O);for(const Q in C)O.setAttribute(Q,C[Q])}},Kn=b=>{const C=os(b.input);"object"==typeof b.customClass&&_t(C,b.customClass.input)},_i=(b,C)=>{(!b.placeholder||C.inputPlaceholder)&&(b.placeholder=C.inputPlaceholder)},on=(b,C,O)=>{if(O.inputLabel){b.id=U.input;const Q=document.createElement("label"),Me=U["input-label"];Q.setAttribute("for",b.id),Q.className=Me,"object"==typeof O.customClass&&_t(Q,O.customClass.inputLabel),Q.innerText=O.inputLabel,C.insertAdjacentElement("beforebegin",Q)}},os=b=>Or(de(),U[b]||U.input),kn=(b,C)=>{["string","number"].includes(typeof C)?b.value="".concat(C):K(C)||A('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof C,'"'))},Et={};Et.text=Et.email=Et.password=Et.number=Et.tel=Et.url=(b,C)=>(kn(b,C.inputValue),on(b,b,C),_i(b,C),b.type=C.input,b),Et.file=(b,C)=>(on(b,b,C),_i(b,C),b),Et.range=(b,C)=>{const O=b.querySelector("input"),Q=b.querySelector("output");return kn(O,C.inputValue),O.type=C.input,kn(Q,C.inputValue),on(O,b,C),b},Et.select=(b,C)=>{if(b.textContent="",C.inputPlaceholder){const O=document.createElement("option");ct(O,C.inputPlaceholder),O.value="",O.disabled=!0,O.selected=!0,b.appendChild(O)}return on(b,b,C),b},Et.radio=b=>(b.textContent="",b),Et.checkbox=(b,C)=>{const O=fr(de(),"checkbox");O.value="1",O.id=U.checkbox,O.checked=Boolean(C.inputValue);const Q=b.querySelector("span");return ct(Q,C.inputPlaceholder),O},Et.textarea=(b,C)=>{kn(b,C.inputValue),_i(b,C),on(b,b,C);return setTimeout(()=>{if("MutationObserver"in window){const Q=parseInt(window.getComputedStyle(de()).width);new MutationObserver(()=>{const dt=b.offsetWidth+(Q=>parseInt(window.getComputedStyle(Q).marginLeft)+parseInt(window.getComputedStyle(Q).marginRight))(b);de().style.width=dt>Q?"".concat(dt,"px"):null}).observe(b,{attributes:!0,attributeFilter:["style"]})}}),b};const xs=(b,C)=>{const O=mt();Ft(O,C,"htmlContainer"),C.html?(Be(C.html,O),it(O,"block")):C.text?(O.textContent=C.text,it(O,"block")):et(O),((b,C)=>{const O=de(),Q=It.innerParams.get(b),Me=!Q||C.input!==Q.input;Qe.forEach(dt=>{const In=Or(O,U[dt]);Gi(dt,C.inputAttributes),In.className=U[dt],Me&&et(In)}),C.input&&(Me&&xn(C),Kn(C))})(b,C)},Mn=(b,C)=>{for(const O in ve)C.icon!==O&&Sn(b,ve[O]);_t(b,ve[C.icon]),Uu(b,C),as(),Ft(b,C,"icon")},as=()=>{const b=de(),C=window.getComputedStyle(b).getPropertyValue("background-color"),O=b.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Q=0;Q<O.length;Q++)O[Q].style.backgroundColor=C},_n=(b,C)=>{let Q,O=b.innerHTML;C.iconHtml?Q=us(C.iconHtml):"success"===C.icon?(Q='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',O=O.replace(/ style=".*?"/g,"")):Q="error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':us({question:"?",warning:"!",info:"i"}[C.icon]),O.trim()!==Q.trim()&&ct(b,Q)},Uu=(b,C)=>{if(C.iconColor){b.style.color=C.iconColor,b.style.borderColor=C.iconColor;for(const O of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])zr(b,O,"backgroundColor",C.iconColor);zr(b,".swal2-success-ring","borderColor",C.iconColor)}},us=b=>'<div class="'.concat(U["icon-content"],'">').concat(b,"</div>"),Bu=b=>{const C=document.createElement("li");return _t(C,U["progress-step"]),ct(C,b),C},aa=b=>{const C=document.createElement("li");return _t(C,U["progress-step-line"]),b.progressStepsDistance&&Ut(C,"width",b.progressStepsDistance),C},kl=(b,C)=>{b.className="".concat(U.popup," ").concat(St(b)?C.showClass.popup:""),C.toast?(_t([document.documentElement,document.body],U["toast-shown"]),_t(b,U.toast)):_t(b,U.modal),Ft(b,C,"popup"),"string"==typeof C.customClass&&_t(b,C.customClass),C.icon&&_t(b,U["icon-".concat(C.icon)])},qa=(b,C)=>{((b,C)=>{const O=J(),Q=de();C.toast?(Ut(O,"width",C.width),Q.style.width="100%",Q.insertBefore(Wt(),be())):Ut(Q,"width",C.width),Ut(Q,"padding",C.padding),C.color&&(Q.style.color=C.color),C.background&&(Q.style.background=C.background),et(Xe()),kl(Q,C)})(0,C),Pr(0,C),((b,C)=>{const O=$t();if(!C.progressSteps||0===C.progressSteps.length)return et(O);it(O),O.textContent="",C.currentProgressStep>=C.progressSteps.length&&A("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((Q,Me)=>{const dt=Bu(Q);if(O.appendChild(dt),Me===C.currentProgressStep&&_t(dt,U["active-progress-step"]),Me!==C.progressSteps.length-1){const In=aa(C);O.appendChild(In)}})})(0,C),((b,C)=>{const O=It.innerParams.get(b),Q=be();O&&C.icon===O.icon?(_n(Q,C),Mn(Q,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(ve).indexOf(C.icon)?(L('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(C.icon,'"')),et(Q)):(it(Q),_n(Q,C),Mn(Q,C),_t(Q,C.showClass.icon)):et(Q)})(b,C),((b,C)=>{const O=Qt();if(!C.imageUrl)return et(O);it(O,""),O.setAttribute("src",C.imageUrl),O.setAttribute("alt",C.imageAlt),Ut(O,"width",C.imageWidth),Ut(O,"height",C.imageHeight),O.className=U.image,Ft(O,C,"image")})(0,C),((b,C)=>{const O=ze();Rr(O,C.title||C.titleText,"block"),C.title&&Be(C.title,O),C.titleText&&(O.innerText=C.titleText),Ft(O,C,"title")})(0,C),((b,C)=>{const O=Pn();ct(O,C.closeButtonHtml),Ft(O,C,"closeButton"),Rr(O,C.showCloseButton),O.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),xs(b,C),Kt(0,C),((b,C)=>{const O=sn();Rr(O,C.footer),C.footer&&Be(C.footer,O),Ft(O,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(de())},zi=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Wa=()=>{R(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},Nl=["swal-title","swal-html","swal-footer"],Vc=b=>{const C={};return R(b.querySelectorAll("swal-param")).forEach(O=>{Ks(O,["name","value"]);const Q=O.getAttribute("name"),Me=O.getAttribute("value");"boolean"==typeof Se[Q]&&"false"===Me&&(C[Q]=!1),"object"==typeof Se[Q]&&(C[Q]=JSON.parse(Me))}),C},Ka=b=>{const C={};return R(b.querySelectorAll("swal-button")).forEach(O=>{Ks(O,["type","color","aria-label"]);const Q=O.getAttribute("type");C["".concat(Q,"ButtonText")]=O.innerHTML,C["show".concat(u(Q),"Button")]=!0,O.hasAttribute("color")&&(C["".concat(Q,"ButtonColor")]=O.getAttribute("color")),O.hasAttribute("aria-label")&&(C["".concat(Q,"ButtonAriaLabel")]=O.getAttribute("aria-label"))}),C},Uc=b=>{const C={},O=b.querySelector("swal-image");return O&&(Ks(O,["src","width","height","alt"]),O.hasAttribute("src")&&(C.imageUrl=O.getAttribute("src")),O.hasAttribute("width")&&(C.imageWidth=O.getAttribute("width")),O.hasAttribute("height")&&(C.imageHeight=O.getAttribute("height")),O.hasAttribute("alt")&&(C.imageAlt=O.getAttribute("alt"))),C},_o=b=>{const C={},O=b.querySelector("swal-icon");return O&&(Ks(O,["type","color"]),O.hasAttribute("type")&&(C.icon=O.getAttribute("type")),O.hasAttribute("color")&&(C.iconColor=O.getAttribute("color")),C.iconHtml=O.innerHTML),C},Ws=b=>{const C={},O=b.querySelector("swal-input");O&&(Ks(O,["type","label","placeholder","value"]),C.input=O.getAttribute("type")||"text",O.hasAttribute("label")&&(C.inputLabel=O.getAttribute("label")),O.hasAttribute("placeholder")&&(C.inputPlaceholder=O.getAttribute("placeholder")),O.hasAttribute("value")&&(C.inputValue=O.getAttribute("value")));const Q=b.querySelectorAll("swal-input-option");return Q.length&&(C.inputOptions={},R(Q).forEach(Me=>{Ks(Me,["value"]);const dt=Me.getAttribute("value");C.inputOptions[dt]=Me.innerHTML})),C},Ya=(b,C)=>{const O={};for(const Q in C){const Me=C[Q],dt=b.querySelector(Me);dt&&(Ks(dt,[]),O[Me.replace(/^swal-/,"")]=dt.innerHTML.trim())}return O},Bc=b=>{const C=Nl.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);R(b.children).forEach(O=>{const Q=O.tagName.toLowerCase();-1===C.indexOf(Q)&&A("Unrecognized element <".concat(Q,">"))})},Ks=(b,C)=>{R(b.attributes).forEach(O=>{-1===C.indexOf(O.name)&&A(['Unrecognized attribute "'.concat(O.name,'" on <').concat(b.tagName.toLowerCase(),">."),"".concat(C.length?"Allowed attributes are: ".concat(C.join(", ")):"To set the value, use HTML within the element.")])})};var Qa={email:(b,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(b)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(b,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(b)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function Fl(b){(function Ys(b){b.inputValidator||Object.keys(Qa).forEach(C=>{b.input===C&&(b.inputValidator=Qa[C])})})(b),b.showLoaderOnConfirm&&!b.preConfirm&&A("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function jc(b){(!b.target||"string"==typeof b.target&&!document.querySelector(b.target)||"string"!=typeof b.target&&!b.target.appendChild)&&(A('Target parameter is not valid, defaulting to "body"'),b.target="body")}(b),"string"==typeof b.title&&(b.title=b.title.split("\n").join("<br />")),he(b)}class Wi{constructor(C,O){this.callback=C,this.remaining=O,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const O=this.running;return O&&this.stop(),this.remaining+=C,O&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const rh=()=>{null===xr.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(xr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(xr.previousBodyPadding+(()=>{const b=document.createElement("div");b.className=U["scrollbar-measure"],document.body.appendChild(b);const C=b.getBoundingClientRect().width-b.clientWidth;return document.body.removeChild(b),C})(),"px"))},oi=()=>{const b=navigator.userAgent,C=!!b.match(/iPad/i)||!!b.match(/iPhone/i),O=!!b.match(/WebKit/i);C&&O&&!b.match(/CriOS/i)&&de().scrollHeight>window.innerHeight-44&&(J().style.paddingBottom="".concat(44,"px"))},Qs=()=>{const b=J();let C;b.ontouchstart=O=>{C=bo(O)},b.ontouchmove=O=>{C&&(O.preventDefault(),O.stopPropagation())}},bo=b=>{const C=b.target,O=J();return!(Eo(b)||Ll(b)||C!==O&&(Un(O)||"INPUT"===C.tagName||"TEXTAREA"===C.tagName||Un(mt())&&mt().contains(C)))},Eo=b=>b.touches&&b.touches.length&&"stylus"===b.touches[0].touchType,Ll=b=>b.touches&&b.touches.length>1,ju=b=>{const C=J(),O=de();"function"==typeof b.willOpen&&b.willOpen(O);const Me=window.getComputedStyle(document.body).overflowY;kr(C,O,b),setTimeout(()=>{bi(C,O)},10),Vr()&&($u(C,b.scrollbarPadding,Me),R(document.body.children).forEach(C=>{C===J()||C.contains(J())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!Ur()&&!Y.previousActiveElement&&(Y.previousActiveElement=document.activeElement),"function"==typeof b.didOpen&&setTimeout(()=>b.didOpen(O)),Sn(C,U["no-transition"])},ki=b=>{const C=de();if(b.target!==C)return;const O=J();C.removeEventListener(kt,ki),O.style.overflowY="auto"},bi=(b,C)=>{kt&&yn(C)?(b.style.overflowY="hidden",C.addEventListener(kt,ki)):b.style.overflowY="auto"},$u=(b,C,O)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Vn(document.body,U.iosfix)){const C=document.body.scrollTop;document.body.style.top="".concat(-1*C,"px"),_t(document.body,U.iosfix),Qs(),oi()}})(),C&&"hidden"!==O&&rh(),setTimeout(()=>{b.scrollTop=0})},kr=(b,C,O)=>{_t(b,O.showClass.backdrop),C.style.setProperty("opacity","0","important"),it(C,"grid"),setTimeout(()=>{_t(C,O.showClass.popup),C.style.removeProperty("opacity")},10),_t([document.documentElement,document.body],U.shown),O.heightAuto&&O.backdrop&&!O.toast&&_t([document.documentElement,document.body],U["height-auto"])},Yn=b=>{let C=de();C||new tr,C=de();const O=Wt();Ur()?et(be()):Hu(C,b),it(O),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},Hu=(b,C)=>{const O=Gt(),Q=Wt();!C&&St(Nt())&&(C=Nt()),it(O),C&&(et(C),Q.setAttribute("data-button-to-replace",C.className)),Q.parentNode.insertBefore(Q,C),_t([b,O],U.loading)},la=b=>b.checked?1:0,ca=b=>b.checked?b.value:null,Ja=b=>b.files.length?null!==b.getAttribute("multiple")?b.files:b.files[0]:null,Ki=(b,C)=>{const O=de(),Q=Me=>Cn[C.input](O,Os(Me),C);le(C.inputOptions)||K(C.inputOptions)?(Yn(Nt()),z(C.inputOptions).then(Me=>{b.hideLoading(),Q(Me)})):"object"==typeof C.inputOptions?Q(C.inputOptions):L("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof C.inputOptions))},Xa=(b,C)=>{const O=b.getInput();et(O),z(C.inputValue).then(Q=>{O.value="number"===C.input?parseFloat(Q)||0:"".concat(Q),it(O),O.focus(),b.hideLoading()}).catch(Q=>{L("Error in inputValue promise: ".concat(Q)),O.value="",it(O),O.focus(),b.hideLoading()})},Cn={select:(b,C,O)=>{const Q=Or(b,U.select),Me=(dt,In,cr)=>{const ht=document.createElement("option");ht.value=cr,ct(ht,In),ht.selected=Yi(cr,O.inputValue),dt.appendChild(ht)};C.forEach(dt=>{const In=dt[0],cr=dt[1];if(Array.isArray(cr)){const ht=document.createElement("optgroup");ht.label=In,ht.disabled=!1,Q.appendChild(ht),cr.forEach(Ns=>Me(ht,Ns[1],Ns[0]))}else Me(Q,cr,In)}),Q.focus()},radio:(b,C,O)=>{const Q=Or(b,U.radio);C.forEach(dt=>{const In=dt[0],cr=dt[1],ht=document.createElement("input"),Ns=document.createElement("label");ht.type="radio",ht.name=U.radio,ht.value=In,Yi(In,O.inputValue)&&(ht.checked=!0);const va=document.createElement("span");ct(va,cr),va.className=U.label,Ns.appendChild(ht),Ns.appendChild(va),Q.appendChild(Ns)});const Me=Q.querySelectorAll("input");Me.length&&Me[0].focus()}},Os=b=>{const C=[];return"undefined"!=typeof Map&&b instanceof Map?b.forEach((O,Q)=>{let Me=O;"object"==typeof Me&&(Me=Os(Me)),C.push([Q,Me])}):Object.keys(b).forEach(O=>{let Q=b[O];"object"==typeof Q&&(Q=Os(Q)),C.push([O,Q])}),C},Yi=(b,C)=>C&&C.toString()===b.toString();function wn(){const b=It.innerParams.get(this);if(!b)return;const C=It.domCache.get(this);et(C.loader),Ur()?b.icon&&it(be()):da(C),Sn([C.popup,C.actions],U.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const da=b=>{const C=b.popup.getElementsByClassName(b.loader.getAttribute("data-button-to-replace"));C.length?it(C[0],"inline-block"):!St(Nt())&&!St(cn())&&!St(xt())&&et(b.actions)};var Ei={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Io=()=>Nt()&&Nt().click(),ar=b=>{b.keydownTarget&&b.keydownHandlerAdded&&(b.keydownTarget.removeEventListener("keydown",b.keydownHandler,{capture:b.keydownListenerCapture}),b.keydownHandlerAdded=!1)},ai=(b,C,O)=>{const Q=ri();if(Q.length)return(C+=O)===Q.length?C=0:-1===C&&(C=Q.length-1),Q[C].focus();de().focus()},ha=["ArrowRight","ArrowDown"],Wr=["ArrowLeft","ArrowUp"],hs=(b,C,O)=>{const Q=It.innerParams.get(b);!Q||C.isComposing||229===C.keyCode||(Q.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?fs(b,C,Q):"Tab"===C.key?Ct(C,Q):[...ha,...Wr].includes(C.key)?Do(C.key):"Escape"===C.key&&To(C,Q,O))},fs=(b,C,O)=>{if(G(O.allowEnterKey)&&C.target&&b.getInput()&&C.target instanceof HTMLElement&&C.target.outerHTML===b.getInput().outerHTML){if(["textarea","file"].includes(O.input))return;Io(),C.preventDefault()}},Ct=(b,C)=>{const O=b.target,Q=ri();let Me=-1;for(let dt=0;dt<Q.length;dt++)if(O===Q[dt]){Me=dt;break}ai(0,Me,b.shiftKey?-1:1),b.stopPropagation(),b.preventDefault()},Do=b=>{const C=Nt(),O=cn(),Q=xt();if(document.activeElement instanceof HTMLElement&&![C,O,Q].includes(document.activeElement))return;const Me=ha.includes(b)?"nextElementSibling":"previousElementSibling";let dt=document.activeElement;for(let In=0;In<Gt().children.length;In++){if(dt=dt[Me],!dt)return;if(dt instanceof HTMLButtonElement&&St(dt))break}dt instanceof HTMLButtonElement&&dt.focus()},To=(b,C,O)=>{G(C.allowEscapeKey)&&(b.preventDefault(),O(zi.esc))};function eu(b,C,O,Q){Ur()?eo(b,Q):(He(O).then(()=>eo(b,Q)),ar(Y)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),Vr()&&(null!==xr.previousBodyPadding&&(document.body.style.paddingRight="".concat(xr.previousBodyPadding,"px"),xr.previousBodyPadding=null),(()=>{if(Vn(document.body,U.iosfix)){const b=parseInt(document.body.style.top,10);Sn(document.body,U.iosfix),document.body.style.top="",document.body.scrollTop=-1*b}})(),Wa()),function Ao(){Sn([document.documentElement,document.body],[U.shown,U["height-auto"],U["no-backdrop"],U["toast-shown"]])}()}function Xs(b){b=xo(b);const C=Ei.swalPromiseResolve.get(this),O=Vl(this);this.isAwaitingPromise()?b.isDismissed||(Bt(this),C(b)):O&&C(b)}const Vl=b=>{const C=de();if(!C)return!1;const O=It.innerParams.get(b);if(!O||Vn(C,O.hideClass.popup))return!1;Sn(C,O.showClass.popup),_t(C,O.hideClass.popup);const Q=J();return Sn(Q,O.showClass.backdrop),_t(Q,O.hideClass.backdrop),Hn(b,C,O),!0};const Bt=b=>{b.isAwaitingPromise()&&(It.awaitingPromise.delete(b),It.innerParams.get(b)||b._destroy())},xo=b=>void 0===b?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},b),Hn=(b,C,O)=>{const Q=J(),Me=kt&&yn(C);"function"==typeof O.willClose&&O.willClose(C),Me?ps(b,C,Q,O.returnFocus,O.didClose):eu(b,Q,O.returnFocus,O.didClose)},ps=(b,C,O,Q,Me)=>{Y.swalCloseEventFinishedCallback=eu.bind(null,b,O,Q,Me),C.addEventListener(kt,function(dt){dt.target===C&&(Y.swalCloseEventFinishedCallback(),delete Y.swalCloseEventFinishedCallback)})},eo=(b,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(b.params)(),b._destroy()})};function Nr(b,C,O){const Q=It.domCache.get(b);C.forEach(Me=>{Q[Me].disabled=O})}function fa(b,C){if(!b)return!1;if("radio"===b.type){const Q=b.parentNode.parentNode.querySelectorAll("input");for(let Me=0;Me<Q.length;Me++)Q[Me].disabled=C}else b.disabled=C}const Ni=b=>{const C={};return Object.keys(b).forEach(O=>{Ee(O)?C[O]=b[O]:A("Invalid parameter to update: ".concat(O))}),C};const Oo=b=>{ru(b),delete b.params,delete Y.keydownHandler,delete Y.keydownTarget,delete Y.currentInstance},ru=b=>{b.isAwaitingPromise()?(Rs(It,b),It.awaitingPromise.set(b,!0)):(Rs(Ei,b),Rs(It,b))},Rs=(b,C)=>{for(const O in b)b[O].delete(C)};var iu=Object.freeze({hideLoading:wn,disableLoading:wn,getInput:function Co(b){const C=It.innerParams.get(b||this),O=It.domCache.get(b||this);return O?fr(O.popup,C.input):null},close:Xs,isAwaitingPromise:function So(){return!!It.awaitingPromise.get(this)},rejectPromise:function je(b){const C=Ei.swalPromiseReject.get(this);Bt(this),C&&C(b)},handleAwaitingPromise:Bt,closePopup:Xs,closeModal:Xs,closeToast:Xs,enableButtons:function tu(){Nr(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Gu(){Nr(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function zu(){return fa(this.getInput(),!1)},disableInput:function Mo(){return fa(this.getInput(),!0)},showValidationMessage:function to(b){const C=It.domCache.get(this),O=It.innerParams.get(this);ct(C.validationMessage,b),C.validationMessage.className=U["validation-message"],O.customClass&&O.customClass.validationMessage&&_t(C.validationMessage,O.customClass.validationMessage),it(C.validationMessage);const Q=this.getInput();Q&&(Q.setAttribute("aria-invalid",!0),Q.setAttribute("aria-describedby",U["validation-message"]),or(Q),_t(Q,U.inputerror))},resetValidationMessage:function ur(){const b=It.domCache.get(this);b.validationMessage&&et(b.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),Sn(C,U.inputerror))},getProgressSteps:function Ci(){return It.domCache.get(this).progressSteps},update:function nu(b){const C=de(),O=It.innerParams.get(this);if(!C||Vn(C,O.hideClass.popup))return A("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Q=Ni(b),Me=Object.assign({},O,Q);qa(this,Me),It.innerParams.set(this,Me),Object.defineProperties(this,{params:{value:Object.assign({},this.params,b),writable:!1,enumerable:!0}})},_destroy:function Ji(){const b=It.domCache.get(this),C=It.innerParams.get(this);C?(b.popup&&Y.swalCloseEventFinishedCallback&&(Y.swalCloseEventFinishedCallback(),delete Y.swalCloseEventFinishedCallback),"function"==typeof C.didDestroy&&C.didDestroy(),Oo(this)):ru(this)}});const pa=(b,C)=>{const O=It.innerParams.get(b);if(!O.input)return L('The "input" parameter is needed to be set when using returnInputValueOn'.concat(u(C)));const Q=((b,C)=>{const O=b.getInput();if(!O)return null;switch(C.input){case"checkbox":return la(O);case"radio":return ca(O);case"file":return Ja(O);default:return C.inputAutoTrim?O.value.trim():O.value}})(b,O);O.inputValidator?Hc(b,Q,C):b.getInput().checkValidity()?"deny"===C?no(b,Q):Xi(b,Q):(b.enableButtons(),b.showValidationMessage(O.validationMessage))},Hc=(b,C,O)=>{const Q=It.innerParams.get(b);b.disableInput(),Promise.resolve().then(()=>z(Q.inputValidator(C,Q.validationMessage))).then(dt=>{b.enableButtons(),b.enableInput(),dt?b.showValidationMessage(dt):"deny"===O?no(b,C):Xi(b,C)})},no=(b,C)=>{const O=It.innerParams.get(b||void 0);O.showLoaderOnDeny&&Yn(cn()),O.preDeny?(It.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>z(O.preDeny(C,O.validationMessage))).then(Me=>{!1===Me?(b.hideLoading(),Bt(b)):b.closePopup({isDenied:!0,value:void 0===Me?C:Me})}).catch(Me=>ga(b||void 0,Me))):b.closePopup({isDenied:!0,value:C})},gs=(b,C)=>{b.closePopup({isConfirmed:!0,value:C})},ga=(b,C)=>{b.rejectPromise(C)},Xi=(b,C)=>{const O=It.innerParams.get(b||void 0);O.showLoaderOnConfirm&&Yn(),O.preConfirm?(b.resetValidationMessage(),It.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>z(O.preConfirm(C,O.validationMessage))).then(Me=>{St(Xe())||!1===Me?(b.hideLoading(),Bt(b)):gs(b,void 0===Me?C:Me)}).catch(Me=>ga(b||void 0,Me))):gs(b,C)},Ul=(b,C,O)=>{C.popup.onclick=()=>{const Q=It.innerParams.get(b);Q&&(ro(Q)||Q.timer||Q.input)||O(zi.close)}},ro=b=>b.showConfirmButton||b.showDenyButton||b.showCancelButton||b.showCloseButton;let Kr=!1;const Bl=b=>{b.popup.onmousedown=()=>{b.container.onmouseup=function(C){b.container.onmouseup=void 0,C.target===b.container&&(Kr=!0)}}},mr=b=>{b.container.onmousedown=()=>{b.popup.onmouseup=function(C){b.popup.onmouseup=void 0,(C.target===b.popup||b.popup.contains(C.target))&&(Kr=!0)}}},es=(b,C,O)=>{C.container.onclick=Q=>{const Me=It.innerParams.get(b);Kr?Kr=!1:Q.target===C.container&&G(Me.allowOutsideClick)&&O(zi.backdrop)}},Zc=b=>b instanceof Element||(b=>"object"==typeof b&&b.jquery)(b);const $l=()=>{if(Y.timeout)return(()=>{const b=Nn(),C=parseInt(window.getComputedStyle(b).width);b.style.removeProperty("transition"),b.style.width="100%";const Q=C/parseInt(window.getComputedStyle(b).width)*100;b.style.removeProperty("transition"),b.style.width="".concat(Q,"%")})(),Y.timeout.stop()},io=()=>{if(Y.timeout){const b=Y.timeout.start();return ee(b),b}};let lr=!1;const au={};const so=b=>{for(let C=b.target;C&&C!==document;C=C.parentNode)for(const O in au){const Q=C.getAttribute(O);if(Q)return void au[O].fire({template:Q})}};var Wu=Object.freeze({isValidParameter:_e,isUpdatableParameter:Ee,isDeprecatedParameter:Ue,argsToParams:b=>{const C={};return"object"!=typeof b[0]||Zc(b[0])?["title","html","icon"].forEach((O,Q)=>{const Me=b[Q];"string"==typeof Me||Zc(Me)?C[O]=Me:void 0!==Me&&L("Unexpected type of ".concat(O,'! Expected "string" or "Element", got ').concat(typeof Me))}):Object.assign(C,b[0]),C},isVisible:()=>St(de()),clickConfirm:Io,clickDeny:()=>cn()&&cn().click(),clickCancel:()=>xt()&&xt().click(),getContainer:J,getPopup:de,getTitle:ze,getHtmlContainer:mt,getImage:Qt,getIcon:be,getInputLabel:()=>ue(U["input-label"]),getCloseButton:Pn,getActions:Gt,getConfirmButton:Nt,getDenyButton:cn,getCancelButton:xt,getLoader:Wt,getFooter:sn,getTimerProgressBar:Nn,getFocusableElements:ri,getValidationMessage:Xe,isLoading:()=>de().hasAttribute("data-loading"),fire:function ih(){const b=this;for(var C=arguments.length,O=new Array(C),Q=0;Q<C;Q++)O[Q]=arguments[Q];return new b(...O)},mixin:function sh(b){return class C extends(this){_main(Q,Me){return super._main(Q,Object.assign({},b,Me))}}},showLoading:Yn,enableLoading:Yn,getTimerLeft:()=>Y.timeout&&Y.timeout.getTimerLeft(),stopTimer:$l,resumeTimer:io,toggleTimer:()=>{const b=Y.timeout;return b&&(b.running?$l():io())},increaseTimer:b=>{if(Y.timeout){const C=Y.timeout.increase(b);return ee(C,!0),C}},isTimerRunning:()=>Y.timeout&&Y.timeout.isRunning(),bindClickHandler:function ks(){au[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,lr||(document.body.addEventListener("click",so),lr=!0)}});let Ii;class ui{constructor(){if("undefined"==typeof window)return;Ii=this;for(var C=arguments.length,O=new Array(C),Q=0;Q<C;Q++)O[Q]=arguments[Q];const Me=Object.freeze(this.constructor.argsToParams(O));Object.defineProperties(this,{params:{value:Me,writable:!1,enumerable:!0,configurable:!0}});const dt=Ii._main(Ii.params);It.promise.set(this,dt)}_main(C){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(b=>{!b.backdrop&&b.allowOutsideClick&&A('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in b)Ve(C),b.toast&&ke(C),Fe(C)})(Object.assign({},O,C)),Y.currentInstance&&(Y.currentInstance._destroy(),Vr()&&Wa()),Y.currentInstance=Ii;const Q=Hl(C,O);Fl(Q),Object.freeze(Q),Y.timeout&&(Y.timeout.stop(),delete Y.timeout),clearTimeout(Y.restoreFocusTimeout);const Me=Gc(Ii);return qa(Ii,Q),It.innerParams.set(Ii,Q),ko(Ii,Me,Q)}then(C){return It.promise.get(this).then(C)}finally(C){return It.promise.get(this).finally(C)}}const ko=(b,C,O)=>new Promise((Q,Me)=>{const dt=In=>{b.closePopup({isDismissed:!0,dismiss:In})};Ei.swalPromiseResolve.set(b,Q),Ei.swalPromiseReject.set(b,Me),C.confirmButton.onclick=()=>(b=>{const C=It.innerParams.get(b);b.disableButtons(),C.input?pa(b,"confirm"):Xi(b,!0)})(b),C.denyButton.onclick=()=>(b=>{const C=It.innerParams.get(b);b.disableButtons(),C.returnInputValueOnDeny?pa(b,"deny"):no(b,!1)})(b),C.cancelButton.onclick=()=>((b,C)=>{b.disableButtons(),C(zi.cancel)})(b,dt),C.closeButton.onclick=()=>dt(zi.close),((b,C,O)=>{It.innerParams.get(b).toast?Ul(b,C,O):(Bl(C),mr(C),es(b,C,O))})(b,C,dt),((b,C,O,Q)=>{ar(C),O.toast||(C.keydownHandler=Me=>hs(b,Me,Q),C.keydownTarget=O.keydownListenerCapture?window:de(),C.keydownListenerCapture=O.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(b,Y,O,dt),((b,C)=>{"select"===C.input||"radio"===C.input?Ki(b,C):["text","email","number","tel","textarea"].includes(C.input)&&(le(C.inputValue)||K(C.inputValue))&&(Yn(Nt()),Xa(b,C))})(b,O),ju(O),Zn(Y,O,dt),ya(C,O),setTimeout(()=>{C.container.scrollTop=0})}),Hl=(b,C)=>{const O=(b=>{const C="string"==typeof b.template?document.querySelector(b.template):b.template;if(!C)return{};const O=C.content;return Bc(O),Object.assign(Vc(O),Ka(O),Uc(O),_o(O),Ws(O),Ya(O,Nl))})(b),Q=Object.assign({},Se,C,O,b);return Q.showClass=Object.assign({},Se.showClass,Q.showClass),Q.hideClass=Object.assign({},Se.hideClass,Q.hideClass),Q},Gc=b=>{const C={popup:de(),container:J(),actions:Gt(),confirmButton:Nt(),denyButton:cn(),cancelButton:xt(),loader:Wt(),closeButton:Pn(),validationMessage:Xe(),progressSteps:$t()};return It.domCache.set(b,C),C},Zn=(b,C,O)=>{const Q=Nn();et(Q),C.timer&&(b.timeout=new Wi(()=>{O("timer"),delete b.timeout},C.timer),C.timerProgressBar&&(it(Q),Ft(Q,C,"timerProgressBar"),setTimeout(()=>{b.timeout&&b.timeout.running&&ee(C.timer)})))},ya=(b,C)=>{if(!C.toast){if(!G(C.allowEnterKey))return ms();ft(b,C)||ai(0,-1,1)}},ft=(b,C)=>C.focusDeny&&St(b.denyButton)?(b.denyButton.focus(),!0):C.focusCancel&&St(b.cancelButton)?(b.cancelButton.focus(),!0):!(!C.focusConfirm||!St(b.confirmButton)||(b.confirmButton.focus(),0)),ms=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(ui.prototype,iu),Object.assign(ui,Wu),Object.keys(iu).forEach(b=>{ui[b]=function(){if(Ii)return Ii[b](...arguments)}}),ui.DismissReason=zi,ui.version="11.4.17";const tr=ui;return tr.default=tr,tr}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(H,M){var u=H.createElement("style");if(H.getElementsByTagName("head")[0].appendChild(u),u.styleSheet)u.styleSheet.disabled||(u.styleSheet.cssText=M);else try{u.innerHTML=M}catch(R){u.innerText=M}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(Ze,H,M)=>{"use strict";function L(J,ne){var ue={};for(var de in J)Object.prototype.hasOwnProperty.call(J,de)&&ne.indexOf(de)<0&&(ue[de]=J[de]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var be=0;for(de=Object.getOwnPropertySymbols(J);be<de.length;be++)ne.indexOf(de[be])<0&&Object.prototype.propertyIsEnumerable.call(J,de[be])&&(ue[de[be]]=J[de[be]])}return ue}function G(J,ne,ue,de){return new(ue||(ue=Promise))(function(ze,mt){function Qt(Nt){try{Xe(de.next(Nt))}catch(cn){mt(cn)}}function $t(Nt){try{Xe(de.throw(Nt))}catch(cn){mt(cn)}}function Xe(Nt){Nt.done?ze(Nt.value):function be(ze){return ze instanceof ue?ze:new ue(function(mt){mt(ze)})}(Nt.value).then(Qt,$t)}Xe((de=de.apply(J,ne||[])).next())})}function _e(J){return this instanceof _e?(this.v=J,this):new _e(J)}function Ee(J,ne,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,de=ue.apply(J,ne||[]),ze=[];return be={},mt("next"),mt("throw"),mt("return"),be[Symbol.asyncIterator]=function(){return this},be;function mt(dn){de[dn]&&(be[dn]=function(Wt){return new Promise(function(xt,Gt){ze.push([dn,Wt,xt,Gt])>1||Qt(dn,Wt)})})}function Qt(dn,Wt){try{!function $t(dn){dn.value instanceof _e?Promise.resolve(dn.value.v).then(Xe,Nt):cn(ze[0][2],dn)}(de[dn](Wt))}catch(xt){cn(ze[0][3],xt)}}function Xe(dn){Qt("next",dn)}function Nt(dn){Qt("throw",dn)}function cn(dn,Wt){dn(Wt),ze.shift(),ze.length&&Qt(ze[0][0],ze[0][1])}}function Ve(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ne=J[Symbol.asyncIterator];return ne?ne.call(J):(J=function X(J){var ne="function"==typeof Symbol&&Symbol.iterator,ue=ne&&J[ne],de=0;if(ue)return ue.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&de>=J.length&&(J=void 0),{value:J&&J[de++],done:!J}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ue={},de("next"),de("throw"),de("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function de(ze){ue[ze]=J[ze]&&function(mt){return new Promise(function(Qt,$t){!function be(ze,mt,Qt,$t){Promise.resolve($t).then(function(Xe){ze({value:Xe,done:Qt})},mt)}(Qt,$t,(mt=J[ze](mt)).done,mt.value)})}}}M.d(H,{_T:()=>L,mG:()=>G,qq:()=>_e,FC:()=>Ee,KL:()=>Ve})},5e3:(Ze,H,M)=>{"use strict";M.d(H,{deG:()=>Wf,tb:()=>_v,AFp:()=>wf,ip1:()=>kg,CZH:()=>Nu,hGG:()=>Jb,z2F:()=>Rc,sBO:()=>Df,Sil:()=>ED,_Vd:()=>gg,EJc:()=>Lg,SBq:()=>wc,qLn:()=>cp,vpe:()=>ia,tBr:()=>Ai,XFs:()=>ct,OlP:()=>rr,zs3:()=>Xo,IIB:()=>Lt,ZZ4:()=>Af,aQg:()=>Al,soG:()=>Te,YKP:()=>sr,h0i:()=>Ec,PXZ:()=>bf,R0b:()=>hr,FiY:()=>ns,Lbi:()=>Fg,g9A:()=>Is,Qsj:()=>tD,FYo:()=>Jy,JOm:()=>Ra,tp0:()=>fu,Rgc:()=>gf,dDg:()=>Mc,q4F:()=>_l,GfV:()=>Rd,i9L:()=>Us,s_b:()=>Sg,ifc:()=>Ut,eFA:()=>ja,G48:()=>Cf,Gpc:()=>K,X6Q:()=>Sv,_c5:()=>Rv,VLi:()=>ti,c2e:()=>Fu,zSh:()=>bu,wAp:()=>Pt,vHH:()=>Ae,cg1:()=>Jr,kL8:()=>xw,dqk:()=>St,sIi:()=>Zh,CqO:()=>ew,QGY:()=>X0,F4k:()=>oI,RDi:()=>Ja,AaK:()=>G,qOj:()=>fy,TTD:()=>bo,_Bn:()=>Od,xp6:()=>Hm,uIk:()=>gy,Tol:()=>vI,ekj:()=>hw,Suo:()=>Mg,Xpm:()=>wt,lG2:()=>Be,Yz7:()=>Wt,cJS:()=>Gt,oAB:()=>Ie,Yjl:()=>tt,Y36:()=>zp,_UZ:()=>W0,qZA:()=>vl,TgZ:()=>Ed,EpF:()=>J0,n5z:()=>Ca,LFG:()=>Pe,$8M:()=>Ls,$Z:()=>z0,NdJ:()=>tw,CRH:()=>Og,kcU:()=>ih,O4$:()=>Zc,oxw:()=>Sy,ALo:()=>rv,lcZ:()=>Ig,xi3:()=>_b,Q6J:()=>qp,s9C:()=>Wp,DdM:()=>fb,iGM:()=>cv,MAs:()=>R0,CHM:()=>xo,LSH:()=>Xc,kYT:()=>he,YNc:()=>jp,_uU:()=>DI,Oqu:()=>gw,hij:()=>My,AsE:()=>mw,Gf:()=>dv});var u=M(7579),R=M(727),A=M(9751),L=M(6451),B=M(3099);function Z(i){for(let s in i)if(i[s]===Z)return s;throw Error("Could not find renamed property on target object.")}function W(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function G(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(G).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function le(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const z=Z({__forward_ref__:Z});function K(i){return i.__forward_ref__=K,i.toString=function(){return G(this())},i}function X(i){return Se(i)?i():i}function Se(i){return"function"==typeof i&&i.hasOwnProperty(z)&&i.__forward_ref__===K}class Ae extends Error{constructor(s,a){super(function Je(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function _e(i){return"string"==typeof i?i:null==i?"":String(i)}function Ee(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():_e(i)}function Fe(i,s){const a=s?` in ${s}`:"";throw new Ae(-201,`No provider for ${Ee(i)} found${a}`)}function $t(i,s){null==i&&function Xe(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Wt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Gt(i){return{providers:i.providers||[],imports:i.imports||[]}}function sn(i){return Nn(i,Vr)||Nn(i,qn)}function Nn(i,s){return i.hasOwnProperty(s)?i[s]:null}function ri(i){return i&&(i.hasOwnProperty(Ur)||i.hasOwnProperty(xr))?i[Ur]:null}const Vr=Z({\u0275prov:Z}),Ur=Z({\u0275inj:Z}),qn=Z({ngInjectableDef:Z}),xr=Z({ngInjectorDef:Z});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Vn;function Ft(i){const s=Vn;return Vn=i,s}function fr(i,s,a){const c=sn(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ct.Optional?null:void 0!==s?s:void Fe(G(i),"Injector")}function Mr(i){return{toString:i}.toString()}var _t=(()=>((_t=_t||{})[_t.OnPush=0]="OnPush",_t[_t.Default=1]="Default",_t))(),Ut=(()=>{return(i=Ut||(Ut={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ut;var i})();const it="undefined"!=typeof globalThis&&globalThis,et="undefined"!=typeof window&&window,zr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,St=it||"undefined"!=typeof global&&global||et||zr,yn={},ee=[],oe=Z({\u0275cmp:Z}),ce=Z({\u0275dir:Z}),Oe=Z({\u0275pipe:Z}),Y=Z({\u0275mod:Z}),me=Z({\u0275fac:Z}),He=Z({__NG_ELEMENT_ID__:Z});let st=0;function wt(i){return Mr(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||ee,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ut.Emulated,id:"c",styles:i.styles||ee,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.directives,f=i.features,y=i.pipes;return c.id+=st++,c.inputs=ae(i.inputs,a),c.outputs=ae(i.outputs),f&&f.forEach(w=>w(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(vn):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(Ot):null,c})}function vn(i){return yt(i)||function kt(i){return i[ce]||null}(i)}function Ot(i){return function nn(i){return i[Oe]||null}(i)}const Xn={};function Ie(i){return Mr(()=>{const s={type:i.type,bootstrap:i.bootstrap||ee,declarations:i.declarations||ee,imports:i.imports||ee,exports:i.exports||ee,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Xn[i.id]=i.type),s})}function he(i,s){return Mr(()=>{const a=Kt(i,!0);a.declarations=s.declarations||ee,a.imports=s.imports||ee,a.exports=s.exports||ee})}function ae(i,s){if(null==i)return yn;const a={};for(const c in i)if(i.hasOwnProperty(c)){let h=i[c],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=c,s&&(s[h]=f)}return a}const Be=wt;function tt(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function yt(i){return i[oe]||null}function Kt(i,s){const a=i[Y]||null;if(!a&&!0===s)throw new Error(`Type ${G(i)} does not have '\u0275mod' property.`);return a}function wi(i){return Array.isArray(i)&&"object"==typeof i[1]}function ii(i){return Array.isArray(i)&&!0===i[1]}function Bu(i){return 0!=(8&i.flags)}function aa(i){return 2==(2&i.flags)}function ls(i){return 1==(1&i.flags)}function si(i){return null!==i.template}function kl(i){return 0!=(512&i[2])}function oi(i,s){return i.hasOwnProperty(me)?i[me]:null}class Qs{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function bo(){return Eo}function Eo(i){return i.type.prototype.ngOnChanges&&(i.setInput=$c),Ll}function Ll(){const i=ju(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===yn)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function $c(i,s,a,c){const h=ju(i)||function ki(i,s){return i[ds]=s}(i,{previous:yn,current:null}),f=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[a],I=y[w];f[w]=new Qs(I&&I.currentValue,s,y===yn),i[c]=s}bo.ngInherit=!0;const ds="__ngSimpleChanges__";function ju(i){return i[ds]||null}let ca;function Ja(i){ca=i}function Cn(i){return!!i.listen}const Os={createRenderer:(i,s)=>function Ki(){return void 0!==ca?ca:"undefined"!=typeof document?document:void 0}()};function wn(i){for(;Array.isArray(i);)i=i[0];return i}function Ei(i,s){return wn(s[i])}function gr(i,s){return wn(s[i.index])}function $n(i,s){return i.data[s]}function Qi(i,s){return i[s]}function ar(i,s){const a=s[i];return wi(a)?a:a[0]}function Js(i){return 4==(4&i[2])}function ai(i){return 128==(128&i[2])}function Wr(i,s){return null==s?null:i[s]}function hs(i){i[18]=0}function fs(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const Ct={lFrame:Xi(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Xs(){return Ct.bindingsEnabled}function je(){return Ct.lFrame.lView}function Bt(){return Ct.lFrame.tView}function xo(i){return Ct.lFrame.contextLView=i,i[8]}function Hn(){let i=ps();for(;null!==i&&64===i.type;)i=i.parent;return i}function ps(){return Ct.lFrame.currentTNode}function Nr(i,s){const a=Ct.lFrame;a.currentTNode=i,a.isParent=s}function fa(){return Ct.lFrame.isParent}function Mo(){return Ct.isInCheckNoChangesMode}function to(i){Ct.isInCheckNoChangesMode=i}function ur(){const i=Ct.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Ni(){return Ct.lFrame.bindingIndex++}function Ji(i){const s=Ct.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Rs(i,s){const a=Ct.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ps(s)}function Ps(i){Ct.lFrame.currentDirectiveIndex=i}function Ro(){return Ct.lFrame.currentQueryIndex}function pa(i){Ct.lFrame.currentQueryIndex=i}function Hc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function no(i,s,a){if(a&ct.SkipSelf){let h=s,f=i;for(;!(h=h.parent,null!==h||a&ct.Host||(h=Hc(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;s=h,i=f}const c=Ct.lFrame=ga();return c.currentTNode=s,c.lView=i,!0}function gs(i){const s=ga(),a=i[1];Ct.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ga(){const i=Ct.lFrame,s=null===i?null:i.child;return null===s?Xi(i):s}function Xi(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function qu(){const i=Ct.lFrame;return Ct.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ul=qu;function ro(){const i=qu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function mr(){return Ct.lFrame.selectedIndex}function es(i){Ct.lFrame.selectedIndex=i}function Bn(){const i=Ct.lFrame;return $n(i.tView,i.selectedIndex)}function Zc(){Ct.lFrame.currentNamespace="svg"}function ih(){!function sh(){Ct.lFrame.currentNamespace=null}()}function io(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:k}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),x&&((i.viewHooks||(i.viewHooks=[])).push(a,x),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,x)),null!=k&&(i.destroyHooks||(i.destroyHooks=[])).push(a,k)}}function ts(i,s,a){lr(i,s,3,a)}function Po(i,s,a,c){(3&i[2])===a&&lr(i,s,a,c)}function ma(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function lr(i,s,a,c){const f=null!=c?c:-1,y=s.length-1;let w=0;for(let I=void 0!==c?65535&i[18]:0;I<y;I++)if("number"==typeof s[I+1]){if(w=s[I],null!=c&&w>=c)break}else s[I]<0&&(i[18]+=65536),(w<f||-1==f)&&(au(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function au(i,s,a,c){const h=a[c]<0,f=a[c+1],w=i[h?-a[c]:a[c]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(w)}finally{}}}else try{f.call(w)}finally{}}class so{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ft(i,s,a){const c=Cn(i);let h=0;for(;h<a.length;){const f=a[h];if("number"==typeof f){if(0!==f)break;h++;const y=a[h++],w=a[h++],I=a[h++];c?i.setAttribute(s,w,I,y):s.setAttributeNS(y,w,I)}else{const y=f,w=a[++h];tr(y)?c&&i.setProperty(s,y,w):c?i.setAttribute(s,y,w):s.setAttribute(y,w),h++}}return h}function ms(i){return 3===i||4===i||6===i}function tr(i){return 64===i.charCodeAt(0)}function b(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const h=s[c];"number"==typeof h?a=h:0===a||C(i,a,h,null,-1===a||2===a?s[++c]:null)}}return i}function C(i,s,a,c,h){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const w=i[f++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=f-1;break}}}for(;f<i.length;){const w=i[f];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==h&&(i[f+1]=h));if(c===i[f+1])return void(i[f+2]=h)}f++,null!==c&&f++,null!==h&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==h&&i.splice(f++,0,h)}function O(i){return-1!==i}function Q(i){return 32767&i}function dt(i,s){let a=function Me(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let In=!0;function cr(i){const s=In;return In=i,s}let Zl=0;function Gn(i,s){const a=Fs(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,Ku(c.data,i),Ku(s,null),Ku(c.blueprint,null));const h=No(i,s),f=i.injectorIndex;if(O(h)){const y=Q(h),w=dt(h,s),I=w[1].data;for(let x=0;x<8;x++)s[f+x]=w[y+x]|I[y+x]}return s[f+8]=h,f}function Ku(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Fs(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function No(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,h=s;for(;null!==h;){const f=h[1],y=f.type;if(c=2===y?f.declTNode:1===y?h[6]:null,null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Di(i,s,a){!function zc(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(He)&&(c=a[He]),null==c&&(c=a[He]=Zl++);const h=255&c;s.data[i+(h>>5)]|=1<<h}(i,s,a)}function Fo(i,s,a){if(a&ct.Optional)return i;Fe(s,"NodeInjector")}function Lo(i,s,a,c){if(a&ct.Optional&&void 0===c&&(c=null),0==(a&(ct.Self|ct.Host))){const h=i[9],f=Ft(void 0);try{return h?h.get(s,c,a&ct.Optional):fr(s,c,a&ct.Optional)}finally{Ft(f)}}return Fo(c,s,a)}function wa(i,s,a,c=ct.Default,h){if(null!==i){const f=function Vo(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(He)?i[He]:void 0;return"number"==typeof s?s>=0?255&s:ba:s}(a);if("function"==typeof f){if(!no(s,i,c))return c&ct.Host?Fo(h,a,c):Lo(s,a,c,h);try{const y=f(c);if(null!=y||c&ct.Optional)return y;Fe(a)}finally{Ul()}}else if("number"==typeof f){let y=null,w=Fs(i,s),I=-1,x=c&ct.Host?s[16][6]:null;for((-1===w||c&ct.SkipSelf)&&(I=-1===w?No(i,s):s[w+8],-1!==I&&jr(c,!1)?(y=s[1],w=Q(I),s=dt(I,s)):w=-1);-1!==w;){const k=s[1];if(Gl(f,w,k.data)){const $=uu(w,s,a,y,c,x);if($!==oo)return $}I=s[w+8],-1!==I&&jr(c,s[1].data[w+8]===x)&&Gl(f,w,s)?(y=k,w=Q(I),s=dt(I,s)):w=-1}}}return Lo(s,a,c,h)}const oo={};function ba(){return new Uo(Hn(),je())}function uu(i,s,a,c,h,f){const y=s[1],w=y.data[i+8],k=Ea(w,y,a,null==c?aa(w)&&In:c!=y&&0!=(3&w.type),h&ct.Host&&f===w);return null!==k?lu(s,y,k,w):oo}function Ea(i,s,a,c,h){const f=i.providerIndexes,y=s.data,w=1048575&f,I=i.directiveStart,k=f>>20,re=h?w+k:i.directiveEnd;for(let ye=c?w:w+k;ye<re;ye++){const Le=y[ye];if(ye<I&&a===Le||ye>=I&&Le.type===a)return ye}if(h){const ye=y[I];if(ye&&si(ye)&&ye.type===a)return I}return null}function lu(i,s,a,c){let h=i[a];const f=s.data;if(function Wu(i){return i instanceof so}(h)){const y=h;y.resolving&&function Ue(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ee(f[a]));const w=cr(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Ft(y.injectImpl):null;no(i,c,ct.Default);try{h=i[a]=y.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function $l(i,s,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(c){const y=Eo(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==I&&Ft(I),cr(w),y.resolving=!1,Ul()}}return h}function Gl(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function jr(i,s){return!(i&ct.Self||i&ct.Host&&s)}class Uo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return wa(this._tNode,this._lView,s,c,a)}}function Ca(i){return Mr(()=>{const s=i.prototype.constructor,a=s[me]||Fr(s),c=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==c;){const f=h[me]||Fr(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function Fr(i){return Se(i)?()=>{const s=Fr(X(i));return s&&s()}:oi(i)}function Ls(i){return function _a(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const f=a[h];if(ms(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(f===s)return a[h+1];h+=2}}}return null}(Hn(),i)}const ao="__parameters__",vs="__prop__metadata__";function Vs(i){return function(...a){if(i){const c=i(...a);for(const h in c)this[h]=c[h]}}}function nr(i,s,a){return Mr(()=>{const c=Vs(s);function h(...f){if(this instanceof h)return c.apply(this,f),this;const y=new h(...f);return w.annotation=y,w;function w(I,x,k){const $=I.hasOwnProperty(ao)?I[ao]:Object.defineProperty(I,ao,{value:[]})[ao];for(;$.length<=k;)$.push(null);return($[k]=$[k]||[]).push(y),I}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function Bo(i,s,a,c){return Mr(()=>{const h=Vs(s);function f(...y){if(this instanceof f)return h.apply(this,y),this;const w=new f(...y);return function I(x,k){const $=x.constructor,re=$.hasOwnProperty(vs)?$[vs]:Object.defineProperty($,vs,{value:{}})[vs];re[k]=re.hasOwnProperty(k)&&re[k]||[],re[k].unshift(w),c&&c(x,k,...y)}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}class rr{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Wt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wf=new rr("AnalyzeForEntryComponents");class Yf{}const Us=Bo("ViewChild",(i,s)=>Object.assign({selector:i,first:!0,isViewQuery:!0,descendants:!0},s),Yf);function Yr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),Yr(c,s)):s!==i&&s.push(c)}return s}function Ti(i,s){i.forEach(a=>Array.isArray(a)?Ti(a,s):s(a))}function Ta(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Aa(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Qn(i,s,a){let c=Zo(i,s);return c>=0?i[1|c]=a:(c=~c,function hu(i,s,a,c){let h=i.length;if(h==s)i.push(a,c);else if(1===h)i.push(c,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Ju(i,s){const a=Zo(i,s);if(a>=0)return i[1|a]}function Zo(i,s){return function Xu(i,s,a){let c=0,h=i.length>>a;for(;h!==c;){const f=c+(h-c>>1),y=i[f<<a];if(s===y)return f<<a;y>s?h=f:c=f+1}return~(h<<a)}(i,s,1)}const Sa={},zo="__NG_DI_FLAG__",qo="ngTempTokenPath",Wl=/\n/gm,S="__source",F=Z({provide:String,useValue:Z});let q;function fe(i){const s=q;return q=i,s}function pe(i,s=ct.Default){if(void 0===q)throw new Ae(203,"");return null===q?fr(i,void 0,s):q.get(i,s&ct.Optional?null:void 0,s)}function Pe(i,s=ct.Default){return(function On(){return Vn}()||pe)(X(i),s)}const At=Pe;function Xt(i){const s=[];for(let a=0;a<i.length;a++){const c=X(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Ae(900,"");let h,f=ct.Default;for(let y=0;y<c.length;y++){const w=c[y],I=Rt(w);"number"==typeof I?-1===I?h=w.token:f|=I:h=w}s.push(Pe(h,f))}else s.push(Pe(c))}return s}function rn(i,s){return i[zo]=s,i.prototype[zo]=s,i}function Rt(i){return i[zo]}const Ai=rn(nr("Inject",i=>({token:i})),-1),ns=rn(nr("Optional"),8),fu=rn(nr("SkipSelf"),4);class Kc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function uo(i){return i instanceof Kc?i.changingThisBreaksApplicationSecurity:i}const Qc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function Xc(i){const s=function ul(){const i=je();return i&&i[12]}();return s?s.sanitize(Dn.URL,i)||"":function Ma(i,s){const a=function gu(i){return i instanceof Kc&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?uo(i):function p(i){return(i=String(i)).match(Qc)||i.match(_)?i:"unsafe:"+i}(_e(i))}const m_="__ngContext__";function Vi(i,s){i[m_]=s}function Dm(i){const s=function wh(i){return i[m_]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function nc(i){return i.ngOriginalError}function zE(i,...s){i.error(...s)}class cp{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=function GE(i){return i&&i.ngErrorLogger||zE}(s);c(this._console,"ERROR",s),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&nc(s);for(;a&&nc(a);)a=nc(a);return a||null}}const tC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(St))();function Qo(i){return i instanceof Function?i():i}var Ra=(()=>((Ra=Ra||{})[Ra.Important=1]="Important",Ra[Ra.DashCase=2]="DashCase",Ra))();function dp(i,s){return undefined(i,s)}function Eh(i){const s=i[3];return ii(s)?s[3]:s}function Ch(i){return T_(i[13])}function fp(i){return T_(i[4])}function T_(i){for(;null!==i&&!ii(i);)i=i[4];return i}function ed(i,s,a,c,h){if(null!=c){let f,y=!1;ii(c)?f=c:wi(c)&&(y=!0,c=c[0]);const w=wn(c);0===i&&null!==a?null==h?km(s,a,w):js(s,a,w,h||null,!0):1===i&&null!==a?js(s,a,w,h||null,!0):2===i?function Vm(i,s,a){const c=Dh(i,s);c&&function lC(i,s,a,c){Cn(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,w,y):3===i&&s.destroyNode(w),null!=f&&function hC(i,s,a,c,h){const f=a[7];f!==wn(a)&&ed(s,i,c,f,h);for(let w=10;w<a.length;w++){const I=a[w];yp(I[1],I,i,s,c,f)}}(s,i,f,a,h)}}function Mm(i,s,a){if(Cn(i))return i.createElement(s,a);{const c=null!==a?function la(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?i.createElement(s):i.createElementNS(c,s)}}function S_(i,s){const a=i[9],c=a.indexOf(s),h=s[3];1024&s[2]&&(s[2]&=-1025,fs(h,-1)),a.splice(c,1)}function Om(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const h=c[17];null!==h&&h!==i&&S_(h,c),s>0&&(i[a-1][4]=c[4]);const f=Aa(i,10+s);!function ir(i,s){yp(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const y=f[19];null!==y&&y.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Rm(i,s){if(!(256&s[2])){const a=s[11];Cn(a)&&a.destroyNode&&yp(i,s,a,3,null,null),function Ih(i){let s=i[13];if(!s)return Pm(i[1],i);for(;s;){let a=null;if(wi(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)wi(s)&&Pm(s[1],s),s=s[3];null===s&&(s=i),wi(s)&&Pm(s[1],s),a=s&&s[4]}s=a}}(s)}}function Pm(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function M_(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const h=s[a[c]];if(!(h instanceof so)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const w=h[f[y]],I=f[y+1];try{I.call(w)}finally{}}else try{f.call(h)}finally{}}}}(i,s),function x_(i,s){const a=i.cleanup,c=s[7];let h=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+1],w="function"==typeof y?y(s):wn(s[y]),I=c[h=a[f+2]],x=a[f+3];"boolean"==typeof x?w.removeEventListener(a[f],I,x):x>=0?c[h=x]():c[h=-x].unsubscribe(),f+=2}else{const y=c[h=a[f+1]];a[f].call(y)}if(null!==c){for(let f=h+1;f<c.length;f++)c[f]();s[7]=null}}(i,s),1===s[1].type&&Cn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&ii(s[3])){a!==s[3]&&S_(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function gp(i,s,a){return function uC(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const h=i.data[c.directiveStart].encapsulation;if(h===Ut.None||h===Ut.Emulated)return null}return gr(c,a)}(i,s.parent,a)}function js(i,s,a,c,h){Cn(i)?i.insertBefore(s,a,c,h):s.insertBefore(a,c,h)}function km(i,s,a){Cn(i)?i.appendChild(s,a):s.appendChild(a)}function O_(i,s,a,c,h){null!==c?js(i,s,a,c,h):km(i,s,a)}function Dh(i,s){return Cn(i)?i.parentNode(s):s.parentNode}let Nm=function P_(i,s,a){return 40&i.type?gr(i,a):null};function mp(i,s,a,c){const h=gp(i,c,s),f=s[11],w=function R_(i,s,a){return Nm(i,s,a)}(c.parent||s[6],c,s);if(null!=h)if(Array.isArray(a))for(let I=0;I<a.length;I++)O_(f,h,a[I],w,!1);else O_(f,h,a,w,!1)}function nd(i,s){if(null!==s){const a=s.type;if(3&a)return gr(s,i);if(4&a)return Lm(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return nd(i,c);{const h=i[s.index];return ii(h)?Lm(-1,h):wn(h)}}if(32&a)return dp(s,i)()||wn(i[s.index]);{const c=N_(i,s);return null!==c?Array.isArray(c)?c[0]:nd(Eh(i[16]),c):nd(i,s.next)}}return null}function N_(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Lm(i,s){const a=10+i+1;if(a<s.length){const c=s[a],h=c[1].firstChild;if(null!==h)return nd(c,h)}return s[7]}function Um(i,s,a,c,h,f,y){for(;null!=a;){const w=c[a.index],I=a.type;if(y&&0===s&&(w&&Vi(wn(w),c),a.flags|=4),64!=(64&a.flags))if(8&I)Um(i,s,a.child,c,h,f,!1),ed(s,i,h,w,f);else if(32&I){const x=dp(a,c);let k;for(;k=x();)ed(s,i,h,k,f);ed(s,i,h,w,f)}else 16&I?bn(i,s,c,a,h,f):ed(s,i,h,w,f);a=y?a.projectionNext:a.next}}function yp(i,s,a,c,h,f){Um(a,c,i.firstChild,s,h,f,!1)}function bn(i,s,a,c,h,f){const y=a[16],I=y[6].projection[c.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)ed(s,i,h,I[x],f);else Um(i,s,I,y[3],h,f,!0)}function Bm(i,s,a){Cn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function yu(i,s,a){Cn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Jo(i,s,a){let c=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const f=s.length;if(h+f===c||i.charCodeAt(h+f)<=32)return h}a=h+1}}const jm="ng-template";function pC(i,s,a){let c=0;for(;c<i.length;){let h=i[c++];if(a&&"class"===h){if(h=i[c],-1!==Jo(h.toLowerCase(),s,0))return!0}else if(1===h){for(;c<i.length&&"string"==typeof(h=i[c++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function F_(i){return 4===i.type&&i.value!==jm}function gC(i,s,a){return s===(4!==i.type||a?i.value:jm)}function ic(i,s,a){let c=4;const h=i.attrs||[],f=function mC(i){for(let s=0;s<i.length;s++)if(ms(i[s]))return s;return i.length}(h);let y=!1;for(let w=0;w<s.length;w++){const I=s[w];if("number"!=typeof I){if(!y)if(4&c){if(c=2|1&c,""!==I&&!gC(i,I,a)||""===I&&1===s.length){if(ci(c))return!1;y=!0}}else{const x=8&c?I:s[++w];if(8&c&&null!==i.attrs){if(!pC(i.attrs,x,a)){if(ci(c))return!1;y=!0}continue}const $=L_(8&c?"class":I,h,F_(i),a);if(-1===$){if(ci(c))return!1;y=!0;continue}if(""!==x){let re;re=$>f?"":h[$+1].toLowerCase();const ye=8&c?re:null;if(ye&&-1!==Jo(ye,x,0)||2&c&&x!==re){if(ci(c))return!1;y=!0}}}}else{if(!y&&!ci(c)&&!ci(I))return!1;if(y&&ci(I))continue;y=!1,c=I|1&c}}return ci(c)||y}function ci(i){return 0==(1&i)}function L_(i,s,a,c){if(null===s)return-1;let h=0;if(c||!a){let f=!1;for(;h<s.length;){const y=s[h];if(y===i)return h;if(3===y||6===y)f=!0;else{if(1===y||2===y){let w=s[++h];for(;"string"==typeof w;)w=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=f?1:2}return-1}return function vp(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function Si(i,s,a=!1){for(let c=0;c<s.length;c++)if(ic(i,s[c],a))return!0;return!1}function $m(i,s){return i?":not("+s.trim()+")":s}function U_(i){let s=i[0],a=1,c=2,h="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const w=i[++a];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!ci(y)&&(s+=$m(f,h),h=""),c=y,f=f||!ci(c);a++}return""!==h&&(s+=$m(f,h)),s}const qt={};function Hm(i){Zm(Bt(),je(),mr()+i,Mo())}function Zm(i,s,a,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&ts(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Po(s,f,0,a)}es(a)}function Ah(i,s){return i<<17|s<<2}function co(i){return i>>17&32767}function zm(i){return 2|i}function Pa(i){return(131068&i)>>2}function _p(i,s){return-131069&i|s<<2}function bp(i){return 1|i}function Q_(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],f=a[c+1];if(-1!==f){const y=i.data[f];pa(h),y.contentQueries(2,s[f],f)}}}function ad(i,s,a,c,h,f,y,w,I,x){const k=s.blueprint.slice();return k[0]=h,k[2]=140|c,hs(k),k[3]=k[15]=i,k[8]=a,k[10]=y||i&&i[10],k[11]=w||i&&i[11],k[12]=I||i&&i[12]||null,k[9]=x||i&&i[9]||null,k[6]=f,k[16]=2==s.type?i[16]:k,k}function kh(i,s,a,c,h){let f=i.data[s];if(null===f)f=function Nh(i,s,a,c,h){const f=ps(),y=fa(),I=i.data[s]=function xp(i,s,a,c,h,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,c,h);return null===i.firstChild&&(i.firstChild=I),null!==f&&(y?null==f.child&&null!==I.parent&&(f.child=I):null===f.next&&(f.next=I)),I}(i,s,a,c,h),function Oo(){return Ct.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=h;const y=function eo(){const i=Ct.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return Nr(f,!0),f}function ud(i,s,a,c){if(0===a)return-1;const h=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return h}function ld(i,s,a){gs(s);try{const c=i.viewQuery;null!==c&&gl(1,c,a);const h=i.template;null!==h&&EC(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Q_(i,s),i.staticViewQueries&&gl(2,i.viewQuery,a);const f=i.components;null!==f&&function bC(i,s){for(let a=0;a<s.length;a++)RC(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,ro()}}function fl(i,s,a,c){const h=s[2];if(256==(256&h))return;gs(s);const f=Mo();try{hs(s),function nu(i){return Ct.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&EC(i,s,a,2,c);const y=3==(3&h);if(!f)if(y){const x=i.preOrderCheckHooks;null!==x&&ts(s,x,null)}else{const x=i.preOrderHooks;null!==x&&Po(s,x,0,null),ma(s,0)}if(function OC(i){for(let s=Ch(i);null!==s;s=fp(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const h=a[c],f=h[3];0==(1024&h[2])&&fs(f,1),h[2]|=1024}}}(s),function a0(i){for(let s=Ch(i);null!==s;s=fp(s))for(let a=10;a<s.length;a++){const c=s[a],h=c[1];ai(c)&&fl(h,c,h.template,c[8])}}(s),null!==i.contentQueries&&Q_(i,s),!f)if(y){const x=i.contentCheckHooks;null!==x&&ts(s,x)}else{const x=i.contentHooks;null!==x&&Po(s,x,1),ma(s,1)}!function Y_(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)es(~h);else{const f=h,y=a[++c],w=a[++c];Rs(y,f),w(2,s[f])}}}finally{es(-1)}}(i,s);const w=i.components;null!==w&&function t1(i,s){for(let a=0;a<s.length;a++)u0(i,s[a])}(s,w);const I=i.viewQuery;if(null!==I&&gl(2,I,c),!f)if(y){const x=i.viewCheckHooks;null!==x&&ts(s,x)}else{const x=i.viewHooks;null!==x&&Po(s,x,2),ma(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,fs(s[3],-1))}finally{ro()}}function Qm(i,s,a,c){const h=s[10],f=!Mo(),y=Js(s);try{f&&!y&&h.begin&&h.begin(),y&&ld(i,s,c),fl(i,s,a,c)}finally{f&&!y&&h.end&&h.end()}}function EC(i,s,a,c,h){const f=mr(),y=2&c;try{es(-1),y&&s.length>20&&Zm(i,s,20,Mo()),a(c,h)}finally{es(f)}}function sc(i,s,a){!Xs()||(function n1(i,s,a,c){const h=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Gn(a,s),Vi(c,s);const y=a.initialInputs;for(let w=h;w<f;w++){const I=i.data[w],x=si(I);x&&Fh(s,a,I);const k=lu(s,i,w,a);Vi(k,s),null!==y&&xC(0,w-h,k,I,0,y),x&&(ar(a.index,s)[8]=k)}}(i,s,a,gr(a,s)),128==(128&a.flags)&&function r1(i,s,a){const c=a.directiveStart,h=a.directiveEnd,y=a.index,w=function iu(){return Ct.lFrame.currentDirectiveIndex}();try{es(y);for(let I=c;I<h;I++){const x=i.data[I],k=s[I];Ps(I),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&AC(x,k)}}finally{es(-1),Ps(w)}}(i,s,a))}function cd(i,s,a=gr){const c=s.localNames;if(null!==c){let h=s.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],w=-1===y?a(s,i):i[y];i[h++]=w}}}function oc(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=pl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function pl(i,s,a,c,h,f,y,w,I,x){const k=20+c,$=k+h,re=function CC(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:qt);return a}(k,$),ye="function"==typeof x?x():x;return re[1]={type:i,blueprint:re,template:a,queries:null,viewQuery:w,declTNode:s,data:re.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:ye,incompleteFirstPass:!1}}function Jm(i,s,a,c){const h=h0(s);null===a?h.push(c):(h.push(a),i.firstCreatePass&&Bh(i).push(c,h.length-1))}function Mp(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const h=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,h):a[c]=[s,h]}return a}function Es(i,s,a,c,h,f,y,w){const I=gr(s,a);let k,x=s.inputs;!w&&null!=x&&(k=x[c])?(ry(i,a,k,c,h),aa(s)&&function X_(i,s){const a=ar(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function J_(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),h=null!=y?y(h,s.value||"",c):h,Cn(f)?f.setProperty(I,c,h):tr(c)||(I.setProperty?I.setProperty(c,h):I[c]=h))}function ac(i,s,a,c){let h=!1;if(Xs()){const f=function i1(i,s,a){const c=i.directiveRegistry;let h=null;if(c)for(let f=0;f<c.length;f++){const y=c[f];Si(a,y.selectors,!1)&&(h||(h=[]),Di(Gn(a,s),i,y.type),si(y)?(r0(i,a),h.unshift(y)):h.push(y))}return h}(i,s,a),y=null===c?null:{"":-1};if(null!==f){h=!0,Xm(a,i.data.length,f.length);for(let k=0;k<f.length;k++){const $=f[k];$.providersResolver&&$.providersResolver($)}let w=!1,I=!1,x=ud(i,s,f.length,null);for(let k=0;k<f.length;k++){const $=f[k];a.mergedAttrs=b(a.mergedAttrs,$.hostAttrs),ey(i,a,s,x,$),SC(x,$,y),null!==$.contentQueries&&(a.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(a.flags|=128);const re=$.type.prototype;!w&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!I&&(re.ngOnChanges||re.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),x++}!function Op(i,s){const c=s.directiveEnd,h=i.data,f=s.attrs,y=[];let w=null,I=null;for(let x=s.directiveStart;x<c;x++){const k=h[x],$=k.inputs,re=null===f||F_(s)?null:s1($,f);y.push(re),w=Mp($,x,w),I=Mp(k.outputs,x,I)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=w,s.outputs=I}(i,a)}y&&function s0(i,s,a){if(s){const c=i.localNames=[];for(let h=0;h<s.length;h+=2){const f=a[s[h+1]];if(null==f)throw new Ae(-301,!1);c.push(s[h],f)}}}(a,c,y)}return a.mergedAttrs=b(a.mergedAttrs,a.attrs),h}function Rp(i,s,a,c,h,f){const y=f.hostBindings;if(y){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const I=~s.index;(function n0(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=I&&w.push(I),w.push(c,h,y)}}function AC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function r0(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function SC(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;si(s)&&(a[""]=i)}}function Xm(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function ey(i,s,a,c,h){i.data[c]=h;const f=h.factory||(h.factory=oi(h.type)),y=new so(f,si(h),null);i.blueprint[c]=y,a[c]=y,Rp(i,s,0,c,ud(i,a,h.hostVars,qt),h)}function Fh(i,s,a){const c=gr(s,i),h=oc(a),f=i[10],y=Pp(i,ad(i,h,null,a.onPush?64:16,c,s,f,f.createRenderer(c,a),null,null));i[s.index]=y}function ka(i,s,a,c,h,f){const y=gr(i,s);!function Lh(i,s,a,c,h,f,y){if(null==f)Cn(i)?i.removeAttribute(s,h,a):s.removeAttribute(h);else{const w=null==y?_e(f):y(f,c||"",h);Cn(i)?i.setAttribute(s,h,w,a):a?s.setAttributeNS(a,h,w):s.setAttribute(h,w)}}(s[11],y,f,i.value,a,c,h)}function xC(i,s,a,c,h,f){const y=f[s];if(null!==y){const w=c.setInput;for(let I=0;I<y.length;){const x=y[I++],k=y[I++],$=y[I++];null!==w?c.setInput(a,$,x,k):a[k]=$}}}function s1(i,s){let a=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],s[c+1])),c+=2}else c+=2;else c+=4}return a}function o0(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function u0(i,s){const a=ar(s,i);if(ai(a)){const c=a[1];80&a[2]?fl(c,a,c.template,a[8]):a[5]>0&&Vh(a)}}function Vh(i){for(let c=Ch(i);null!==c;c=fp(c))for(let h=10;h<c.length;h++){const f=c[h];if(1024&f[2]){const y=f[1];fl(y,f,y.template,f[8])}else f[5]>0&&Vh(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=ar(a[c],i);ai(h)&&h[5]>0&&Vh(h)}}function RC(i,s){const a=ar(s,i),c=a[1];(function l0(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),ld(c,a,a[8])}function Pp(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function _u(i){for(;i;){i[2]|=64;const s=Eh(i);if(kl(i)&&!s)return i;i=s}return null}function ty(i,s,a){const c=s[10];c.begin&&c.begin();try{fl(i,s,i.template,a)}catch(h){throw f0(s,h),h}finally{c.end&&c.end()}}function kp(i){!function Uh(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=Dm(a),h=c[1];Qm(h,c,h.template,a)}}(i[8])}function gl(i,s,a){pa(0),s(i,a)}const d0=(()=>Promise.resolve(null))();function h0(i){return i[7]||(i[7]=[])}function Bh(i){return i.cleanup||(i.cleanup=[])}function f0(i,s){const a=i[9],c=a?a.get(cp,null):null;c&&c.handleError(s)}function ry(i,s,a,c,h){for(let f=0;f<a.length;){const y=a[f++],w=a[f++],I=s[y],x=i.data[y];null!==x.setInput?x.setInput(I,h,c,w):I[w]=h}}function wu(i,s,a){const c=Ei(s,i);!function xm(i,s,a){Cn(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function iy(i,s,a){let c=a?i.styles:null,h=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?f=w:1==f?h=le(h,w):2==f&&(c=le(c,w+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=h:i.classesWithoutHost=h}const oy=new rr("INJECTOR",-1);class ay{get(s,a=Sa){if(a===Sa){const c=new Error(`NullInjectorError: No provider for ${G(s)}!`);throw c.name="NullInjectorError",c}return a}}const bu=new rr("Set Injector scope."),jh={},g0={};let uy;function ly(){return void 0===uy&&(uy=new ay),uy}function m0(i,s=null,a=null,c){const h=y0(i,s,a,c);return h._resolveInjectorDefTypes(),h}function y0(i,s=null,a=null,c){return new cy(i,a,s||ly(),c)}class cy{constructor(s,a,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&Ti(a,w=>this.processProvider(w,s,a)),Ti([s],w=>this.processInjectorType(w,[],f)),this.records.set(oy,uc(void 0,this));const y=this.records.get(bu);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof s?null:G(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Sa,c=ct.Default){this.assertNotDestroyed();const h=fe(this),f=Ft(void 0);try{if(!(c&ct.SkipSelf)){let w=this.records.get(s);if(void 0===w){const I=function E0(i){return"function"==typeof i||"object"==typeof i&&i instanceof rr}(s)&&sn(s);w=I&&this.injectableDefInScope(I)?uc(Np(s),jh):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(c&ct.Self?ly():this.parent).get(s,a=c&ct.Optional&&a===Sa?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[qo]=y[qo]||[]).unshift(G(s)),h)throw y;return function Qr(i,s,a,c){const h=i[qo];throw s[S]&&h.unshift(s[S]),i.message=function Er(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let h=G(s);if(Array.isArray(s))h=s.map(G).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];f.push(y+":"+("string"==typeof w?JSON.stringify(w):G(w)))}h=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${i.replace(Wl,"\n  ")}`}("\n"+i.message,h,a,c),i.ngTokenPath=h,i[qo]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Ft(f),fe(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,h)=>s.push(G(h))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(s,a,c){if(!(s=X(s)))return!1;let h=ri(s);const f=null==h&&s.ngModule||void 0,y=void 0===f?s:f,w=-1!==c.indexOf(y);if(void 0!==f&&(h=ri(f)),null==h)return!1;if(null!=h.imports&&!w){let k;c.push(y);try{Ti(h.imports,$=>{this.processInjectorType($,a,c)&&(void 0===k&&(k=[]),k.push($))})}finally{}if(void 0!==k)for(let $=0;$<k.length;$++){const{ngModule:re,providers:ye}=k[$];Ti(ye,Le=>this.processProvider(Le,re,ye||ee))}}this.injectorDefTypes.add(y);const I=oi(y)||(()=>new y);this.records.set(y,uc(I,jh));const x=h.providers;if(null!=x&&!w){const k=s;Ti(x,$=>this.processProvider($,k,x))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,c){let h=lc(s=X(s))?s:X(s&&s.provide);const f=function v0(i,s,a){return w0(i)?uc(void 0,i.useValue):uc(_0(i),jh)}(s);if(lc(s)||!0!==s.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=uc(void 0,jh,!0),y.factory=()=>Xt(y.multi),this.records.set(h,y)),h=s,y.multi.push(s)}this.records.set(h,f)}hydrate(s,a){return a.value===jh&&(a.value=g0,a.value=a.factory()),"object"==typeof a.value&&a.value&&function l1(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=X(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Np(i){const s=sn(i),a=null!==s?s.factory:oi(i);if(null!==a)return a;if(i instanceof rr)throw new Ae(204,!1);if(i instanceof Function)return function FC(i){const s=i.length;if(s>0)throw function Ho(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new Ae(204,!1);const a=function Pn(i){const s=i&&(i[Vr]||i[qn]);if(s){const a=function En(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ae(204,!1)}function _0(i,s,a){let c;if(lc(i)){const h=X(i);return oi(h)||Np(h)}if(w0(i))c=()=>X(i.useValue);else if(function LC(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Xt(i.deps||[]));else if(function b0(i){return!(!i||!i.useExisting)}(i))c=()=>Pe(X(i.useExisting));else{const h=X(i&&(i.useClass||i.provide));if(!function u1(i){return!!i.deps}(i))return oi(h)||Np(h);c=()=>new h(...Xt(i.deps))}return c}function uc(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function w0(i){return null!==i&&"object"==typeof i&&F in i}function lc(i){return"function"==typeof i}let Xo=(()=>{class i{static create(a,c){var h;if(Array.isArray(a))return m0({name:""},c,a,"");{const f=null!==(h=a.name)&&void 0!==h?h:"";return m0({name:f},a.parent,a.providers,f)}}}return i.THROW_IF_NOT_FOUND=Sa,i.NULL=new ay,i.\u0275prov=Wt({token:i,providedIn:"any",factory:()=>Pe(oy)}),i.__NG_ELEMENT_ID__=-1,i})();function h1(i,s){io(Dm(i)[1],Hn())}function fy(i){let s=function hy(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let h;if(si(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ae(903,"");h=s.\u0275dir}if(h){if(a){c.push(h);const y=i;y.inputs=Hr(i.inputs),y.declaredInputs=Hr(i.declaredInputs),y.outputs=Hr(i.outputs);const w=h.hostBindings;w&&py(i,w);const I=h.viewQuery,x=h.contentQueries;if(I&&ta(i,I),x&&Vp(i,x),W(i.inputs,h.inputs),W(i.declaredInputs,h.declaredInputs),W(i.outputs,h.outputs),si(h)&&h.data.animation){const k=i.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let y=0;y<f.length;y++){const w=f[y];w&&w.ngInherit&&w(i),w===fy&&(a=!1)}}s=Object.getPrototypeOf(s)}!function $C(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const h=i[c];h.hostVars=s+=h.hostVars,h.hostAttrs=b(h.hostAttrs,a=b(a,h.hostAttrs))}}(c)}function Hr(i){return i===yn?{}:i===ee?[]:i}function ta(i,s){const a=i.viewQuery;i.viewQuery=a?(c,h)=>{s(c,h),a(c,h)}:s}function Vp(i,s){const a=i.contentQueries;i.contentQueries=a?(c,h,f)=>{s(c,h,f),a(c,h,f)}:s}function py(i,s){const a=i.hostBindings;i.hostBindings=a?(c,h)=>{s(c,h),a(c,h)}:s}let Hh=null;function hd(){if(!Hh){const i=St.Symbol;if(i&&i.iterator)Hh=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Hh=c)}}}return Hh}function Zh(i){return!!fd(i)&&(Array.isArray(i)||!(i instanceof Map)&&hd()in i)}function fd(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function na(i,s,a){return i[s]=a}function di(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Na(i,s,a,c){const h=di(i,s,a);return di(i,s+1,c)||h}function gy(i,s,a,c){const h=je();return di(h,Ni(),s)&&(Bt(),ka(Bn(),h,i,s,a,c)),gy}function md(i,s,a,c){return di(i,Ni(),a)?s+_e(a)+c:qt}function yd(i,s,a,c,h,f){const w=Na(i,function Ci(){return Ct.lFrame.bindingIndex}(),a,h);return Ji(2),w?s+_e(a)+c+_e(h)+f:qt}function jp(i,s,a,c,h,f,y,w){const I=je(),x=Bt(),k=i+20,$=x.firstCreatePass?function WC(i,s,a,c,h,f,y,w,I){const x=s.consts,k=kh(s,i,4,y||null,Wr(x,w));ac(s,a,k,Wr(x,I)),io(s,k);const $=k.tViews=pl(2,k,c,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,x);return null!==s.queries&&(s.queries.template(s,k),$.queries=s.queries.embeddedTView(k)),k}(k,x,I,s,a,c,h,f,y):x.data[k];Nr($,!1);const re=I[11].createComment("");mp(x,I,re,$),Vi(re,I),Pp(I,I[k]=o0(re,I,re,$)),ls($)&&sc(x,I,$),null!=y&&cd(I,$,w)}function R0(i){return Qi(function zu(){return Ct.lFrame.contextLView}(),20+i)}function zp(i,s=ct.Default){const a=je();return null===a?Pe(i,s):wa(Hn(),a,X(i),s)}function z0(){throw new Error("invalid")}function qp(i,s,a){const c=je();return di(c,Ni(),s)&&Es(Bt(),Bn(),c,i,s,c[11],a,!1),qp}function Ty(i,s,a,c,h){const y=h?"class":"style";ry(i,a,s.inputs[y],y,c)}function Ed(i,s,a,c){const h=je(),f=Bt(),y=20+i,w=h[11],I=h[y]=Mm(w,s,function ou(){return Ct.lFrame.currentNamespace}()),x=f.firstCreatePass?function q0(i,s,a,c,h,f,y){const w=s.consts,x=kh(s,i,2,h,Wr(w,f));return ac(s,a,x,Wr(w,y)),null!==x.attrs&&iy(x,x.attrs,!1),null!==x.mergedAttrs&&iy(x,x.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,x),x}(y,f,h,0,s,a,c):f.data[y];Nr(x,!0);const k=x.mergedAttrs;null!==k&&ft(w,I,k);const $=x.classes;null!==$&&yu(w,I,$);const re=x.styles;return null!==re&&Bm(w,I,re),64!=(64&x.flags)&&mp(f,h,I,x),0===function To(){return Ct.lFrame.elementDepthCount}()&&Vi(I,h),function eu(){Ct.lFrame.elementDepthCount++}(),ls(x)&&(sc(f,h,x),function Tp(i,s,a){if(Bu(s)){const h=s.directiveEnd;for(let f=s.directiveStart;f<h;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}(f,x,h)),null!==c&&cd(h,x),Ed}function vl(){let i=Hn();fa()?function tu(){Ct.lFrame.isParent=!1}():(i=i.parent,Nr(i,!1));const s=i;!function Ao(){Ct.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(io(a,i),Bu(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Hl(i){return 0!=(16&i.flags)}(s)&&Ty(a,s,je(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Gc(i){return 0!=(32&i.flags)}(s)&&Ty(a,s,je(),s.stylesWithoutHost,!1),vl}function W0(i,s,a,c){return Ed(i,s,a,c),vl(),W0}function J0(){return je()}function X0(i){return!!i&&"function"==typeof i.then}function oI(i){return!!i&&"function"==typeof i.subscribe}const ew=oI;function tw(i,s,a,c){const h=je(),f=Bt(),y=Hn();return function uI(i,s,a,c,h,f,y,w){const I=ls(c),k=i.firstCreatePass&&Bh(i),$=s[8],re=h0(s);let ye=!0;if(3&c.type||w){const rt=gr(c,s),gt=w?w(rt):rt,$e=re.length,bt=w?ln=>w(wn(ln[c.index])):c.index;if(Cn(a)){let ln=null;if(!w&&I&&(ln=function v1(i,s,a,c){const h=i.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const y=h[f];if(y===a&&h[f+1]===c){const w=s[7],I=h[f+2];return w.length>I?w[I]:null}"string"==typeof y&&(f+=2)}return null}(i,s,h,c.index)),null!==ln)(ln.__ngLastListenerFn__||ln).__ngNextListenerFn__=f,ln.__ngLastListenerFn__=f,ye=!1;else{f=nw(c,s,$,f,!1);const Rn=a.listen(gt,h,f);re.push(f,Rn),k&&k.push(h,bt,$e,$e+1)}}else f=nw(c,s,$,f,!0),gt.addEventListener(h,f,y),re.push(f),k&&k.push(h,bt,$e,y)}else f=nw(c,s,$,f,!1);const Le=c.outputs;let Ye;if(ye&&null!==Le&&(Ye=Le[h])){const rt=Ye.length;if(rt)for(let gt=0;gt<rt;gt+=2){const Ts=s[Ye[gt]][Ye[gt+1]].subscribe(f),po=re.length;re.push(f,Ts),k&&k.push(h,c.index,po,-(po+1))}}}(f,h,h[11],y,i,s,!!a,c),tw}function lI(i,s,a,c){try{return!1!==a(c)}catch(h){return f0(i,h),!1}}function nw(i,s,a,c,h){return function f(y){if(y===Function)return c;const w=2&i.flags?ar(i.index,s):s;0==(32&s[2])&&_u(w);let I=lI(s,0,c,y),x=f.__ngNextListenerFn__;for(;x;)I=lI(s,0,x,y)&&I,x=x.__ngNextListenerFn__;return h&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function Sy(i=1){return function Kr(i){return(Ct.lFrame.contextLView=function Bl(i,s){for(;i>0;)s=s[15],i--;return s}(i,Ct.lFrame.contextLView))[8]}(i)}function Wp(i,s,a){return iw(i,"",s,"",a),Wp}function iw(i,s,a,c,h){const f=je(),y=md(f,s,a,c);return y!==qt&&Es(Bt(),Bn(),f,i,y,f[11],h,!1),iw}function dI(i,s,a,c,h){const f=i[a+1],y=null===s;let w=c?co(f):Pa(f),I=!1;for(;0!==w&&(!1===I||y);){const k=i[w+1];C1(i[w],s)&&(I=!0,i[w+1]=c?bp(k):zm(k)),w=c?co(k):Pa(k)}I&&(i[a+1]=c?zm(f):bp(f))}function C1(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Zo(i,s)>=0}const hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hI(i){return i.substring(hi.key,hi.keyEnd)}function fI(i,s){const a=hi.textEnd;return a===s?-1:(s=hi.keyEnd=function A1(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,hi.key=s,a),Wh(i,s,a))}function Wh(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function hw(i,s){return function La(i,s,a,c){const h=je(),f=Bt(),y=Ji(2);f.firstUpdatePass&&wI(f,i,y,c),s!==qt&&di(h,y,s)&&CI(f,f.data[mr()],h,h[11],i,h[y+1]=function F1(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=G(uo(i)))),i}(s,a),c,y)}(i,s,null,!0),hw}function vI(i){!function Va(i,s,a,c){const h=Bt(),f=Ji(2);h.firstUpdatePass&&wI(h,null,f,c);const y=je();if(a!==qt&&di(y,f,a)){const w=h.data[mr()];if(pw(w,c)&&!_I(h,f)){let I=c?w.classesWithoutHost:w.stylesWithoutHost;null!==I&&(a=le(I,a||"")),Ty(h,w,y,a,c)}else!function EI(i,s,a,c,h,f,y,w){h===qt&&(h=ee);let I=0,x=0,k=0<h.length?h[0]:null,$=0<f.length?f[0]:null;for(;null!==k||null!==$;){const re=I<h.length?h[I+1]:void 0,ye=x<f.length?f[x+1]:void 0;let Ye,Le=null;k===$?(I+=2,x+=2,re!==ye&&(Le=$,Ye=ye)):null===$||null!==k&&k<$?(I+=2,Le=k):(x+=2,Le=$,Ye=ye),null!==Le&&CI(i,s,a,c,Le,Ye,y,w),k=I<h.length?h[I]:null,$=x<f.length?f[x]:null}}(h,w,y,y[11],y[f+1],y[f+1]=function N1(i,s,a){if(null==a||""===a)return ee;const c=[],h=uo(a);if(Array.isArray(h))for(let f=0;f<h.length;f++)i(c,h[f],!0);else if("object"==typeof h)for(const f in h)h.hasOwnProperty(f)&&i(c,f,h[f]);else"string"==typeof h&&s(c,h);return c}(i,s,a),c,f)}}(Qn,Tu,i,!0)}function Tu(i,s){for(let a=function D1(i){return function pI(i){hi.key=0,hi.keyEnd=0,hi.value=0,hi.valueEnd=0,hi.textEnd=i.length}(i),fI(i,Wh(i,0,hi.textEnd))}(s);a>=0;a=fI(s,a))Qn(i,hI(s),!0)}function _I(i,s){return s>=i.expandoStartIndex}function wI(i,s,a,c){const h=i.data;if(null===h[a+1]){const f=h[mr()],y=_I(i,a);pw(f,c)&&null===s&&!y&&(s=!1),s=function O1(i,s,a,c){const h=function su(i){const s=Ct.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===h)0===(c?s.classBindings:s.styleBindings)&&(a=Yp(a=fw(null,i,s,a,c),s.attrs,c),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==h)if(a=fw(h,i,s,a,c),null===f){let I=function R1(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Pa(c))return i[co(c)]}(i,s,c);void 0!==I&&Array.isArray(I)&&(I=fw(null,i,s,I[1],c),I=Yp(I,s.attrs,c),function P1(i,s,a,c){i[co(a?s.classBindings:s.styleBindings)]=c}(i,s,c,I))}else f=function k1(i,s,a){let c;const h=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<h;f++)c=Yp(c,i[f].hostAttrs,a);return Yp(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(h,f,s,c),function b1(i,s,a,c,h,f){let y=f?s.classBindings:s.styleBindings,w=co(y),I=Pa(y);i[c]=a;let k,x=!1;if(Array.isArray(a)){const $=a;k=$[1],(null===k||Zo($,k)>0)&&(x=!0)}else k=a;if(h)if(0!==I){const re=co(i[w+1]);i[c+1]=Ah(re,w),0!==re&&(i[re+1]=_p(i[re+1],c)),i[w+1]=function $_(i,s){return 131071&i|s<<17}(i[w+1],c)}else i[c+1]=Ah(w,0),0!==w&&(i[w+1]=_p(i[w+1],c)),w=c;else i[c+1]=Ah(I,0),0===w?w=c:i[I+1]=_p(i[I+1],c),I=c;x&&(i[c+1]=zm(i[c+1])),dI(i,k,c,!0),dI(i,k,c,!1),function E1(i,s,a,c,h){const f=h?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Zo(f,s)>=0&&(a[c+1]=bp(a[c+1]))}(s,k,i,c,f),y=Ah(w,I),f?s.classBindings=y:s.styleBindings=y}(h,f,s,a,y,c)}}function fw(i,s,a,c,h){let f=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(f=s[w],c=Yp(c,f.hostAttrs,h),f!==i);)w++;return null!==i&&(a.directiveStylingLast=w),c}function Yp(i,s,a){const c=a?1:2;let h=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?h=y:h===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Qn(i,y,!!a||s[++f]))}return void 0===i?null:i}function CI(i,s,a,c,h,f,y,w){if(!(3&s.type))return;const I=i.data,x=I[w+1];xy(function wp(i){return 1==(1&i)}(x)?II(I,s,a,h,Pa(x),y):void 0)||(xy(f)||function Gm(i){return 2==(2&i)}(x)&&(f=II(I,null,a,h,w,y)),function fC(i,s,a,c,h){const f=Cn(i);if(s)h?f?i.addClass(a,c):a.classList.add(c):f?i.removeClass(a,c):a.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:Ra.DashCase;if(null==h)f?i.removeStyle(a,c,y):a.style.removeProperty(c);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),y|=Ra.Important),f?i.setStyle(a,c,h,y):a.style.setProperty(c,h,w?"important":"")}}}(c,y,Ei(mr(),a),h,f))}function II(i,s,a,c,h,f){const y=null===s;let w;for(;h>0;){const I=i[h],x=Array.isArray(I),k=x?I[1]:I,$=null===k;let re=a[h+1];re===qt&&(re=$?ee:void 0);let ye=$?Ju(re,c):k===c?re:void 0;if(x&&!xy(ye)&&(ye=Ju(I,c)),xy(ye)&&(w=ye,y))return w;const Le=i[h+1];h=y?co(Le):Pa(Le)}if(null!==s){let I=f?s.residualClasses:s.residualStyles;null!=I&&(w=Ju(I,c))}return w}function xy(i){return void 0!==i}function pw(i,s){return 0!=(i.flags&(s?16:32))}function DI(i,s=""){const a=je(),c=Bt(),h=i+20,f=c.firstCreatePass?kh(c,h,1,s,null):c.data[h],y=a[h]=function Sm(i,s){return Cn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);mp(c,a,y,f),Nr(f,!1)}function gw(i){return My("",i,""),gw}function My(i,s,a){const c=je(),h=md(c,i,s,a);return h!==qt&&wu(c,mr(),h),My}function mw(i,s,a,c,h){const f=je(),y=yd(f,i,s,a,c,h);return y!==qt&&wu(f,mr(),y),mw}const fc=void 0;var FI=["en",[["a","p"],["AM","PM"],fc],[["AM","PM"],fc,fc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fc,"{1} 'at' {0}",fc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function NI(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Cr={};function Jr(i){const s=function VI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Mw(s);if(a)return a;const c=s.split("-")[0];if(a=Mw(c),a)return a;if("en"===c)return FI;throw new Error(`Missing locale data for the locale "${i}".`)}function xw(i){return Jr(i)[Pt.PluralCase]}function Mw(i){return i in Cr||(Cr[i]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[i]),Cr[i]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const gc="en-US";let ky=gc;function Oi(i,s,a,c,h){if(i=X(i),Array.isArray(i))for(let f=0;f<i.length;f++)Oi(i[f],s,a,c,h);else{const f=Bt(),y=je();let w=lc(i)?i:X(i.provide),I=_0(i);const x=Hn(),k=1048575&x.providerIndexes,$=x.directiveStart,re=x.providerIndexes>>20;if(lc(i)||!i.multi){const ye=new so(I,h,zp),Le=Md(w,s,h?k:k+re,$);-1===Le?(Di(Gn(x,y),f,w),dg(f,i,s.length),s.push(w),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),a.push(ye),y.push(ye)):(a[Le]=ye,y[Le]=ye)}else{const ye=Md(w,s,k+re,$),Le=Md(w,s,k,k+re),Ye=ye>=0&&a[ye],rt=Le>=0&&a[Le];if(h&&!rt||!h&&!Ye){Di(Gn(x,y),f,w);const gt=function sb(i,s,a,c,h){const f=new so(i,a,zp);return f.multi=[],f.index=s,f.componentProviders=0,xd(f,h,c&&!a),f}(h?Wy:ib,a.length,h,c,I);!h&&rt&&(a[Le].providerFactory=gt),dg(f,i,s.length,0),s.push(w),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),a.push(gt),y.push(gt)}else dg(f,i,ye>-1?ye:Le,xd(a[h?Le:ye],I,!h&&c));!h&&c&&rt&&a[Le].componentProviders++}}}function dg(i,s,a,c){const h=lc(s),f=function a1(i){return!!i.useClass}(s);if(h||f){const I=(f?X(s.useClass):s).prototype.ngOnDestroy;if(I){const x=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const k=x.indexOf(a);-1===k?x.push(a,[c,I]):x[k+1].push(c,I)}else x.push(a,I)}}}function xd(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Md(i,s,a,c){for(let h=a;h<c;h++)if(s[h]===i)return h;return-1}function ib(i,s,a,c){return hg(this.multi,[])}function Wy(i,s,a,c){const h=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=lu(a,a[1],this.providerFactory.index,c);f=w.slice(0,y),hg(h,f);for(let I=y;I<w.length;I++)f.push(w[I])}else f=[],hg(h,f);return f}function hg(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Od(i,s=[]){return a=>{a.providersResolver=(c,h)=>function rb(i,s,a){const c=Bt();if(c.firstCreatePass){const h=si(i);Oi(a,c.data,c.blueprint,h,!0),Oi(s,c.data,c.blueprint,h,!1)}}(c,h?h(i):i,s)}}class fg{}class ob{resolveComponentFactory(s){throw function Yy(i){const s=Error(`No component factory found for ${G(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let gg=(()=>{class i{}return i.NULL=new ob,i})();function Qy(){return Su(Hn(),je())}function Su(i,s){return new wc(gr(i,s))}let wc=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Qy,i})();function ab(i){return i instanceof wc?i.nativeElement:i}class Jy{}let tD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function ub(){const i=je(),a=ar(Hn().index,i);return function lf(i){return i[11]}(wi(a)?a:i)}(),i})(),mg=(()=>{class i{}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:()=>null}),i})();class Rd{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const _l=new Rd("13.2.7"),cf={};function yg(i,s,a,c,h=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(wn(f)),ii(f))for(let w=10;w<f.length;w++){const I=f[w],x=I[1].firstChild;null!==x&&yg(I[1],I,x,c)}const y=a.type;if(8&y)yg(i,s,a.child,c);else if(32&y){const w=dp(a,s);let I;for(;I=w();)c.push(I)}else if(16&y){const w=N_(s,a);if(Array.isArray(w))c.push(...w);else{const I=Eh(s[16]);yg(I[1],I,w,c,!0)}}a=h?a.projectionNext:a.next}return c}class bc{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return yg(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ii(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Om(s,c),Aa(a,c))}this._attachedToViewContainer=!1}Rm(this._lView[1],this._lView)}onDestroy(s){Jm(this._lView[1],this._lView,null,s)}markForCheck(){_u(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ty(this._lView[1],this._lView,this.context)}checkNoChanges(){!function c0(i,s,a){to(!0);try{ty(i,s,a)}finally{to(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function A_(i,s){yp(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=s}}class Pd extends bc{constructor(s){super(s),this._view=s}detectChanges(){kp(this._view)}checkNoChanges(){!function kC(i){to(!0);try{kp(i)}finally{to(!1)}}(this._view)}get context(){return null}}class vg extends gg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=yt(s);return new xu(a,this.ngModule)}}function wl(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class xu extends fg{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function B_(i){return i.map(U_).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return wl(this.componentDef.inputs)}get outputs(){return wl(this.componentDef.outputs)}create(s,a,c,h){const f=(h=h||this.ngModule)?function nD(i,s){return{get:(a,c,h)=>{const f=i.get(a,cf,h);return f!==cf||c===cf?f:s.get(a,c,h)}}}(s,h.injector):s,y=f.get(Jy,Os),w=f.get(mg,null),I=y.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=c?function Sp(i,s,a){if(Cn(i))return i.selectRootElement(s,a===Ut.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(I,c,this.componentDef.encapsulation):Mm(y.createRenderer(null,this.componentDef),x,function lb(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(x)),$=this.componentDef.onPush?576:528,re=function jC(i,s){return{components:[],scheduler:i||tC,clean:d0,playerHandler:s||null,flags:0}}(),ye=pl(0,null,null,1,0,null,null,null,null,null),Le=ad(null,ye,re,$,null,null,y,I,w,f);let Ye,rt;gs(Le);try{const gt=function BC(i,s,a,c,h,f){const y=a[1];a[20]=i;const I=kh(y,20,2,"#host",null),x=I.mergedAttrs=s.hostAttrs;null!==x&&(iy(I,x,!0),null!==i&&(ft(h,i,x),null!==I.classes&&yu(h,i,I.classes),null!==I.styles&&Bm(h,i,I.styles)));const k=c.createRenderer(i,s),$=ad(a,oc(s),null,s.onPush?64:16,a[20],I,c,k,f||null,null);return y.firstCreatePass&&(Di(Gn(I,a),y,s.type),r0(y,I),Xm(I,a.length,1)),Pp(a,$),a[20]=$}(k,this.componentDef,Le,y,I);if(k)if(c)ft(I,k,["ng-version",_l.full]);else{const{attrs:$e,classes:bt}=function j_(i){const s=[],a=[];let c=1,h=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===h?""!==f&&s.push(f,i[++c]):8===h&&a.push(f);else{if(!ci(h))break;h=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);$e&&ft(I,k,$e),bt&&bt.length>0&&yu(I,k,bt.join(" "))}if(rt=$n(ye,20),void 0!==a){const $e=rt.projection=[];for(let bt=0;bt<this.ngContentSelectors.length;bt++){const ln=a[bt];$e.push(null!=ln?Array.from(ln):null)}}Ye=function A0(i,s,a,c,h){const f=a[1],y=function TC(i,s,a){const c=Hn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ey(i,c,s,ud(i,s,1,null),a));const h=lu(s,i,c.directiveStart,c);Vi(h,s);const f=gr(c,s);return f&&Vi(f,s),h}(f,a,s);if(c.components.push(y),i[8]=y,h&&h.forEach(I=>I(y,s)),s.contentQueries){const I=Hn();s.contentQueries(1,y,I.directiveStart)}const w=Hn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(es(w.index),Rp(a[1],w,0,w.directiveStart,w.directiveEnd,s),AC(s,y)),y}(gt,this.componentDef,Le,re,[h1]),ld(ye,Le,null)}finally{ro()}return new _g(this.componentType,Ye,Su(rt,Le),Le,rt)}}class _g extends class Ky{}{constructor(s,a,c,h,f){super(),this.location=c,this._rootLView=h,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new Pd(h),this.componentType=s}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Ec{}class sr{}const Ou=new Map;class hb extends Ec{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vg(this);const c=Kt(s);this._bootstrapComponents=Qo(c.bootstrap),this._r3Injector=y0(s,a,[{provide:Ec,useValue:this},{provide:gg,useValue:this.componentFactoryResolver}],G(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Xo.THROW_IF_NOT_FOUND,c=ct.Default){return s===Xo||s===Ec||s===oy?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ev extends sr{constructor(s){super(),this.moduleType=s,null!==Kt(s)&&function df(i){const s=new Set;!function a(c){const h=Kt(c,!0),f=h.id;null!==f&&(function cb(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${G(s)} vs ${G(s.name)}`)}(f,Ou.get(f),c),Ou.set(f,c));const y=Qo(h.imports);for(const w of y)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new hb(this.moduleType,s)}}function fb(i,s,a){const c=ur()+i,h=je();return h[c]===qt?na(h,c,a?s.call(a):s()):function Gh(i,s){return i[s]}(h,c)}function Nd(i,s){const a=i[s];return a===qt?void 0:a}function rv(i,s){const a=Bt();let c;const h=i+20;a.firstCreatePass?(c=function vb(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}}(s,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const f=c.factory||(c.factory=oi(c.type)),y=Ft(zp);try{const w=cr(!1),I=f();return cr(w),function O0(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,je(),h,I),I}finally{Ft(y)}}function Ig(i,s,a){const c=i+20,h=je(),f=Qi(h,c);return Ru(h,c)?function yb(i,s,a,c,h,f){const y=s+a;return di(i,y,h)?na(i,y+1,f?c.call(f,h):c(h)):Nd(i,y+1)}(h,ur(),s,f.transform,a,f):f.transform(a)}function _b(i,s,a,c){const h=i+20,f=je(),y=Qi(f,h);return Ru(f,h)?function tv(i,s,a,c,h,f,y){const w=s+a;return Na(i,w,h,f)?na(i,w+2,y?c.call(y,h,f):c(h,f)):Nd(i,w+2)}(f,ur(),s,y.transform,a,c,y):y.transform(a,c)}function Ru(i,s){return i[1].data[s].pure}function ff(i){return s=>{setTimeout(i,void 0,s)}}const ia=class Tg extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var h,f,y;let w=s,I=a||(()=>null),x=c;if(s&&"object"==typeof s){const $=s;w=null===(h=$.next)||void 0===h?void 0:h.bind($),I=null===(f=$.error)||void 0===f?void 0:f.bind($),x=null===(y=$.complete)||void 0===y?void 0:y.bind($)}this.__isAsync&&(I=ff(I),w&&(w=ff(w)),x&&(x=ff(x)));const k=super.subscribe({next:w,error:I,complete:x});return s instanceof R.w0&&s.add(k),k}};function pf(){return this._results[hd()]()}class Cc{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=hd(),c=Cc.prototype;c[a]||(c[a]=pf)}get changes(){return this._changes||(this._changes=new ia)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const h=Yr(s);(this._changesDetected=!function uh(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let h=i[c],f=s[c];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let gf=(()=>{class i{}return i.__NG_ELEMENT_ID__=lD,i})();const Zr=gf,wb=class extends Zr{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=ad(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(a)),ld(a,c,s),new bc(c)}};function lD(){return Ag(Hn(),je())}function Ag(i,s){return 4&i.type?new wb(s,i,Su(i,s)):null}let Sg=(()=>{class i{}return i.__NG_ELEMENT_ID__=cD,i})();function cD(){return ov(Hn(),je())}const bb=Sg,iv=class extends bb{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Su(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){const s=No(this._hostTNode,this._hostLView);if(O(s)){const a=dt(s,this._hostLView),c=Q(s);return new Uo(a[1].data[c+8],a)}return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=sv(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const h=s.createEmbeddedView(a||{});return this.insert(h,c),h}createComponent(s,a,c,h,f){const y=s&&!function du(i){return"function"==typeof i}(s);let w;if(y)w=a;else{const $=a||{};w=$.index,c=$.injector,h=$.projectableNodes,f=$.ngModuleRef}const I=y?s:new xu(yt(s)),x=c||this.parentInjector;if(!f&&null==I.ngModule){const re=(y?x:this.parentInjector).get(Ec,null);re&&(f=re)}const k=I.create(x,h,void 0,f);return this.insert(k.hostView,w),k}insert(s,a){const c=s._lView,h=c[1];if(function ha(i){return ii(i[3])}(c)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const $=c[3],re=new iv($,$[6],$[3]);re.detach(re.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function pp(i,s,a,c){const h=10+c,f=a.length;c>0&&(a[h-1][4]=s),c<f-10?(s[4]=a[h],Ta(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function td(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(h,c,y,f);const w=Lm(f,y),I=c[11],x=Dh(I,y[7]);return null!==x&&function aC(i,s,a,c,h,f){c[0]=h,c[6]=s,yp(i,c,a,1,h,f)}(h,y[6],I,c,x,w),s.attachToViewContainerRef(),Ta(Fd(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=sv(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Om(this._lContainer,a);c&&(Aa(Fd(this._lContainer),a),Rm(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Om(this._lContainer,a);return c&&null!=Aa(Fd(this._lContainer),a)?new bc(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function sv(i){return i[8]}function Fd(i){return i[8]||(i[8]=[])}function ov(i,s){let a;const c=s[i.index];if(ii(c))a=c;else{let h;if(8&i.type)h=wn(c);else{const f=s[11];h=f.createComment("");const y=gr(i,s);js(f,Dh(f,y),h,function cC(i,s){return Cn(i)?i.nextSibling(s):s.nextSibling}(f,y),!1)}s[i.index]=a=o0(c,s,h,i),Pp(s,a)}return new iv(a,i,s)}class mf{constructor(s){this.queryList=s,this.matches=null}clone(){return new mf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ic{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);h.push(this.queries[y.indexInDeclarationView].clone())}return new Ic(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==El(s,a).matches&&this.queries[a].setDirty()}}class av{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class yf{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,h);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new yf(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Ld{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Ld(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const f=c[h];this.matchTNodeWithReadOption(s,a,Cb(a,f)),this.matchTNodeWithReadOption(s,a,Ea(a,s,f,!1,!1))}else c===gf?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ea(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===wc||h===Sg||h===gf&&4&a.type)this.addMatch(a.index,-2);else{const f=Ea(a,s,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Cb(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function xg(i,s,a,c){return-1===a?function uv(i,s){return 11&i.type?Su(i,s):4&i.type?Ag(i,s):null}(s,i):-2===a?function dD(i,s,a){return a===wc?Su(s,i):a===gf?Ag(s,i):a===Sg?ov(s,i):void 0}(i,s,c):lu(i,i[1],a,s)}function lv(i,s,a,c){const h=s[19].queries[c];if(null===h.matches){const f=i.data,y=a.matches,w=[];for(let I=0;I<y.length;I+=2){const x=y[I];w.push(x<0?null:xg(s,f[x],y[I+1],a.metadata.read))}h.matches=w}return h.matches}function Dc(i,s,a,c){const h=i.queries.getByIndex(a),f=h.matches;if(null!==f){const y=lv(i,s,h,a);for(let w=0;w<f.length;w+=2){const I=f[w];if(I>0)c.push(y[w/2]);else{const x=f[w+1],k=s[-I];for(let $=10;$<k.length;$++){const re=k[$];re[17]===re[3]&&Dc(re[1],re,x,c)}if(null!==k[9]){const $=k[9];for(let re=0;re<$.length;re++){const ye=$[re];Dc(ye[1],ye,x,c)}}}}}return c}function cv(i){const s=je(),a=Bt(),c=Ro();pa(c+1);const h=El(a,c);if(i.dirty&&Js(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const f=h.crossesNgTemplate?Dc(a,s,c,[]):lv(a,s,h,c);i.reset(f,ab),i.notifyOnChanges()}return!0}return!1}function dv(i,s,a){const c=Bt();c.firstCreatePass&&(hv(c,new av(i,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),vf(c,je(),s)}function Mg(i,s,a,c){const h=Bt();if(h.firstCreatePass){const f=Hn();hv(h,new av(s,a,c),f.index),function Db(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}vf(h,je(),a)}function Og(){return function Ib(i,s){return i[19].queries[s].queryList}(je(),Ro())}function vf(i,s,a){const c=new Cc(4==(4&a));Jm(i,s,c,c.destroy),null===s[19]&&(s[19]=new Ic),s[19].queries.push(new mf(c))}function hv(i,s,a){null===i.queries&&(i.queries=new yf),i.queries.track(new Ld(s,a))}function El(i,s){return i.queries.getByIndex(s)}const Lt=Bo("Input",i=>({bindingPropertyName:i}));function nt(...i){}const kg=new rr("Application Initializer");let Nu=(()=>{class i{constructor(a){this.appInits=a,this.resolve=nt,this.reject=nt,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(X0(f))a.push(f);else if(ew(f)){const y=new Promise((w,I)=>{f.subscribe({complete:w,error:I})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Pe(kg,8))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const wf=new rr("AppId",{providedIn:"root",factory:function jd(){return`${Ng()}${Ng()}${Ng()}`}});function Ng(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Is=new rr("Platform Initializer"),Fg=new rr("Platform ID"),_v=new rr("appBootstrapListener");let Fu=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac}),i})();const Te=new rr("LocaleId",{providedIn:"root",factory:()=>At(Te,ct.Optional|ct.SkipSelf)||function wv(){return"undefined"!=typeof $localize&&$localize.locale||gc}()}),Lg=new rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Il{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let ED=(()=>{class i{compileModuleSync(a){return new ev(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=Qo(Kt(a).declarations).reduce((y,w)=>{const I=yt(w);return I&&y.push(new xu(I)),y},[]);return new Il(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bv=(()=>Promise.resolve(0))();function Ev(i){"undefined"==typeof Zone?bv.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class hr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ia(!1),this.onMicrotaskEmpty=new ia(!1),this.onStable=new ia(!1),this.onError=new ia(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function ID(){let i=St.requestAnimationFrame,s=St.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Dr(i){const s=()=>{!function Bb(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(St,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,$d(i),i.isCheckStableRunning=!0,Lu(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),$d(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,f,y,w)=>{try{return gi(i),a.invokeTask(h,f,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Fn(i)}},onInvoke:(a,c,h,f,y,w,I)=>{try{return gi(i),a.invoke(h,f,y,w,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),Fn(i)}},onHasTask:(a,c,h,f)=>{a.hasTask(h,f),c===h&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,$d(i),Lu(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,h,f)=>(a.handleError(h,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(hr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,h){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+h,s,Ub,nt,nt);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const Ub={};function Lu(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function $d(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function gi(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Fn(i){i._nesting--,Lu(i)}class jb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ia,this.onMicrotaskEmpty=new ia,this.onStable=new ia,this.onError=new ia}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,h){return s.apply(a,c)}}let Mc=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hr.assertNotInAngularZone(),Ev(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ev(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Pe(hr))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac}),i})(),Ds=(()=>{class i{constructor(){this._applications=new Map,Cv.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Cv.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac}),i})();class DD{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function ti(i){Cv=i}let mi,Cv=new DD;const Dv=new rr("AllowMultipleToken");class bf{constructor(s,a){this.name=s,this.token=a}}function ja(i,s,a=[]){const c=`Platform: ${s}`,h=new rr(c);return(f=[])=>{let y=Tv();if(!y||y.injector.get(Dv,!1))if(i)i(a.concat(f).concat({provide:h,useValue:!0}));else{const w=a.concat(f).concat({provide:h,useValue:!0},{provide:bu,useValue:"platform"});!function TD(i){if(mi&&!mi.destroyed&&!mi.injector.get(Dv,!1))throw new Ae(400,"");mi=i.get(Vu);const s=i.get(Is,null);s&&s.forEach(a=>a())}(Xo.create({providers:w,name:c}))}return function Ef(i){const s=Tv();if(!s)throw new Ae(401,"");return s}()}}function Tv(){return mi&&!mi.destroyed?mi:null}let Vu=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const w=function Bg(i,s){let a;return a="noop"===i?new jb:("zone.js"===i?void 0:i)||new hr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),I=[{provide:hr,useValue:w}];return w.run(()=>{const x=Xo.create({providers:I,parent:this.injector,name:a.moduleType.name}),k=a.create(x),$=k.injector.get(cp,null);if(!$)throw new Ae(402,"");return w.runOutsideAngular(()=>{const re=w.onError.subscribe({next:ye=>{$.handleError(ye)}});k.onDestroy(()=>{$a(this._modules,k),re.unsubscribe()})}),function Oc(i,s,a){try{const c=a();return X0(c)?c.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}($,w,()=>{const re=k.injector.get(Nu);return re.runInitializers(),re.donePromise.then(()=>(function Ny(i){$t(i,"Expected localeId to be defined"),"string"==typeof i&&(ky=i.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Te,gc)||gc),this._moduleDoBootstrap(k),k))})})}bootstrapModule(a,c=[]){const h=sa({},c);return function Tr(i,s,a){const c=new ev(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const c=a.injector.get(Rc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ae(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Pe(Xo))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac}),i})();function sa(i,s){return Array.isArray(s)?s.reduce(sa,i):Object.assign(Object.assign({},i),s)}let Rc=(()=>{class i{constructor(a,c,h,f,y){this._zone=a,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=f,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new A.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),I=new A.y(x=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{hr.assertNotInAngularZone(),Ev(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{hr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{k.unsubscribe(),$.unsubscribe()}});this.isStable=(0,L.T)(w,I.pipe((0,B.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Ae(405,"");let h;h=a instanceof fg?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const f=function Iv(i){return i.isBoundToModule}(h)?void 0:this._injector.get(Ec),w=h.create(Xo.NULL,[],c||h.selector,f),I=w.location.nativeElement,x=w.injector.get(Mc,null),k=x&&w.injector.get(Ds);return x&&k&&k.registerApplication(I,x),w.onDestroy(()=>{this.detachView(w.hostView),$a(this.components,w),k&&k.unregisterApplication(I)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;$a(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(_v,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Pe(hr),Pe(Xo),Pe(cp),Pe(gg),Pe(Nu))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function $a(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let jg=!0,Dl=!1;function Sv(){return Dl=!0,jg}function Cf(){if(Dl)throw new Error("Cannot enable prod mode after platform setup.");jg=!1}let Df=(()=>{class i{}return i.__NG_ELEMENT_ID__=$b,i})();function $b(i){return function xD(i,s,a){if(aa(i)&&!a){const c=ar(i.index,s);return new bc(c,c)}return 47&i.type?new bc(s[16],s):null}(Hn(),je(),16==(16&i))}class zb{constructor(){}supports(s){return Zh(s)}create(s){return new Tl(s)}}const kD=(i,s)=>s;class Tl{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||kD}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,h=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<Ov(c,h,f)?a:c,w=Ov(y,h,f),I=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{f||(f=[]);const x=w-h,k=I-h;if(x!=k){for(let re=0;re<x;re++){const ye=re<f.length?f[re]:f[re]=0,Le=ye+re;k<=Le&&Le<x&&(f[re]=ye+1)}f[y.previousIndex]=k-x}}w!==I&&s(y,w,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Zh(s))throw new Ae(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)f=s[w],y=this._trackByFn(w,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,w)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,w),c=!0),a=a._next}else h=0,function ss(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[hd()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,w=>{y=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,w,y,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,h)):s=this._addAfter(new zd(a,c),f,h),s}_verifyReinsertion(s,a,c,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Mv),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class zd{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ND{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Mv{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new ND,this.map.set(a,c)),c.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ov(i,s,a){const c=i.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+s+h}class Ha{constructor(){}supports(s){return s instanceof Map||fd(s)}create(){return new qb}}class qb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||fd(s)))throw new Ae(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const f=h._prev,y=h._next;return f&&(f._next=y),y&&(y._prev=f),h._next=null,h._prev=null,h}const c=new qd(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class qd{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wb(){return new Af([new zb])}let Af=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Wb()),deps:[[i,new fu,new ns]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Ae(901,"")}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:Wb}),i})();function Gg(){return new Al([new Ha])}let Al=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Gg()),deps:[[i,new fu,new ns]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(c)return c;throw new Ae(901,"")}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:Gg}),i})();const Rv=ja(null,"core",[{provide:Fg,useValue:"unknown"},{provide:Vu,deps:[Xo]},{provide:Ds,deps:[]},{provide:Fu,deps:[]}]);let Jb=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Pe(Rc))},i.\u0275mod=Ie({type:i}),i.\u0275inj=Gt({}),i})()},3942:(Ze,H,M)=>{"use strict";M.d(H,{Z:()=>Ae});var u=M(2090),R=M(4859),A=M(9681),L=M(1877);class B{constructor(_e,Ee){this._delegate=_e,this.firebase=Ee,(0,A._addComponent)(_e,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,A.deleteApp)(this._delegate)))}_getService(_e,Ee=A._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(_e);return!Ve.isInitialized()&&"EXPLICIT"===(null===(Ue=Ve.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:Ee})}_removeServiceInstance(_e,Ee=A._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(Ee)}_addComponent(_e){(0,A._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,A._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function le(){const Je=function G(Je){const _e={},Ee={__esModule:!0,initializeApp:function ke(se,U={}){const ve=A.initializeApp(se,U);if((0,u.r3)(_e,ve.name))return _e[ve.name];const J=new Je(ve,Ee);return _e[ve.name]=J,J},app:Ve,registerVersion:A.registerVersion,setLogLevel:A.setLogLevel,onLog:A.onLog,apps:null,SDK_VERSION:A.SDK_VERSION,INTERNAL:{registerComponent:function ge(se){const U=se.name,ve=U.replace("-compat","");if(A._registerComponent(se)&&"PUBLIC"===se.type){const J=(ne=Ve())=>{if("function"!=typeof ne[ve])throw W.create("invalid-app-argument",{appName:U});return ne[ve]()};void 0!==se.serviceProps&&(0,u.ZB)(J,se.serviceProps),Ee[ve]=J,Je.prototype[ve]=function(...ne){return this._getService.bind(this,U).apply(this,se.multipleInstances?ne:[])}}return"PUBLIC"===se.type?Ee[ve]:null},removeApp:function Ue(se){delete _e[se]},useAsService:function Ne(se,U){return"serverAuth"===U?null:U},modularAPIs:A}};function Ve(se){if(!(0,u.r3)(_e,se=se||A._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:se});return _e[se]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function Fe(){return Object.keys(_e).map(se=>_e[se])}}),Ve.App=Je,Ee}(B);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function _e(Ee){(0,u.ZB)(Je,Ee)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Je}(),K=new L.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=z;!function De(Je){(0,A.registerVersion)("@firebase/app-compat","0.1.27",Je)}()},9681:(Ze,H,M)=>{"use strict";M.r(H),M.d(H,{FirebaseError:()=>L.ZR,SDK_VERSION:()=>Vr,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>dn,_addOrOverwriteComponent:()=>Wt,_apps:()=>Nt,_clearComponents:()=>Nn,_components:()=>cn,_getProvider:()=>Gt,_registerComponent:()=>xt,_removeServiceInstance:()=>sn,deleteApp:()=>ct,getApp:()=>qn,getApps:()=>xr,initializeApp:()=>Ur,onLog:()=>Ft,registerVersion:()=>On,setLogLevel:()=>fr});var u=M(5861),R=M(4859),A=M(1877),L=M(2090),B=M(8766);class Z{constructor(me){this.container=me}getPlatformInfoString(){return this.container.getProviders().map(He=>{if(function W(Y){const me=Y.getComponent();return"VERSION"===(null==me?void 0:me.type)}(He)){const st=He.getImmediate();return`${st.library}/${st.version}`}return null}).filter(He=>He).join(" ")}}const G="@firebase/app",z=new A.Yd("@firebase/app"),$t="[DEFAULT]",Xe={[G]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nt=new Map,cn=new Map;function dn(Y,me){try{Y.container.addComponent(me)}catch(He){z.debug(`Component ${me.name} failed to register with FirebaseApp ${Y.name}`,He)}}function Wt(Y,me){Y.container.addOrOverwriteComponent(me)}function xt(Y){const me=Y.name;if(cn.has(me))return z.debug(`There were multiple attempts to register component ${me}.`),!1;cn.set(me,Y);for(const He of Nt.values())dn(He,Y);return!0}function Gt(Y,me){const He=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return He&&He.triggerHeartbeat(),Y.container.getProvider(me)}function sn(Y,me,He=$t){Gt(Y,me).clearInstance(He)}function Nn(){cn.clear()}const En=new L.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ri{constructor(me,He,st){this._isDeleted=!1,this._options=Object.assign({},me),this._config=Object.assign({},He),this._name=He.name,this._automaticDataCollectionEnabled=He.automaticDataCollectionEnabled,this._container=st,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this.checkDestroyed(),this._automaticDataCollectionEnabled=me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(me){this._isDeleted=me}checkDestroyed(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}}const Vr="9.8.3";function Ur(Y,me={}){"object"!=typeof me&&(me={name:me});const He=Object.assign({name:$t,automaticDataCollectionEnabled:!1},me),st=He.name;if("string"!=typeof st||!st)throw En.create("bad-app-name",{appName:String(st)});const wt=Nt.get(st);if(wt){if((0,L.vZ)(Y,wt.options)&&(0,L.vZ)(He,wt.config))return wt;throw En.create("duplicate-app",{appName:st})}const Mt=new R.H0(st);for(const Ot of cn.values())Mt.addComponent(Ot);const vn=new ri(Y,He,Mt);return Nt.set(st,vn),vn}function qn(Y=$t){const me=Nt.get(Y);if(!me)throw En.create("no-app",{appName:Y});return me}function xr(){return Array.from(Nt.values())}function ct(Y){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(Y){const me=Y.name;Nt.has(me)&&(Nt.delete(me),yield Promise.all(Y.container.getProviders().map(He=>He.delete())),Y.isDeleted=!0)})).apply(this,arguments)}function On(Y,me,He){var st;let wt=null!==(st=Xe[Y])&&void 0!==st?st:Y;He&&(wt+=`-${He}`);const Mt=wt.match(/\s|\//),vn=me.match(/\s|\//);if(Mt||vn){const Ot=[`Unable to register library "${wt}" with version "${me}":`];return Mt&&Ot.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),Mt&&vn&&Ot.push("and"),vn&&Ot.push(`version name "${me}" contains illegal characters (whitespace or "/")`),void z.warn(Ot.join(" "))}xt(new R.wA(`${wt}-version`,()=>({library:wt,version:me}),"VERSION"))}function Ft(Y,me){if(null!==Y&&"function"!=typeof Y)throw En.create("invalid-log-argument");(0,A.Am)(Y,me)}function fr(Y){(0,A.Ub)(Y)}const _t="firebase-heartbeat-store";let Sn=null;function Or(){return Sn||(Sn=(0,B.X3)("firebase-heartbeat-database",1,{upgrade:(Y,me)=>{0===me&&Y.createObjectStore(_t)}}).catch(Y=>{throw En.create("storage-open",{originalErrorMessage:Y.message})})),Sn}function it(){return(it=(0,u.Z)(function*(Y){var me;try{return(yield Or()).transaction(_t).objectStore(_t).get(Rr(Y))}catch(He){throw En.create("storage-get",{originalErrorMessage:null===(me=He)||void 0===me?void 0:me.message})}})).apply(this,arguments)}function et(Y,me){return zr.apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(Y,me){var He;try{const wt=(yield Or()).transaction(_t,"readwrite");return yield wt.objectStore(_t).put(me,Rr(Y)),wt.done}catch(st){throw En.create("storage-set",{originalErrorMessage:null===(He=st)||void 0===He?void 0:He.message})}})).apply(this,arguments)}function Rr(Y){return`${Y.name}!${Y.options.appId}`}class Un{constructor(me){this.container=me,this._heartbeatsCache=null;const He=this.container.getProvider("app").getImmediate();this._storage=new oe(He),this._heartbeatsCachePromise=this._storage.read().then(st=>(this._heartbeatsCache=st,st))}triggerHeartbeat(){var me=this;return(0,u.Z)(function*(){const st=me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=yn();if(null===me._heartbeatsCache&&(me._heartbeatsCache=yield me._heartbeatsCachePromise),me._heartbeatsCache.lastSentHeartbeatDate!==wt&&!me._heartbeatsCache.heartbeats.some(Mt=>Mt.date===wt))return me._heartbeatsCache.heartbeats.push({date:wt,agent:st}),me._heartbeatsCache.heartbeats=me._heartbeatsCache.heartbeats.filter(Mt=>{const vn=new Date(Mt.date).valueOf();return Date.now()-vn<=2592e6}),me._storage.overwrite(me._heartbeatsCache)})()}getHeartbeatsHeader(){var me=this;return(0,u.Z)(function*(){if(null===me._heartbeatsCache&&(yield me._heartbeatsCachePromise),null===me._heartbeatsCache||0===me._heartbeatsCache.heartbeats.length)return"";const He=yn(),{heartbeatsToSend:st,unsentEntries:wt}=function ee(Y,me=1024){const He=[];let st=Y.slice();for(const wt of Y){const Mt=He.find(vn=>vn.agent===wt.agent);if(Mt){if(Mt.dates.push(wt.date),ce(He)>me){Mt.dates.pop();break}}else if(He.push({agent:wt.agent,dates:[wt.date]}),ce(He)>me){He.pop();break}st=st.slice(1)}return{heartbeatsToSend:He,unsentEntries:st}}(me._heartbeatsCache.heartbeats),Mt=(0,L.L)(JSON.stringify({version:2,heartbeats:st}));return me._heartbeatsCache.lastSentHeartbeatDate=He,wt.length>0?(me._heartbeatsCache.heartbeats=wt,yield me._storage.overwrite(me._heartbeatsCache)):(me._heartbeatsCache.heartbeats=[],me._storage.overwrite(me._heartbeatsCache)),Mt})()}}function yn(){return(new Date).toISOString().substring(0,10)}class oe{constructor(me){this.app=me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,L.hl)()&&(0,L.eu)().then(()=>!0).catch(()=>!1)})()}read(){var me=this;return(0,u.Z)(function*(){return(yield me._canUseIndexedDBPromise)&&(yield function Ut(Y){return it.apply(this,arguments)}(me.app))||{heartbeats:[]}})()}overwrite(me){var He=this;return(0,u.Z)(function*(){var st;if(yield He._canUseIndexedDBPromise){const Mt=yield He.read();return et(He.app,{lastSentHeartbeatDate:null!==(st=me.lastSentHeartbeatDate)&&void 0!==st?st:Mt.lastSentHeartbeatDate,heartbeats:me.heartbeats})}})()}add(me){var He=this;return(0,u.Z)(function*(){var st;if(yield He._canUseIndexedDBPromise){const Mt=yield He.read();return et(He.app,{lastSentHeartbeatDate:null!==(st=me.lastSentHeartbeatDate)&&void 0!==st?st:Mt.lastSentHeartbeatDate,heartbeats:[...Mt.heartbeats,...me.heartbeats]})}})()}}function ce(Y){return(0,L.L)(JSON.stringify({version:2,heartbeats:Y})).length}!function Oe(Y){xt(new R.wA("platform-logger",me=>new Z(me),"PRIVATE")),xt(new R.wA("heartbeat",me=>new Un(me),"PRIVATE")),On(G,"0.7.26",Y),On(G,"0.7.26","esm2017"),On("fire-js","")}("")},4859:(Ze,H,M)=>{"use strict";M.d(H,{wA:()=>A,H0:()=>G});var u=M(5861),R=M(2090);class A{constructor(z,K,X){this.name=z,this.instanceFactory=K,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const L="[DEFAULT]";class B{constructor(z,K){this.name=z,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const K=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(K)){const X=new R.BH;if(this.instancesDeferred.set(K,X),this.isInitialized(K)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:K});Se&&X.resolve(Se)}catch(Se){}}return this.instancesDeferred.get(K).promise}getImmediate(z){var K;const X=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),Se=null!==(K=null==z?void 0:z.optional)&&void 0!==K&&K;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(De){if(Se)return null;throw De}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function W(le){return"EAGER"===le.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:L})}catch(K){}for(const[K,X]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(K);try{const De=this.getOrInitializeService({instanceIdentifier:Se});X.resolve(De)}catch(De){}}}}clearInstance(z=L){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,u.Z)(function*(){const K=Array.from(z.instances.values());yield Promise.all([...K.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...K.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=L){return this.instances.has(z)}getOptions(z=L){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:K={}}=z,X=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:X,options:K});for(const[De,Ae]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(De)&&Ae.resolve(Se);return Se}onInit(z,K){var X;const Se=this.normalizeInstanceIdentifier(K),De=null!==(X=this.onInitCallbacks.get(Se))&&void 0!==X?X:new Set;De.add(z),this.onInitCallbacks.set(Se,De);const Ae=this.instances.get(Se);return Ae&&z(Ae,Se),()=>{De.delete(z)}}invokeOnInitCallbacks(z,K){const X=this.onInitCallbacks.get(K);if(X)for(const Se of X)try{Se(z,K)}catch(De){}}getOrInitializeService({instanceIdentifier:z,options:K={}}){let X=this.instances.get(z);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(le=z,le===L?void 0:le),options:K}),this.instances.set(z,X),this.instancesOptions.set(z,K),this.invokeOnInitCallbacks(X,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,X)}catch(Se){}var le;return X||null}normalizeInstanceIdentifier(z=L){return this.component?this.component.multipleInstances?z:L:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class G{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const K=this.getProvider(z.name);if(K.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);K.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const K=new B(z,this);return this.providers.set(z,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(Ze,H,M)=>{"use strict";M.d(H,{in:()=>R,Yd:()=>W,Ub:()=>G,Am:()=>le});const u=[];var R=(()=>{return(z=R||(R={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",R;var z})();const A={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},L=R.INFO,B={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},Z=(z,K,...X)=>{if(K<z.logLevel)return;const Se=(new Date).toISOString(),De=B[K];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[De](`[${Se}]  ${z.name}:`,...X)};class W{constructor(K){this.name=K,this._logLevel=L,this._logHandler=Z,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in R))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?A[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...K),this._logHandler(this,R.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...K),this._logHandler(this,R.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,R.INFO,...K),this._logHandler(this,R.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,R.WARN,...K),this._logHandler(this,R.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...K),this._logHandler(this,R.ERROR,...K)}}function G(z){u.forEach(K=>{K.setLogLevel(z)})}function le(z,K){for(const X of u){let Se=null;K&&K.level&&(Se=A[K.level]),X.userLogHandler=null===z?null:(De,Ae,...Je)=>{const _e=Je.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch(Ue){return null}}).filter(Ee=>Ee).join(" ");Ae>=(null!=Se?Se:De.logLevel)&&z({level:R[Ae].toLowerCase(),message:_e,args:Je,type:De.name})}}}},8766:(Ze,H,M)=>{"use strict";M.d(H,{Lj:()=>ke,X3:()=>Ve});var u=M(5861);let A,L;const W=new WeakMap,G=new WeakMap,le=new WeakMap,z=new WeakMap,K=new WeakMap;let De={get(U,ve,J){if(U instanceof IDBTransaction){if("done"===ve)return G.get(U);if("objectStoreNames"===ve)return U.objectStoreNames||le.get(U);if("store"===ve)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return Ee(U[ve])},set:(U,ve,J)=>(U[ve]=J,!0),has:(U,ve)=>U instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in U};function _e(U){return"function"==typeof U?function Je(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...ve){return U.apply(Ue(this),ve),Ee(W.get(this))}:function(...ve){return Ee(U.apply(Ue(this),ve))}:function(ve,...J){const ne=U.call(Ue(this),ve,...J);return le.set(ne,ve.sort?ve.sort():[ve]),Ee(ne)}}(U):(U instanceof IDBTransaction&&function Se(U){if(G.has(U))return;const ve=new Promise((J,ne)=>{const ue=()=>{U.removeEventListener("complete",de),U.removeEventListener("error",be),U.removeEventListener("abort",be)},de=()=>{J(),ue()},be=()=>{ne(U.error||new DOMException("AbortError","AbortError")),ue()};U.addEventListener("complete",de),U.addEventListener("error",be),U.addEventListener("abort",be)});G.set(U,ve)}(U),((U,ve)=>ve.some(J=>U instanceof J))(U,function B(){return A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,De):U)}function Ee(U){if(U instanceof IDBRequest)return function X(U){const ve=new Promise((J,ne)=>{const ue=()=>{U.removeEventListener("success",de),U.removeEventListener("error",be)},de=()=>{J(Ee(U.result)),ue()},be=()=>{ne(U.error),ue()};U.addEventListener("success",de),U.addEventListener("error",be)});return ve.then(J=>{J instanceof IDBCursor&&W.set(J,U)}).catch(()=>{}),K.set(ve,U),ve}(U);if(z.has(U))return z.get(U);const ve=_e(U);return ve!==U&&(z.set(U,ve),K.set(ve,U)),ve}const Ue=U=>K.get(U);function Ve(U,ve,{blocked:J,upgrade:ne,blocking:ue,terminated:de}={}){const be=indexedDB.open(U,ve),ze=Ee(be);return ne&&be.addEventListener("upgradeneeded",mt=>{ne(Ee(be.result),mt.oldVersion,mt.newVersion,Ee(be.transaction))}),J&&be.addEventListener("blocked",()=>J()),ze.then(mt=>{de&&mt.addEventListener("close",()=>de()),ue&&mt.addEventListener("versionchange",()=>ue())}).catch(()=>{}),ze}function ke(U,{blocked:ve}={}){const J=indexedDB.deleteDatabase(U);return ve&&J.addEventListener("blocked",()=>ve()),Ee(J).then(()=>{})}const Fe=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],Ne=new Map;function se(U,ve){if(!(U instanceof IDBDatabase)||ve in U||"string"!=typeof ve)return;if(Ne.get(ve))return Ne.get(ve);const J=ve.replace(/FromIndex$/,""),ne=ve!==J,ue=ge.includes(J);if(!(J in(ne?IDBIndex:IDBObjectStore).prototype)||!ue&&!Fe.includes(J))return;const de=function(){var be=(0,u.Z)(function*(ze,...mt){const Qt=this.transaction(ze,ue?"readwrite":"readonly");let $t=Qt.store;return ne&&($t=$t.index(mt.shift())),(yield Promise.all([$t[J](...mt),ue&&Qt.done]))[0]});return function(mt){return be.apply(this,arguments)}}();return Ne.set(ve,de),de}!function Ae(U){De=U(De)}(U=>tO(eO({},U),{get:(ve,J,ne)=>se(ve,J)||U.get(ve,J,ne),has:(ve,J)=>!!se(ve,J)||U.has(ve,J)}))},5861:(Ze,H,M)=>{"use strict";function u(A,L,B,Z,W,G,le){try{var z=A[G](le),K=z.value}catch(X){return void B(X)}z.done?L(K):Promise.resolve(K).then(Z,W)}function R(A){return function(){var L=this,B=arguments;return new Promise(function(Z,W){var G=A.apply(L,B);function le(K){u(G,Z,W,le,z,"next",K)}function z(K){u(G,Z,W,le,z,"throw",K)}le(void 0)})}}M.d(H,{Z:()=>R})}},Ze=>{Ze(Ze.s=7396)}]);